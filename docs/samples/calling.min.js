/*! Webex JS SDK v2.54.2 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Webex=t():e.Webex=t()}(self,(()=>(()=>{var __webpack_modules__={50176:(e,t,r)=>{r(79169),r(63090),e.exports=r(63093).Array.from},70964:(e,t,r)=>{r(48901),e.exports=r(63093).Array.isArray},76216:(e,t,r)=>{r(78175),e.exports=r(63093).Date.now},23565:(e,t,r)=>{var n=r(63093),i=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},94175:(e,t,r)=>{r(56536),r(79169),r(39361),r(99228),r(90401),r(28878),r(33012),e.exports=r(63093).Map},68080:(e,t,r)=>{r(57044),e.exports=r(63093).Number.isNaN},7153:(e,t,r)=>{r(73274),e.exports=r(63093).Number.parseInt},68207:(e,t,r)=>{r(82464),e.exports=r(63093).Object.assign},25380:(e,t,r)=>{r(97660);var n=r(63093).Object;e.exports=function(e,t){return n.create(e,t)}},99848:(e,t,r)=>{r(84521);var n=r(63093).Object;e.exports=function(e,t){return n.defineProperties(e,t)}},82624:(e,t,r)=>{r(15356);var n=r(63093).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},88058:(e,t,r)=>{r(39827),e.exports=r(63093).Object.entries},36759:(e,t,r)=>{r(8638),e.exports=r(63093).Object.freeze},44221:(e,t,r)=>{r(52812);var n=r(63093).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},22991:(e,t,r)=>{r(40342),e.exports=r(63093).Object.getOwnPropertyDescriptors},65162:(e,t,r)=>{r(13418);var n=r(63093).Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},72818:(e,t,r)=>{r(15898),e.exports=r(63093).Object.getOwnPropertySymbols},87595:(e,t,r)=>{r(92810),e.exports=r(63093).Object.getPrototypeOf},15297:(e,t,r)=>{r(5338),e.exports=r(63093).Object.keys},21900:(e,t,r)=>{r(99269),e.exports=r(63093).Object.setPrototypeOf},42837:(e,t,r)=>{r(73625),e.exports=r(63093).Object.values},97186:(e,t,r)=>{r(55),e.exports=r(63093).parseFloat},16111:(e,t,r)=>{r(68785),e.exports=r(63093).parseInt},89448:(e,t,r)=>{r(56536),r(79169),r(39361),r(63723),r(36556),r(8421),e.exports=r(63093).Promise},58564:(e,t,r)=>{r(41896),e.exports=r(63093).Reflect.apply},98401:(e,t,r)=>{r(90634),e.exports=r(63093).Reflect.construct},53268:(e,t,r)=>{r(51244),e.exports=r(63093).Reflect.defineProperty},76409:(e,t,r)=>{r(16877),e.exports=r(63093).Reflect.deleteProperty},46383:(e,t,r)=>{r(39181),e.exports=r(63093).Reflect.getOwnPropertyDescriptor},42437:(e,t,r)=>{r(69805),e.exports=r(63093).Reflect.get},19414:(e,t,r)=>{r(44562),e.exports=r(63093).Reflect.ownKeys},98828:(e,t,r)=>{r(56536),r(79169),r(39361),r(6348),r(30093),r(42235),r(68572),e.exports=r(63093).Set},71922:(e,t,r)=>{r(15898),r(56536),r(52145),r(74775),e.exports=r(63093).Symbol},72974:(e,t,r)=>{r(79169),r(39361),e.exports=r(33485).f("iterator")},90446:(e,t,r)=>{e.exports=r(33485).f("toPrimitive")},53868:(e,t,r)=>{r(56536),e.exports=r(33485).f("toStringTag")},69488:(e,t,r)=>{r(56536),r(39361),r(11610),r(91877),r(20206),e.exports=r(63093).WeakMap},18679:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},86687:e=>{e.exports=function(){}},8003:e=>{e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},49226:(e,t,r)=>{var n=r(44425);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},51705:(e,t,r)=>{var n=r(26510);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},43206:(e,t,r)=>{var n=r(6303),i=r(45321),o=r(10139);e.exports=function(e){return function(t,r,a){var s,c=n(t),u=i(c.length),f=o(a,u);if(e&&r!=r){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((e||f in c)&&c[f]===r)return e||f||0;return!e&&-1}}},18485:(e,t,r)=>{var n=r(31133),i=r(65474),o=r(54922),a=r(45321),s=r(243);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,f=4==e,l=6==e,p=5==e||l,d=t||s;return function(t,s,h){for(var v,m,g=o(t),y=i(g),b=n(s,h,3),w=a(y.length),_=0,S=r?d(t,w):c?d(t,0):void 0;w>_;_++)if((p||_ in y)&&(m=b(v=y[_],_,g),e))if(r)S[_]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:S.push(v)}else if(f)return!1;return l?-1:u||f?f:S}}},33723:(e,t,r)=>{var n=r(44425),i=r(35730),o=r(23032)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},243:(e,t,r)=>{var n=r(33723);e.exports=function(e,t){return new(n(e))(t)}},98659:(e,t,r)=>{"use strict";var n=r(18679),i=r(44425),o=r(44990),a=[].slice,s={};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),c=function(){var n=r.concat(a.call(arguments));return this instanceof c?function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)}(t,n.length,n):o(t,n,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},85158:(e,t,r)=>{var n=r(47489),i=r(23032)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},47489:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},21706:(e,t,r)=>{"use strict";var n=r(56007).f,i=r(69270),o=r(561),a=r(31133),s=r(8003),c=r(26510),u=r(60354),f=r(85490),l=r(7183),p=r(97305),d=r(57010).fastKey,h=r(10069),v=p?"_s":"size",m=function(e,t){var r,n=d(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var f=e((function(e,n){s(e,f,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,null!=n&&c(n,r,e[u],e)}));return o(f.prototype,{clear:function(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=h(this,t),n=m(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[v]--}return!!n},forEach:function(e){h(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(h(this,t),e)}}),p&&n(f.prototype,"size",{get:function(){return h(this,t)[v]}}),f},def:function(e,t,r){var n,i,o=m(e,t);return o?o.v=r:(e._l=o={i:i=d(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,r){u(e,t,(function(e,r){this._t=h(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?f(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,f(1))}),r?"entries":"values",!r,!0),l(t)}}},80540:(e,t,r)=>{var n=r(85158),i=r(51705);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},77760:(e,t,r)=>{"use strict";var n=r(561),i=r(57010).getWeak,o=r(49226),a=r(44425),s=r(8003),c=r(26510),u=r(18485),f=r(3920),l=r(10069),p=u(5),d=u(6),h=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return p(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var r=g(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var u=e((function(e,n){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=n&&c(n,r,e[o],e)}));return n(u.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(l(this,t)).delete(e):r&&f(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(l(this,t)).has(e):r&&f(r,this._i)}}),u},def:function(e,t,r){var n=i(o(t),!0);return!0===n?v(e).set(t,r):n[e._i]=r,e},ufstore:v}},66924:(e,t,r)=>{"use strict";var n=r(3220),i=r(14518),o=r(57010),a=r(84930),s=r(44379),c=r(561),u=r(26510),f=r(8003),l=r(44425),p=r(8182),d=r(56007).f,h=r(18485)(0),v=r(97305);e.exports=function(e,t,r,m,g,y){var b=n[e],w=b,_=g?"set":"add",S=w&&w.prototype,E={};return v&&"function"==typeof w&&(y||S.forEach&&!a((function(){(new w).entries().next()})))?(w=t((function(t,r){f(t,w,e,"_c"),t._c=new b,null!=r&&u(r,g,t[_],t)})),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in S)||y&&"clear"==e||s(w.prototype,e,(function(r,n){if(f(this,w,e),!t&&y&&!l(r))return"get"==e&&void 0;var i=this._c[e](0===r?0:r,n);return t?this:i}))})),y||d(w.prototype,"size",{get:function(){return this._c.size}})):(w=m.getConstructor(t,e,g,_),c(w.prototype,r),o.NEED=!0),p(w,e),E[e]=w,i(i.G+i.W+i.F,E),y||m.setStrong(w,e,g),w}},63093:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},10101:(e,t,r)=>{"use strict";var n=r(56007),i=r(35831);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},31133:(e,t,r)=>{var n=r(18679);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},59359:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},97305:(e,t,r)=>{e.exports=!r(84930)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},3299:(e,t,r)=>{var n=r(44425),i=r(3220).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},75834:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},94331:(e,t,r)=>{var n=r(31304),i=r(18382),o=r(55066);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),c=o.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},14518:(e,t,r)=>{var n=r(3220),i=r(63093),o=r(31133),a=r(44379),s=r(3920),c="prototype",u=function(e,t,r){var f,l,p,d=e&u.F,h=e&u.G,v=e&u.S,m=e&u.P,g=e&u.B,y=e&u.W,b=h?i:i[t]||(i[t]={}),w=b[c],_=h?n:v?n[t]:(n[t]||{})[c];for(f in h&&(r=t),r)(l=!d&&_&&void 0!==_[f])&&s(b,f)||(p=l?_[f]:r[f],b[f]=h&&"function"!=typeof _[f]?r[f]:g&&l?o(p,n):y&&_[f]==p?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[c]=e[c],t}(p):m&&"function"==typeof p?o(Function.call,p):p,m&&((b.virtual||(b.virtual={}))[f]=p,e&u.R&&w&&!w[f]&&a(w,f,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},84930:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},26510:(e,t,r)=>{var n=r(31133),i=r(12441),o=r(92566),a=r(49226),s=r(45321),c=r(25816),u={},f={},l=e.exports=function(e,t,r,l,p){var d,h,v,m,g=p?function(){return e}:c(e),y=n(r,l,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(d=s(e.length);d>b;b++)if((m=t?y(a(h=e[b])[0],h[1]):y(e[b]))===u||m===f)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=i(v,y,h.value,t))===u||m===f)return m};l.BREAK=u,l.RETURN=f},3220:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},3920:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},44379:(e,t,r)=>{var n=r(56007),i=r(35831);e.exports=r(97305)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},588:(e,t,r)=>{var n=r(3220).document;e.exports=n&&n.documentElement},17209:(e,t,r)=>{e.exports=!r(97305)&&!r(84930)((function(){return 7!=Object.defineProperty(r(3299)("div"),"a",{get:function(){return 7}}).a}))},44990:e=>{e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},65474:(e,t,r)=>{var n=r(47489);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},92566:(e,t,r)=>{var n=r(64502),i=r(23032)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},35730:(e,t,r)=>{var n=r(47489);e.exports=Array.isArray||function(e){return"Array"==n(e)}},44425:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},12441:(e,t,r)=>{var n=r(49226);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},95415:(e,t,r)=>{"use strict";var n=r(69270),i=r(35831),o=r(8182),a={};r(44379)(a,r(23032)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},60354:(e,t,r)=>{"use strict";var n=r(34436),i=r(14518),o=r(29763),a=r(44379),s=r(64502),c=r(95415),u=r(8182),f=r(65194),l=r(23032)("iterator"),p=!([].keys&&"next"in[].keys()),d="keys",h="values",v=function(){return this};e.exports=function(e,t,r,m,g,y,b){c(r,t,m);var w,_,S,E=function(e){if(!p&&e in k)return k[e];switch(e){case d:case h:return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",R=g==h,T=!1,k=e.prototype,C=k[l]||k["@@iterator"]||g&&k[g],O=C||E(g),A=g?R?E("entries"):O:void 0,I="Array"==t&&k.entries||C;if(I&&(S=f(I.call(new e)))!==Object.prototype&&S.next&&(u(S,x,!0),n||"function"==typeof S[l]||a(S,l,v)),R&&C&&C.name!==h&&(T=!0,O=function(){return C.call(this)}),n&&!b||!p&&!T&&k[l]||a(k,l,O),s[t]=O,s[x]=v,g)if(w={values:R?O:E(h),keys:y?O:E(d),entries:A},b)for(_ in w)_ in k||o(k,_,w[_]);else i(i.P+i.F*(p||T),t,w);return w}},98661:(e,t,r)=>{var n=r(23032)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},85490:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},64502:e=>{e.exports={}},34436:e=>{e.exports=!0},57010:(e,t,r)=>{var n=r(46918)("meta"),i=r(44425),o=r(3920),a=r(56007).f,s=0,c=Object.isExtensible||function(){return!0},u=!r(84930)((function(){return c(Object.preventExtensions({}))})),f=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";f(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;f(e)}return e[n].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!o(e,n)&&f(e),e}}},9734:(e,t,r)=>{var n=r(3220),i=r(26998).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,c="process"==r(47489)(a);e.exports=function(){var e,t,r,u=function(){var n,i;for(c&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);r=function(){f.then(u)}}else r=function(){i.call(n,u)};else{var l=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),r=function(){p.data=l=!l}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},36253:(e,t,r)=>{"use strict";var n=r(18679);function i(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new i(e)}},47382:(e,t,r)=>{"use strict";var n=r(97305),i=r(31304),o=r(18382),a=r(55066),s=r(54922),c=r(65474),u=Object.assign;e.exports=!u||r(84930)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=s(e),u=arguments.length,f=1,l=o.f,p=a.f;u>f;)for(var d,h=c(arguments[f++]),v=l?i(h).concat(l(h)):i(h),m=v.length,g=0;m>g;)d=v[g++],n&&!p.call(h,d)||(r[d]=h[d]);return r}:u},69270:(e,t,r)=>{var n=r(49226),i=r(16287),o=r(75834),a=r(72596)("IE_PROTO"),s=function(){},c="prototype",u=function(){var e,t=r(3299)("iframe"),n=o.length;for(t.style.display="none",r(588).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[c][o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[c]=n(e),r=new s,s[c]=null,r[a]=e):r=u(),void 0===t?r:i(r,t)}},56007:(e,t,r)=>{var n=r(49226),i=r(17209),o=r(32548),a=Object.defineProperty;t.f=r(97305)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},16287:(e,t,r)=>{var n=r(56007),i=r(49226),o=r(31304);e.exports=r(97305)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},30826:(e,t,r)=>{var n=r(55066),i=r(35831),o=r(6303),a=r(32548),s=r(3920),c=r(17209),u=Object.getOwnPropertyDescriptor;t.f=r(97305)?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},23208:(e,t,r)=>{var n=r(6303),i=r(95733).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},95733:(e,t,r)=>{var n=r(26567),i=r(75834).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},18382:(e,t)=>{t.f=Object.getOwnPropertySymbols},65194:(e,t,r)=>{var n=r(3920),i=r(54922),o=r(72596)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},26567:(e,t,r)=>{var n=r(3920),i=r(6303),o=r(43206)(!1),a=r(72596)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(u,r)||u.push(r));return u}},31304:(e,t,r)=>{var n=r(26567),i=r(75834);e.exports=Object.keys||function(e){return n(e,i)}},55066:(e,t)=>{t.f={}.propertyIsEnumerable},70874:(e,t,r)=>{var n=r(14518),i=r(63093),o=r(84930);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},30572:(e,t,r)=>{var n=r(97305),i=r(31304),o=r(6303),a=r(55066).f;e.exports=function(e){return function(t){for(var r,s=o(t),c=i(s),u=c.length,f=0,l=[];u>f;)r=c[f++],n&&!a.call(s,r)||l.push(e?[r,s[r]]:s[r]);return l}}},74737:(e,t,r)=>{var n=r(95733),i=r(18382),o=r(49226),a=r(3220).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},23080:(e,t,r)=>{var n=r(3220).parseFloat,i=r(28685).trim;e.exports=1/n(r(58917)+"-0")!=-1/0?function(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},24049:(e,t,r)=>{var n=r(3220).parseInt,i=r(28685).trim,o=r(58917),a=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},19934:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},77116:(e,t,r)=>{var n=r(49226),i=r(44425),o=r(36253);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},35831:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},561:(e,t,r)=>{var n=r(44379);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},29763:(e,t,r)=>{e.exports=r(44379)},74573:(e,t,r)=>{"use strict";var n=r(14518),i=r(18679),o=r(31133),a=r(26510);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(r=[],t?(n=0,s=o(c,arguments[2],2),a(e,!1,(function(e){r.push(s(e,n++))}))):a(e,!1,r.push,r),new this(r))}})}},72758:(e,t,r)=>{"use strict";var n=r(14518);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},96573:(e,t,r)=>{var n=r(44425),i=r(49226),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(31133)(Function.call,r(30826).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},7183:(e,t,r)=>{"use strict";var n=r(3220),i=r(63093),o=r(56007),a=r(97305),s=r(23032)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},8182:(e,t,r)=>{var n=r(56007).f,i=r(3920),o=r(23032)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},72596:(e,t,r)=>{var n=r(5628)("keys"),i=r(46918);e.exports=function(e){return n[e]||(n[e]=i(e))}},5628:(e,t,r)=>{var n=r(63093),i=r(3220),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(34436)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},312:(e,t,r)=>{var n=r(49226),i=r(18679),o=r(23032)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},87268:(e,t,r)=>{var n=r(72579),i=r(59359);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},28685:(e,t,r)=>{var n=r(14518),i=r(59359),o=r(84930),a=r(58917),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),f=function(e,t,r){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),c=i[e]=s?t(l):a[e];r&&(i[r]=c),n(n.P+n.F*s,"String",i)},l=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},58917:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},26998:(e,t,r)=>{var n,i,o,a=r(31133),s=r(44990),c=r(588),u=r(3299),f=r(3220),l=f.process,p=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,m=0,g={},y="onreadystatechange",b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},w=function(e){b.call(e.data)};p&&d||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},d=function(e){delete g[e]},"process"==r(47489)(l)?n=function(e){l.nextTick(a(b,e,1))}:v&&v.now?n=function(e){v.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=w,n=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",w,!1)):n=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:p,clear:d}},10139:(e,t,r)=>{var n=r(72579),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},72579:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},6303:(e,t,r)=>{var n=r(65474),i=r(59359);e.exports=function(e){return n(i(e))}},45321:(e,t,r)=>{var n=r(72579),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},54922:(e,t,r)=>{var n=r(59359);e.exports=function(e){return Object(n(e))}},32548:(e,t,r)=>{var n=r(44425);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},46918:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},58411:(e,t,r)=>{var n=r(3220).navigator;e.exports=n&&n.userAgent||""},10069:(e,t,r)=>{var n=r(44425);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},10305:(e,t,r)=>{var n=r(3220),i=r(63093),o=r(34436),a=r(33485),s=r(56007).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},33485:(e,t,r)=>{t.f=r(23032)},23032:(e,t,r)=>{var n=r(5628)("wks"),i=r(46918),o=r(3220).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},25816:(e,t,r)=>{var n=r(85158),i=r(23032)("iterator"),o=r(64502);e.exports=r(63093).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},63090:(e,t,r)=>{"use strict";var n=r(31133),i=r(14518),o=r(54922),a=r(12441),s=r(92566),c=r(45321),u=r(10101),f=r(25816);i(i.S+i.F*!r(98661)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,l,p=o(e),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,y=f(p);if(m&&(v=n(v,h>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(r=new d(t=c(p.length));t>g;g++)u(r,g,m?v(p[g],g):p[g]);else for(l=y.call(p),r=new d;!(i=l.next()).done;g++)u(r,g,m?a(l,v,[i.value,g],!0):i.value);return r.length=g,r}})},48901:(e,t,r)=>{var n=r(14518);n(n.S,"Array",{isArray:r(35730)})},74296:(e,t,r)=>{"use strict";var n=r(86687),i=r(85490),o=r(64502),a=r(6303);e.exports=r(60354)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},78175:(e,t,r)=>{var n=r(14518);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},99228:(e,t,r)=>{"use strict";var n=r(21706),i=r(10069),o="Map";e.exports=r(66924)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return n.def(i(this,o),0===e?0:e,t)}},n,!0)},57044:(e,t,r)=>{var n=r(14518);n(n.S,"Number",{isNaN:function(e){return e!=e}})},73274:(e,t,r)=>{var n=r(14518),i=r(24049);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},82464:(e,t,r)=>{var n=r(14518);n(n.S+n.F,"Object",{assign:r(47382)})},97660:(e,t,r)=>{var n=r(14518);n(n.S,"Object",{create:r(69270)})},84521:(e,t,r)=>{var n=r(14518);n(n.S+n.F*!r(97305),"Object",{defineProperties:r(16287)})},15356:(e,t,r)=>{var n=r(14518);n(n.S+n.F*!r(97305),"Object",{defineProperty:r(56007).f})},8638:(e,t,r)=>{var n=r(44425),i=r(57010).onFreeze;r(70874)("freeze",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},52812:(e,t,r)=>{var n=r(6303),i=r(30826).f;r(70874)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(n(e),t)}}))},13418:(e,t,r)=>{r(70874)("getOwnPropertyNames",(function(){return r(23208).f}))},92810:(e,t,r)=>{var n=r(54922),i=r(65194);r(70874)("getPrototypeOf",(function(){return function(e){return i(n(e))}}))},5338:(e,t,r)=>{var n=r(54922),i=r(31304);r(70874)("keys",(function(){return function(e){return i(n(e))}}))},99269:(e,t,r)=>{var n=r(14518);n(n.S,"Object",{setPrototypeOf:r(96573).set})},56536:()=>{},55:(e,t,r)=>{var n=r(14518),i=r(23080);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},68785:(e,t,r)=>{var n=r(14518),i=r(24049);n(n.G+n.F*(parseInt!=i),{parseInt:i})},63723:(e,t,r)=>{"use strict";var n,i,o,a,s=r(34436),c=r(3220),u=r(31133),f=r(85158),l=r(14518),p=r(44425),d=r(18679),h=r(8003),v=r(26510),m=r(312),g=r(26998).set,y=r(9734)(),b=r(36253),w=r(19934),_=r(58411),S=r(77116),E="Promise",x=c.TypeError,R=c.process,T=R&&R.versions,k=T&&T.v8||"",C=c[E],O="process"==f(R),A=function(){},I=i=b.f,L=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(23032)("species")]=function(e){e(A,A)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==k.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;y((function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?r=n:(f&&f.enter(),r=s(n),f&&(f.exit(),a=!0)),r===t.promise?u(x("Promise-chain cycle")):(o=P(r))?o.call(r,c,u):c(r)):u(n)}catch(e){f&&!a&&f.exit(),u(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){g.call(c,(function(){var t,r,n,i=e._v,o=D(e);if(o&&(t=w((function(){O?R.emit("unhandledRejection",i,e):(r=c.onunhandledrejection)?r({promise:e,reason:i}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",i)})),e._h=O||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){g.call(c,(function(){var t;O?R.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},B=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw x("Promise can't be resolved itself");(t=P(e))?y((function(){var n={_w:r,_d:!1};try{t.call(e,u(B,n,1),u(U,n,1))}catch(e){U.call(n,e)}})):(r._v=e,r._s=1,M(r,!1))}catch(e){U.call({_w:r,_d:!1},e)}}};L||(C=function(e){h(this,C,E,"_h"),d(e),n.call(this);try{e(u(B,this,1),u(U,this,1))}catch(e){U.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(561)(C.prototype,{then:function(e,t){var r=I(m(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=O?R.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=u(B,e,1),this.reject=u(U,e,1)},b.f=I=function(e){return e===C||e===a?new o(e):i(e)}),l(l.G+l.W+l.F*!L,{Promise:C}),r(8182)(C,E),r(7183)(E),a=r(63093)[E],l(l.S+l.F*!L,E,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!L),E,{resolve:function(e){return S(s&&this===a?C:this,e)}}),l(l.S+l.F*!(L&&r(98661)((function(e){C.all(e).catch(A)}))),E,{all:function(e){var t=this,r=I(t),n=r.resolve,i=r.reject,o=w((function(){var r=[],o=0,a=1;v(e,!1,(function(e){var s=o++,c=!1;r.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,r[s]=e,--a||n(r))}),i)})),--a||n(r)}));return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=I(t),n=r.reject,i=w((function(){v(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},41896:(e,t,r)=>{var n=r(14518),i=r(18679),o=r(49226),a=(r(3220).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(84930)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,r){var n=i(e),c=o(r);return a?a(n,t,c):s.call(n,t,c)}})},90634:(e,t,r)=>{var n=r(14518),i=r(69270),o=r(18679),a=r(49226),s=r(44425),c=r(84930),u=r(98659),f=(r(3220).Reflect||{}).construct,l=c((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),p=!c((function(){f((function(){}))}));n(n.S+n.F*(l||p),"Reflect",{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(p&&!l)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var c=r.prototype,d=i(s(c)?c:Object.prototype),h=Function.apply.call(e,d,t);return s(h)?h:d}})},51244:(e,t,r)=>{var n=r(56007),i=r(14518),o=r(49226),a=r(32548);i(i.S+i.F*r(84930)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,r){o(e),t=a(t,!0),o(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},16877:(e,t,r)=>{var n=r(14518),i=r(30826).f,o=r(49226);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=i(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},39181:(e,t,r)=>{var n=r(30826),i=r(14518),o=r(49226);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(o(e),t)}})},69805:(e,t,r)=>{var n=r(30826),i=r(65194),o=r(3920),a=r(14518),s=r(44425),c=r(49226);a(a.S,"Reflect",{get:function e(t,r){var a,u,f=arguments.length<3?t:arguments[2];return c(t)===f?t[r]:(a=n.f(t,r))?o(a,"value")?a.value:void 0!==a.get?a.get.call(f):void 0:s(u=i(t))?e(u,r,f):void 0}})},44562:(e,t,r)=>{var n=r(14518);n(n.S,"Reflect",{ownKeys:r(74737)})},6348:(e,t,r)=>{"use strict";var n=r(21706),i=r(10069);e.exports=r(66924)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},79169:(e,t,r)=>{"use strict";var n=r(87268)(!0);r(60354)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},15898:(e,t,r)=>{"use strict";var n=r(3220),i=r(3920),o=r(97305),a=r(14518),s=r(29763),c=r(57010).KEY,u=r(84930),f=r(5628),l=r(8182),p=r(46918),d=r(23032),h=r(33485),v=r(10305),m=r(94331),g=r(35730),y=r(49226),b=r(44425),w=r(54922),_=r(6303),S=r(32548),E=r(35831),x=r(69270),R=r(23208),T=r(30826),k=r(18382),C=r(56007),O=r(31304),A=T.f,I=C.f,L=R.f,P=n.Symbol,M=n.JSON,N=M&&M.stringify,D="prototype",j=d("_hidden"),U=d("toPrimitive"),B={}.propertyIsEnumerable,F=f("symbol-registry"),Z=f("symbols"),V=f("op-symbols"),q=Object[D],z="function"==typeof P&&!!k.f,W=n.QObject,G=!W||!W[D]||!W[D].findChild,$=o&&u((function(){return 7!=x(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=A(q,t);n&&delete q[t],I(e,t,r),n&&e!==q&&I(q,t,n)}:I,H=function(e){var t=Z[e]=x(P[D]);return t._k=e,t},K=z&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},Y=function(e,t,r){return e===q&&Y(V,t,r),y(e),t=S(t,!0),y(r),i(Z,t)?(r.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),r=x(r,{enumerable:E(0,!1)})):(i(e,j)||I(e,j,E(1,{})),e[j][t]=!0),$(e,t,r)):I(e,t,r)},J=function(e,t){y(e);for(var r,n=m(t=_(t)),i=0,o=n.length;o>i;)Y(e,r=n[i++],t[r]);return e},X=function(e){var t=B.call(this,e=S(e,!0));return!(this===q&&i(Z,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(Z,e)||i(this,j)&&this[j][e])||t)},Q=function(e,t){if(e=_(e),t=S(t,!0),e!==q||!i(Z,t)||i(V,t)){var r=A(e,t);return!r||!i(Z,t)||i(e,j)&&e[j][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=L(_(e)),n=[],o=0;r.length>o;)i(Z,t=r[o++])||t==j||t==c||n.push(t);return n},te=function(e){for(var t,r=e===q,n=L(r?V:_(e)),o=[],a=0;n.length>a;)!i(Z,t=n[a++])||r&&!i(q,t)||o.push(Z[t]);return o};z||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===q&&t.call(V,r),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),$(this,e,E(1,r))};return o&&G&&$(q,e,{configurable:!0,set:t}),H(e)})[D],"toString",(function(){return this._k})),T.f=Q,C.f=Y,r(95733).f=R.f=ee,r(55066).f=X,k.f=te,o&&!r(34436)&&s(q,"propertyIsEnumerable",X,!0),h.f=function(e){return H(d(e))}),a(a.G+a.W+a.F*!z,{Symbol:P});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)d(re[ne++]);for(var ie=O(d.store),oe=0;ie.length>oe;)v(ie[oe++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=P(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?x(e):J(x(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=u((function(){k.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return k.f(w(e))}}),M&&a(a.S+a.F*(!z||u((function(){var e=P();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,N.apply(M,n)}}),P[D][U]||r(44379)(P[D],U,P[D].valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},11610:(e,t,r)=>{"use strict";var n,i=r(3220),o=r(18485)(0),a=r(29763),s=r(57010),c=r(47382),u=r(77760),f=r(44425),l=r(10069),p=r(10069),d=!i.ActiveXObject&&"ActiveXObject"in i,h="WeakMap",v=s.getWeak,m=Object.isExtensible,g=u.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(f(e)){var t=v(e);return!0===t?g(l(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(l(this,h),e,t)}},w=e.exports=r(66924)(h,y,b,u,!0,!0);p&&d&&(c((n=u.getConstructor(y,h)).prototype,b),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=w.prototype,r=t[e];a(t,e,(function(t,i){if(f(t)&&!m(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)}))})))},33012:(e,t,r)=>{r(74573)("Map")},28878:(e,t,r)=>{r(72758)("Map")},90401:(e,t,r)=>{var n=r(14518);n(n.P+n.R,"Map",{toJSON:r(80540)("Map")})},39827:(e,t,r)=>{var n=r(14518),i=r(30572)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},40342:(e,t,r)=>{var n=r(14518),i=r(74737),o=r(6303),a=r(30826),s=r(10101);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),c=a.f,u=i(n),f={},l=0;u.length>l;)void 0!==(r=c(n,t=u[l++]))&&s(f,t,r);return f}})},73625:(e,t,r)=>{var n=r(14518),i=r(30572)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},36556:(e,t,r)=>{"use strict";var n=r(14518),i=r(63093),o=r(3220),a=r(312),s=r(77116);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},8421:(e,t,r)=>{"use strict";var n=r(14518),i=r(36253),o=r(19934);n(n.S,"Promise",{try:function(e){var t=i.f(this),r=o(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},68572:(e,t,r)=>{r(74573)("Set")},42235:(e,t,r)=>{r(72758)("Set")},30093:(e,t,r)=>{var n=r(14518);n(n.P+n.R,"Set",{toJSON:r(80540)("Set")})},52145:(e,t,r)=>{r(10305)("asyncIterator")},74775:(e,t,r)=>{r(10305)("observable")},20206:(e,t,r)=>{r(74573)("WeakMap")},91877:(e,t,r)=>{r(72758)("WeakMap")},39361:(e,t,r)=>{r(74296);for(var n=r(3220),i=r(44379),o=r(64502),a=r(23032)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],f=n[u],l=f&&f.prototype;l&&!l[a]&&i(l,a,u),o[u]=o.Array}},25512:(e,t,r)=>{var n=r(28583);e.exports=function(e){var t,r=this,i=[].slice.call(arguments);t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},n(t,r);var o=function(){this.constructor=t};return o.prototype=r.prototype,t.prototype=new o,e&&(i.unshift(t.prototype),n.apply(null,i)),t.__super__=r.prototype,t}},90765:(e,t,r)=>{var n=r(49740),i=r(25512),o=r(1469),a=r(38169),s=r(28583),c=[].slice;function u(e,t){if(t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),t.parent&&(this.parent=t.parent),!this.mainIndex){var r=this.model&&this.model.prototype&&this.model.prototype.idAttribute;this.mainIndex=r||"id"}this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s({silent:!0},t))}s(u.prototype,n,{initialize:function(){},isModel:function(e){return this.model&&e instanceof this.model},add:function(e,t){return this.set(e,s({merge:!1,add:!0,remove:!1},t))},parse:function(e,t){return e},serialize:function(){return this.map((function(e){if(e.serialize)return e.serialize();var t={};return s(t,e),delete t.collection,t}))},toJSON:function(){return this.serialize()},set:function(e,t){(t=s({add:!0,remove:!0,merge:!0},t)).parse&&(e=this.parse(e,t));var r,n,i,a,c,u,f,l=!o(e);e=l?e?[e]:[]:e.slice();var p=t.at,d=this.comparator&&null==p&&!1!==t.sort,h="string"==typeof this.comparator?this.comparator:null,v=[],m=[],g={},y=t.add,b=t.merge,w=t.remove,_=!(d||!y||!w)&&[],S=this.model&&this.model.prototype||Object.prototype;for(u=0,f=e.length;u<f;u++){if(i=e[u]||{},this.isModel(i)?r=n=i:S.generateId?r=S.generateId(i):void 0===(r=i[this.mainIndex])&&this._isDerivedIndex(S)&&(r=S._derived[this.mainIndex].fn.call(i)),a=this.get(r))w&&(g[a.cid||a[this.mainIndex]]=!0),b&&(i=i===n?n.attributes:i,t.parse&&(i=a.parse(i,t)),a.set?(a.set(i,t),d&&!c&&a.hasChanged(h)&&(c=!0)):s(a,i)),e[u]=a;else if(y){if(!(n=e[u]=this._prepareModel(i,t)))continue;v.push(n),this._addReference(n,t)}(n=a||n)&&(_&&(n.isNew&&n.isNew()||!n[this.mainIndex]||!g[n.cid||n[this.mainIndex]])&&_.push(n),g[n[this.mainIndex]]=!0)}if(w){for(u=0,f=this.length;u<f;u++)g[(n=this.models[u]).cid||n[this.mainIndex]]||m.push(n);for(m.length&&this.remove(m,t),u=0,f=v.length;u<f;u++)this._index(v[u])}if(v.length||_&&_.length)if(d&&(c=!0),null!=p)for(u=0,f=v.length;u<f;u++)this.models.splice(p+u,0,v[u]);else{var E=_||v;for(u=0,f=E.length;u<f;u++)this.models.push(E[u])}if(c&&this.sort({silent:!0}),!t.silent){for(u=0,f=v.length;u<f;u++)(n=v[u]).trigger?n.trigger("add",n,this,t):this.trigger("add",n,this,t);(c||_&&_.length)&&this.trigger("sort",this,t)}return l?e[0]:e},get:function(e,t){if(null!=e){var r=this.mainIndex,n=this._indexes[t||r];return n&&(n[e]||void 0!==e[r]&&n[e[r]])||this._indexes.cid[e]||this._indexes.cid[e.cid]}},at:function(e){return this.models[e]},remove:function(e,t){var r,n,i,a,s=!o(e);for(t||(t={}),r=0,n=(e=s?[e]:c.call(e)).length;r<n;r++)(i=e[r]=this.get(e[r]))&&(this._deIndex(i),a=this.models.indexOf(i),this.models.splice(a,1),t.silent||(t.index=a,i.trigger?i.trigger("remove",i,this,t):this.trigger("remove",i,this,t)),this._removeReference(i,t));return s?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,n=this.models.length;r<n;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,s({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},sort:function(e){var t=this;if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),"string"==typeof this.comparator?this.models.sort((function(e,r){return e.get?(e=e.get(t.comparator),r=r.get(t.comparator)):(e=e[t.comparator],r=r[t.comparator]),e>r||void 0===e?1:e<r||void 0===r?-1:0})):1===this.comparator.length?this.models.sort((function(e,r){return(e=t.comparator(e))>(r=t.comparator(r))||void 0===e?1:e<r||void 0===r?-1:0})):this.models.sort(a(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},_reset:function(){var e=c.call(this.indexes||[]),t=0;e.push(this.mainIndex),e.push("cid");var r=e.length;for(this.models=[],this._indexes={};t<r;t++)this._indexes[e[t]]={}},_prepareModel:function(e,t){if(!this.model)return e;if(this.isModel(e))return e.collection||(e.collection=this),e;(t=t?s({},t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_deIndex:function(e,t,r){var n;if(void 0===t)for(var i in this._indexes)n=e.hasOwnProperty(i)?e[i]:e.get&&e.get(i),delete this._indexes[i][n];else{if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");delete this._indexes[t][r]}},_index:function(e,t){var r;if(void 0===t)for(var n in this._indexes)null!=(r=e.hasOwnProperty(n)?e[n]:e.get&&e.get(n))&&(this._indexes[n][r]=e);else{if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");(r=e[t]||e.get&&e.get(t))&&(this._indexes[t][r]=e)}},_isDerivedIndex:function(e){return!(!e||"object"!=typeof e._derived)&&Object.keys(e._derived).indexOf(this.mainIndex)>=0},_addReference:function(e,t){this._index(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,r,n){var i=e.split(":")[0],o=e.split(":")[1];("add"!==i&&"remove"!==i||r===this)&&("destroy"===i&&this.remove(t,n),t&&"change"===i&&o&&this._indexes[o]&&(this._deIndex(t,o,t.previousAttributes()[o]),this._index(t,o)),this.trigger.apply(this,arguments))}}),Object.defineProperties(u.prototype,{length:{get:function(){return this.models.length}},isCollection:{get:function(){return!0}}});["indexOf","lastIndexOf","every","some","forEach","map","filter","reduce","reduceRight"].forEach((function(e){u.prototype[e]=function(){return this.models[e].apply(this.models,arguments)}})),u.prototype.each=u.prototype.forEach,u.extend=i,e.exports=u},49740:(e,t,r)=>{var n=r(51463),i=r(3674),o=r(41609),a=r(28583),s=r(84486),c=Array.prototype.slice,u=r(25668),f={on:function(e,t,r){return u.eventsApi(this,"on",e,[t,r])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:r,ctx:r||this}),this):this},once:function(e,t,r){if(!u.eventsApi(this,"once",e,[t,r])||!t)return this;var i=this,o=n((function(){i.off(e,o),t.apply(this,arguments)}));return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var n,o,a,s,c,f,l,p;if(!this._events||!u.eventsApi(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(c=0,f=(s=e?[e]:i(this._events)).length;c<f;c++)if(e=s[c],a=this._events[e]){if(this._events[e]=n=[],t||r)for(l=0,p=a.length;l<p;l++)o=a[l],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&n.push(o);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=c.call(arguments,1);if(!u.eventsApi(this,"trigger",e,t))return this;var r=this._events[e],n=this._events.all;return r&&u.triggerEvents(r,t),n&&u.triggerEvents(n,arguments),this},stopListening:function(e,t,r){var n=this._listeningTo;if(!n)return this;var i=!t&&!r;r||"object"!=typeof t||(r=this),e&&((n={})[e._listenId]=e);var a=this;return s(n,(function(e,n){e.off(t,r,a),(i||o(e._events))&&delete a._listeningTo[n]})),this},createEmitter:function(e){return a(e||{},f)},listenTo:u.createListenMethod("on"),listenToOnce:u.createListenMethod("once"),listenToAndRun:function(e,t,r){return this.listenTo.apply(this,arguments),r||"object"!=typeof t||(r=this),r.apply(this),this}};f.bind=f.on,f.unbind=f.off,f.removeListener=f.off,f.removeAllListeners=f.off,f.emit=f.trigger,e.exports=f},25668:(e,t,r)=>{var n=r(73955),i=/\s+/;t.triggerEvents=function(e,t){var r,n=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++n<i;)(r=e[n]).callback.call(r.ctx);return;case 1:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o);return;case 2:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,a);return;case 3:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,a,s);return;default:for(;++n<i;)(r=e[n]).callback.apply(r.ctx,t);return}},t.eventsApi=function(e,t,r,n){if(!r)return!0;if("object"==typeof r){for(var o in r)e[t].apply(e,[o,r[o]].concat(n));return!1}if(i.test(r)){for(var a=r.split(i),s=0,c=a.length;s<c;s++)e[t].apply(e,[a[s]].concat(n));return!1}return!0},t.createListenMethod=function(e){return function(t,r,i){if(!t)throw new Error("Trying to listenTo event: '"+r+"' but the target object is undefined");if((this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n("l"))]=t,i||"object"!=typeof r||(i=this),"function"!=typeof t[e])throw new Error("Trying to listenTo event: '"+r+"' on object: "+t.toString()+" but it does not have an 'on' method so is unbindable");return t[e](r,i,this),this}}},65109:(e,t,r)=>{"use strict";var n=r(73955),i=r(28583),o=function(e){return i({},e)},a=r(82723),s=r(7187),c=r(2525),u=r(64721),f=r(47037),l=r(13218),p=r(47960),d=r(23560),h=r(18446),v=r(18721),m=r(58613),g=r(93386),y=r(49740),b=r(78414),w=r(72185),_=/^change:/,S=function(){};function E(e,t){t||(t={}),this.cid||(this.cid=n("state")),this._events={},this._values={},this._eventBubblingHandlerCache={},this._definition=Object.create(this._definition),t.parse&&(e=this.parse(e,t)),this.parent=t.parent,this.collection=t.collection,this._keyTree=new b,this._initCollections(),this._initChildren(),this._cache={},this._previousAttributes={},e&&this.set(e,i({silent:!0,initial:!0},t)),this._changed={},this._derived&&this._initDerived(),!1!==t.init&&this.initialize.apply(this,arguments)}function x(e,t,r,n){var i,o,a=e._definition[t]={};if(f(r))(i=e._ensureValidType(r))&&(a.type=i);else{if(Array.isArray(r)&&(r={type:(o=r)[0],required:o[1],default:o[2]}),(i=e._ensureValidType(r.type))&&(a.type=i),r.required&&(a.required=!0),r.default&&"object"==typeof r.default)throw new TypeError("The default value for "+t+" cannot be an object/array, must be a value or a function which returns a value/object/array");a.default=r.default,a.allowNull=!!r.allowNull&&r.allowNull,r.setOnce&&(a.setOnce=!0),a.required&&void 0===a.default&&!a.setOnce&&(a.default=e._getDefaultForType(i)),a.test=r.test,a.values=r.values}return n&&(a.session=!0),i||(i=f(r)?r:r.type,console.warn("Invalid data type of `"+i+"` for `"+t+"` property. Use one of the default types or define your own")),Object.defineProperty(e,t,{set:function(e){this.set(t,e)},get:function(){if(!this._values)throw Error('You may be trying to `extend` a state object with "'+t+'" which has been defined in `props` on the object being extended');var e=this._values[t],r=this._dataTypes[a.type];if(void 0!==e)return r&&r.get&&(e=r.get(e)),e;var n=m(a,"default");(this._values[t]=n,void 0!==n)&&this._getOnChangeForType(a.type)(n,e,t);return n}}),a}function R(e,t,r){(e._derived[t]={fn:d(r)?r:r.fn,cache:!1!==r.cache,depList:r.deps||[]}).depList.forEach((function(r){e._deps[r]=g(e._deps[r]||[],[t])})),Object.defineProperty(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`"+t+"` is a derived property, it can't be set directly.")}})}i(E.prototype,y,{extraProperties:"ignore",idAttribute:"id",namespaceAttribute:"namespace",typeAttribute:"modelType",initialize:function(){return this},getId:function(){return this[this.idAttribute]},getNamespace:function(){return this[this.namespaceAttribute]},getType:function(){return this[this.typeAttribute]},isNew:function(){return null==this.getId()},escape:function(e){return s(this.get(e))},isValid:function(e){return this._validate({},i(e||{},{validate:!0}))},parse:function(e,t){return e},serialize:function(e){var t=i({props:!0},e),r=this.getAttributes(t,!0),n=function(e,t){r[t]=this[t].serialize()}.bind(this);return c(this._children,n),c(this._collections,n),r},set:function(e,t,r){var n,i,o,a,s,c,f,p,d,h,v,g,y,b,w,_,S,E=this,x=this.extraProperties;if(l(e)||null===e?(d=e,r=t):(d={})[e]=t,r=r||{},!this._validate(d,r))return!1;g=r.unset,v=r.silent,b=r.initial,n=this._changing,this._changing=!0,i=[],b?this._previousAttributes={}:n||(this._previousAttributes=this.attributes,this._changed={});for(var R=0,T=Object.keys(d),k=T.length;R<k;R++){if(o=typeof(a=d[p=T[R]]),y=this._values[p],!(s=this._definition[p])){if(this._children[p]||this._collections[p]){l(a)||(a={}),this[p].set(a,r);continue}if("ignore"===x)continue;if("reject"===x)throw new TypeError('No "'+p+'" property defined on '+(this.type||"this")+' model and extraProperties not set to "ignore" or "allow"');if("allow"===x)s=this._createPropertyDefinition(p,"any");else if(x)throw new TypeError('Invalid value for extraProperties: "'+x+'"')}if(_=this._getCompareForType(s.type),S=this._getOnChangeForType(s.type),(h=this._dataTypes[s.type])&&h.set&&(a=(c=h.set(a)).val,o=c.type),s.test&&(f=s.test.call(this,a,o)))throw new TypeError("Property '"+p+"' failed validation with error: "+f);if(void 0===a&&s.required)throw new TypeError("Required property '"+p+"' must be of type "+s.type+". Tried to set "+a);if(null===a&&s.required&&!s.allowNull)throw new TypeError("Property '"+p+"' must be of type "+s.type+" (cannot be null). Tried to set "+a);if(s.type&&"any"!==s.type&&s.type!==o&&null!=a)throw new TypeError("Property '"+p+"' must be of type "+s.type+". Tried to set "+a);if(s.values&&!u(s.values,a)){var C=m(s,"default");if(g&&void 0!==C)a=C;else if(!g||g&&void 0!==a)throw new TypeError("Property '"+p+"' must be one of values: "+s.values.join(", ")+". Tried to set "+a)}if(w=b||!_(y,a,p),s.setOnce&&void 0!==y&&w)throw new TypeError("Property '"+p+"' can only be set once.");w?(S(a,y,p),b||(this._changed[p]=a,this._previousAttributes[p]=y,g&&delete this._values[p],v||i.push({prev:y,val:a,key:p})),g||(this._values[p]=a)):delete this._changed[p]}if(i.length&&(this._pending=!0),i.forEach((function(e){E.trigger("change:"+e.key,E,e.val,r)})),n)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},get:function(e){return this[e]},toggle:function(e){var t=this._definition[e];if("boolean"===t.type)this[e]=!this[e];else{if(!t||!t.values)throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");this[e]=w(t.values,this[e])}return this},previousAttributes:function(){return o(this._previousAttributes)},hasChanged:function(e){return null==e?!!Object.keys(this._changed).length:v(this._derived,e)?this._derived[e].depList.some((function(e){return this.hasChanged(e)}),this):v(this._changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&o(this._changed);var t,r,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in e)(r=this._definition[a])&&(this._getCompareForType(r.type)(i[a],t=e[a])||((n||(n={}))[a]=t));return n},toJSON:function(){return this.serialize()},unset:function(e,t){var r=this;(e=Array.isArray(e)?e:[e]).forEach((function(e){var n,o=r._definition[e];if(o)return o.required?(n=m(o,"default"),r.set(e,n,t)):r.set(e,n,i({},t,{unset:!0}))}))},clear:function(e){var t=this;return Object.keys(this.attributes).forEach((function(r){t.unset(r,e)})),this},previous:function(e){return null!=e&&Object.keys(this._previousAttributes).length?this._previousAttributes[e]:null},_getDefaultForType:function(e){var t=this._dataTypes[e];return t&&t.default},_getCompareForType:function(e){var t=this._dataTypes[e];return t&&t.compare?t.compare.bind(this):h},_getOnChangeForType:function(e){var t=this._dataTypes[e];return t&&t.onChange?t.onChange.bind(this):S},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,i(t||{},{validationError:r})),!1)},_createPropertyDefinition:function(e,t,r){return x(this,e,t,r)},_ensureValidType:function(e){return u(["string","number","boolean","array","object","date","state","any"].concat(Object.keys(this._dataTypes)),e)?e:void 0},getAttributes:function(e,t){e=i({session:!1,props:!1,derived:!1},e||{});var r,n,o={};for(var a in this._definition)n=this._definition[a],(e.session&&n.session||e.props&&!n.session)&&(r=t?this._values[a]:this[a],t&&r&&d(r.serialize)&&(r=r.serialize()),void 0===r&&(r=m(n,"default")),void 0!==r&&(o[a]=r));if(e.derived)for(var s in this._derived)o[s]=this[s];return o},_initDerived:function(){var e=this;c(this._derived,(function(t,r){var n=e._derived[r];n.deps=n.depList;var i=function(){var t=n.fn.call(e);e._cache[r]===t&&n.cache||(n.cache&&(e._previousAttributes[r]=e._cache[r]),e._cache[r]=t,e.trigger("change:"+r,e,e._cache[r]))};n.deps.forEach((function(t){e._keyTree.add(t,i)}))})),this.on("all",(function(t){_.test(t)&&e._keyTree.get(t.split(":")[1]).forEach((function(e){e()}))}),this)},_getDerivedProperty:function(e,t){return this._derived[e].cache?(!t&&this._cache.hasOwnProperty(e)||(this._cache[e]=this._derived[e].fn.apply(this)),this._cache[e]):this._derived[e].fn.apply(this)},_initCollections:function(){var e;if(this._collections)for(e in this._collections)this._safeSet(e,new this._collections[e](null,{parent:this}))},_initChildren:function(){var e;if(this._children)for(e in this._children)this._safeSet(e,new this._children[e]({},{parent:this})),this.listenTo(this[e],"all",this._getCachedEventBubblingHandler(e))},_getCachedEventBubblingHandler:function(e){return this._eventBubblingHandlerCache[e]||(this._eventBubblingHandlerCache[e]=function(t,r,n){_.test(t)?this.trigger("change:"+e+"."+t.split(":")[1],r,n):"change"===t&&this.trigger("change",this)}.bind(this)),this._eventBubblingHandlerCache[e]},_verifyRequired:function(){var e=this.attributes;for(var t in this._definition)if(this._definition[t].required&&void 0===e[t])return!1;return!0},_safeSet:function(e,t){if(e in this)throw new Error("Encountered namespace collision while setting instance property `"+e+"`");return this[e]=t,this}}),Object.defineProperties(E.prototype,{attributes:{get:function(){return this.getAttributes({props:!0,session:!0})}},all:{get:function(){return this.getAttributes({session:!0,props:!0,derived:!0})}},isState:{get:function(){return!0},set:function(){}}});var T={string:{default:function(){return""}},date:{set:function(e){var t;if(null==e)t="object";else if(p(e))t="date",e=e.valueOf();else{var r=null,n=new Date(e).valueOf();isNaN(n)&&(n=new Date(parseInt(e,10)).valueOf(),isNaN(n)&&(r=!0)),e=n,t="date",r&&(t=typeof e)}return{val:e,type:t}},get:function(e){return null==e?e:new Date(e)},default:function(){return new Date}},array:{set:function(e){return{val:e,type:Array.isArray(e)?"array":typeof e}},default:function(){return[]}},object:{set:function(e){var t=typeof e;return"object"!==t&&void 0===e&&(e=null,t="object"),{val:e,type:t}},default:function(){return{}}},state:{set:function(e){return e instanceof E||e&&e.isState?{val:e,type:"state"}:{val:e,type:typeof e}},compare:function(e,t){return e===t},onChange:function(e,t,r){t&&this.stopListening(t,"all",this._getCachedEventBubblingHandler(r)),null!=e&&this.listenTo(e,"all",this._getCachedEventBubblingHandler(r))}}};E.extend=function(e){var t,r=this;t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},i(t,r);var n=function(){this.constructor=t};if(n.prototype=r.prototype,t.prototype=new n,t.prototype._derived=i({},r.prototype._derived),t.prototype._deps=i({},r.prototype._deps),t.prototype._definition=i({},r.prototype._definition),t.prototype._collections=i({},r.prototype._collections),t.prototype._children=i({},r.prototype._children),t.prototype._dataTypes=i({},r.prototype._dataTypes||T),e)for(var o=["dataTypes","props","session","derived","collections","children"],s=0;s<arguments.length;s++){var u=arguments[s];u.dataTypes&&c(u.dataTypes,(function(e,r){t.prototype._dataTypes[r]=e})),u.props&&c(u.props,(function(e,r){x(t.prototype,r,e)})),u.session&&c(u.session,(function(e,r){x(t.prototype,r,e,!0)})),u.derived&&c(u.derived,(function(e,r){R(t.prototype,r,e)})),u.collections&&c(u.collections,(function(e,r){t.prototype._collections[r]=e})),u.children&&c(u.children,(function(e,r){t.prototype._children[r]=e})),i(t.prototype,a(u,o))}return t.__super__=r.prototype,t},e.exports=E},72185:e=>{e.exports=function(e,t){var r=e.length,n=e.indexOf(t)+1;return n>r-1&&(n=0),e[n]}},67431:(e,t,r)=>{"use strict";function n(){var e=setTimeout.apply(void 0,arguments);return e.unref&&e.unref(),e}r.d(t,{L:()=>n})},38578:(e,t,r)=>{"use strict";r.d(t,{BrowserDetection:()=>Re,Defer:()=>h,Exception:()=>ve,base64:()=>c,cappedDebounce:()=>l,deprecated:()=>me,deviceType:()=>B,inBrowser:()=>ge,isBuffer:()=>o,make:()=>E,makeStateDataType:()=>v,oneFlight:()=>P,proxyEvents:()=>D,retry:()=>ae,tap:()=>se,transferEvents:()=>j,whileInFlight:()=>ce});var n=r(83031),i=r(89509);const o=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)};function a(e){return n.decode(e).toString()}function s(e){var t=e;return o(t)||(t=i.Buffer.from(t)),n.encode(t)}const c={fromBase64url:a,toBase64Url:s,encode:function(e){return s(e)},decode:function(e){return a(e)},validate:function(e){return n.validate(e)}};var u=r(71544),f=r.n(u);function l(e,t,r){if(!e)throw new Error("`fn` must be a function");if(!t)throw new Error("`wait` is required");if(!(r=r||{}).maxWait)throw new Error("`options.maxWait` is required");if(!r.maxCalls)throw new Error("`options.maxCalls` is required");var n,i,o=r,a=o.maxCalls,s=o.maxWait,c=0;return function(){c+=1,clearTimeout(i),i=setTimeout((function(){return u()}),t),n||(n=setTimeout((function(){return u()}),s)),c>=a&&f()(u,this,[])};function u(){clearTimeout(i),i=null,clearTimeout(n),n=null,c=0,f()(e,this,[])}}var p=r(73473),d=r.n(p);function h(){var e=this;this.promise=new(d())((function(t,r){e.resolve=t,e.reject=r}))}function v(e,t){if(!e||!t)throw new Error("missing parameter for makeStateDataType");return{dataType:{set:function(r){return r instanceof e?(r.parent=this,{val:r,type:t}):{val:r?new e(r,{parent:this}):void 0,type:t}},compare:function(e,t){return e===t},onChange:function(e,t,r){t&&this.stopListening(t,"all",this._getCachedEventBubblingHandler(r)),e&&this.listenTo(e,"all",this._getCachedEventBubblingHandler(r))}},prop:{test:function(e){return!!e&&(e.parent=this,!1)},type:t}}}var m=r(956),g=r(8167),y=r(31314),b=r(83977),w=r.n(b),_=r(89539),S=r.n(_);function E(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.shift(),i=new(w()),o=new(w()),a=t.length>1?E.apply(void 0,t):t[0],s="(".concat([n.name].concat(t.map((function(e){return e.name}))).join(", "),")"),c=function(){function e(){(0,g.Z)(this,e);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];i.set(this,(0,m.Z)(n,r)),o.set(this,0)}return(0,y.Z)(e,[{key:"size",get:function(){return o.get(this)}},{key:"add",value:function(){return this.set.apply(this,arguments)}},{key:"clear",value:function(){var e=i.get(this).clear();return o.set(this,0),e}},{key:"delete",value:function(e){for(var t=i.get(this),r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(!n.length)return t.delete(e);var s=t.get(e);if(!s)return!1;var c=s.delete.apply(s,n);return c&&o.set(this,o.get(this)-1),0===s.size&&t.delete(e),c}},{key:"get",value:function(e){var t=i.get(this);if(!t.get)return t;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(!n.length)return t.get(e);var a=t.get(e);return a?a.get?a.get.apply(a,n):a:void 0}},{key:"has",value:function(){return void 0!==this.get.apply(this,arguments)}},{key:"set",value:function(){for(var e=!1,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this.has.apply(this,r)&&(e=!0);var s=i.get(this),c=r.shift();if(!s.get)return x.apply(void 0,[s,c].concat(r)),this;var u=s.get(c);if(!u){if(!a)return x.apply(void 0,[s,c].concat(r)),this;x(s,c,u=new a)}return x.apply(void 0,[u].concat(r)),e||o.set(this,o.get(this)+1),this}},{key:"inspect",value:function(){return"Container".concat(s," {\n  ").concat(S().inspect(i.get(this),{depth:null}),"\n}")}}]),e}();return c}function x(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.add)e.add.apply(e,r);else if(e.set)e.set.apply(e,r);else{if(!e.push)throw new TypeError("Could not determine how to insert into the specified container");e.push.apply(e,r)}}var R=r(13682),T=r(90359),k=r.n(T),C=r(18281),O=r.n(C),A=w(),I=O(),L=new(E(A,I,I));function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(3===t.length)return f()(s,null,t);var n=t[0]||{},i=n.cacheFailures,o=n.cacheSuccesses,a=n.keyFactory;return s;function s(e,t,r){var n=t;return r.value=k()(r.value,(function(t){for(var r=this,s=n,c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];a&&(s="".concat(s,"_").concat(a.apply(void 0,u)));var p=L.get(this,e,s);return p||(p=f()(t,this,u),!i&&p&&p.catch&&(p=p.catch((function(t){return L.delete(r,e,s),d().reject(t)}))),!o&&p&&p.then&&(p=p.then((function(t){return L.delete(r,e,s),t}))),L.set(this,e,s,p),p)})),"object"!==(0,R.Z)(e)||e.prototype||(e[t]=r.value),r}}var M=r(1469),N=r.n(M);function D(e,t){return["on","once"].forEach((function(r){t[r]=function(){return e[r].apply(e,arguments),t}})),e}function j(e,t,r){(e=N()(e)?e:[e]).forEach((function(e){t.on&&t.on(e,(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return U.apply(void 0,[r,e].concat(n))}))}))}function U(e){var t=e.trigger||e.emit;if(!t)throw new Error("count not determine emit method");for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return f()(t,e,n)}r(66250),r(33453);var B={PROVISIONAL:"PROVISIONAL",WEB:"WEB"};var F=r(26243),Z=r.n(F),V=r(62680),q=r.n(V),z=r(95366),W=r.n(z),G=r(6919),$=r.n(G),H=r(93364),K=r.n(H),Y=r(26771),J=r.n(Y),X=r(77193),Q=r(23560),ee=r.n(Q),te=r(91747),re=r.n(te),ne=r(17187),ie=r(25144);function oe(e,t){var r=Z()(e);if(q()){var n=q()(e);t&&(n=n.filter((function(t){return W()(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0]||{};return i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,X.Z)(e,t,r[t])})):$()?K()(e,$()(r)):oe(Object(r)).forEach((function(t){J()(e,t,W()(r,t))}))}return e}({},i),re()(i,{backoff:!0,delay:1,maxAttempts:3}),n=i.backoff?{initialDelay:i.delay,maxDelay:i.maxDelay}:{initialDelay:1,maxDelay:1},3===t.length?f()(o,null,t):o;function o(e,t,r){return r.value=k()(r.value,(function(e){for(var t=this,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s=new ne.EventEmitter,c=new(d())((function(r,a){var c=ie.call((function(r){var n=f()(e,t,o);return ee()(n.on)&&(n.on("progress",s.emit.bind(s,"progress")),n.on("upload-progress",s.emit.bind(s,"upload-progress")),n.on("download-progress",s.emit.bind(s,"download-progress"))),n.then((function(e){r(null,e)})).catch((function(e){e||(e=new Error("retryable method failed without providing an error object")),r(e)}))}),(function(e,t){return e?a(e):r(t)}));c.setStrategy(new ie.ExponentialStrategy(n)),i.maxAttempts&&c.failAfter(i.maxAttempts-1),c.start()}));return c.on=function(e,t){return s.on(e,t),c},c})),"object"!==(0,R.Z)(e)||e.prototype||(e[t]=r.value),r}}function se(e){return function(t){return new(d())((function(r){r(e(t))})).then((function(){return t})).catch((function(){return t}))}}function ce(e){return function(t,r,n){n.value=k()(n.value,(function(t){for(var r=this,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return new(d())((function(n){r[e]=!0,n(f()(t,r,i).then(se((function(){r[e]=!1}))).catch((function(t){return r[e]=!1,d().reject(t)})))}))}))}}var ue=r(63755),fe=r.n(ue),le=r(69678),pe=r(26305),de=r(35002);function he(e){var t=function(){if("undefined"==typeof Reflect||!fe())return!1;if(fe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,de.Z)(e);if(t){var i=(0,de.Z)(this).constructor;r=fe()(n,arguments,i)}else r=n.apply(this,arguments);return(0,pe.Z)(this,r)}}var ve=function(e){(0,le.Z)(r,e);var t=he(r);function r(){var e,n,i;(0,g.Z)(this,r);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if((e=t.call.apply(t,[this].concat(a))).parse)n=(i=e).parse.apply(i,a);else if(e.constructor.parse){var c;n=(c=e.constructor).parse.apply(c,a)}return n||(n=e.constructor.defaultMessage),e.name=e.constructor.name,e.message=n,e}return(0,y.Z)(r,null,[{key:"parse",value:function(){return arguments.length<=0?void 0:arguments[0]}}]),r}((0,r(67097).Z)(Error));(0,X.Z)(ve,"defaultMessage","An error occurred");r(44894);const me=function(){return function(){}},ge=!0;var ye=r(88306),be=r.n(ye),we=r(51206),_e=r.n(we),Se=r(58908),Ee=r.n(Se),xe={getOSName:function(){return r(24753).platform()},getOSVersion:function(){return r(24753).release()},getBrowserName:function(){return""},getBrowserVersion:function(){return""},isBrowser:function(){return!1}};const Re=be()((function(e){var t,r;return e||null!==(t=Ee().navigator)&&void 0!==t&&t.userAgent?(r=_e().getParser(e||Ee().navigator.userAgent),{getOSName:function(){var e;return null!==(e=null==r?void 0:r.getOSName())&&void 0!==e?e:""},getOSVersion:function(){var e;return null!==(e=null==r?void 0:r.getOSVersion())&&void 0!==e?e:""},getBrowserName:function(){var e;return null!==(e=null==r?void 0:r.getBrowserName())&&void 0!==e?e:""},getBrowserVersion:function(){var e;return null!==(e=null==r?void 0:r.getBrowserVersion())&&void 0!==e?e:""},isBrowser:function(e){return!(null==r||!r.isBrowser(e,!0))}}):xe}))},98380:(e,t,r)=>{"use strict";r.d(t,{oo:()=>W,ve:()=>X,nK:()=>Y,ce:()=>Ie});var n=r(47037),i=r.n(n),o=r(91747),a=r.n(o),s=r(40087),c=r.n(s),u=r(28583),f=r.n(u),l=r(39907),p=r.n(l),d=r(79873),h=r.n(d),v=r(67857),m=r.n(v),g=r(63755),y=r.n(g),b=r(8167),w=r(31314),_=r(23710),S=r(69678),E=r(26305),x=r(35002),R=r(93364),T=r.n(R),k=r(73473),C=r.n(k),O=r(13682),A=r(77193),I=r(78718),L=r.n(I),P=r(18433),M=r.n(P),N=r(8450),D=r.n(N),j=r(38578),U=r(18428),B=r.n(U),F=r(79529),Z=r.n(F);function V(e){var t=function(){if("undefined"==typeof Reflect||!y())return!1;if(y().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,x.Z)(e);if(t){var i=(0,x.Z)(this).constructor;r=y()(n,arguments,i)}else r=n.apply(this,arguments);return(0,E.Z)(this,r)}}function q(e){var t=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(e),r=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(e),n=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),i=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),o=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),a=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),s=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),c=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),u=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),f=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),l=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),p=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),d=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),h=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),v=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),m=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),g=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),y=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),_=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),E=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(r),x=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(e),R=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(x),T=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(x),k=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(x),C=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(x),O=function(e){(0,S.Z)(r,e);var t=V(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r)}(x);B()(e,{0:t,NetworkOrCORSError:t,400:r,BadRequest:r,401:n,Unauthorized:n,402:i,PaymentRequired:i,403:o,Forbidden:o,404:a,NotFound:a,405:s,MethodNotAllowed:s,406:c,NotAcceptable:c,407:u,ProxyAuthenticationRequired:u,408:f,RequestTimeout:f,409:l,Conflict:l,410:p,Gone:p,411:d,LengthRequired:d,412:h,PreconditionFailed:h,413:v,RequestEntityTooLarge:v,414:m,RequestUriTooLong:m,415:g,UnsupportedMediaType:g,416:y,RequestRangeNotSatisfiable:y,417:_,ExpectationFailed:_,429:E,TooManyRequests:E,500:x,InternalServerError:x,501:R,NotImplemented:R,502:T,BadGateway:T,503:k,ServiceUnavailable:k,504:C,GatewayTimeout:C,505:O,HttpVersionNotSupported:O,select:function(t){if(null==t)return e;t=t.statusCode||t;var r=e[t];return r||(t="".concat(t.toString().split("").shift(),"00"),t=Z()(t,10),e[t]||e)}})}function z(e){var t=function(){if("undefined"==typeof Reflect||!y())return!1;if(y().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,x.Z)(e);if(t){var i=(0,x.Z)(this).constructor;r=y()(n,arguments,i)}else r=n.apply(this,arguments);return(0,E.Z)(this,r)}}var W=function(e){(0,S.Z)(r,e);var t=z(r);function r(){return(0,b.Z)(this,r),t.apply(this,arguments)}return(0,w.Z)(r,[{key:"parse",value:function(e){var t,r=e.body;switch((0,O.Z)(r)){case"string":try{r=JSON.parse(r),t=this.parseObject(r)}catch(e){t=r}break;case"object":t=this.parseObject(r)}return t||(t=this.defaultMessage),T()(this,{body:{enumerable:!1,value:r},httpVersion:{enumerable:!1,value:e.httpVersion},headers:{enumerable:!1,value:e.headers||{}},rawHeaders:{enumerable:!1,value:e.rawHeaders||[]},trailers:{enumerable:!1,value:e.trailers||{}},rawTrailers:{enumerable:!1,value:e.rawTrailers||[]},method:{enumerable:!1,value:e.method},url:{enumerable:!1,value:e.url},statusCode:{enumerable:!1,value:e.statusCode},statusMessage:{enumerable:!1,value:e.statusMessage},socket:{enumerable:!1,value:e.socket},_res:{enumerable:!1,value:e}}),t}},{key:"parseObject",value:function(e){var t=M()(L()(e,r.errorKeys));if(0===t.length)return D()(e,null,2);var n=t[0];return"object"===(0,O.Z)(n)?this.parseObject(n):n}}]),r}(j.Exception);(0,A.Z)(W,"errorKeys",["error","errorString","response","errorResponse","message","msg"]),(0,A.Z)(W,"defaultMessage","An error was received while trying to fulfill the request"),q(W),W.makeSubTypes=q;var G=r(27361),$=r.n(G),H=r(26243),K=r.n(H),Y=function(){function e(t){var r=this;(0,b.Z)(this,e),t&&K()(t).forEach((function(e){var n=t[e];h()(r,e,{enumerable:!0,value:n})}))}return(0,w.Z)(e,[{key:"logOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$()(this,"webex.logger",console);({ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}).ENABLE_VERBOSE_NETWORK_LOGGING&&t&&(t.info("/***** Interceptor ****************************************************\\"),t.info("".concat(this.constructor.name," - ").concat(D()(e,null,2))))}},{key:"onRequest",value:function(e){return C().resolve(e)}},{key:"onRequestError",value:function(e,t){return C().reject(t)}},{key:"onResponse",value:function(e,t){return C().resolve(t)}},{key:"onResponseError",value:function(e,t){return C().reject(t)}}],[{key:"create",value:function(){throw new Error("`Interceptor.create()` must be defined")}}]),e}();function J(e){var t=function(){if("undefined"==typeof Reflect||!y())return!1;if(y().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,x.Z)(e);if(t){var i=(0,x.Z)(this).constructor;r=y()(n,arguments,i)}else r=n.apply(this,arguments);return(0,E.Z)(this,r)}}var X=function(e){(0,S.Z)(r,e);var t=J(r);function r(e,n){var i;(0,b.Z)(this,r),i=t.call(this,e);var o=n&&(n.error||n.ErrorConstructor)||W;return T()((0,_.Z)(i),{ErrorConstructor:{value:o}}),i}return(0,w.Z)(r,[{key:"onResponse",value:function(e,t){if(t.statusCode){if(t.statusCode<400)return C().resolve(t);if(404===t.statusCode&&t.body&&2000002===t.body.errorCode)return C().resolve(t)}return C().reject(new(this.ErrorConstructor.select(t.statusCode))(t))}}],[{key:"create",value:function(e){return new r(this,e)}}]),r}(Y),Q=r(17187),ee=r(27921),te=r.n(ee),re=r(85579),ne=r.n(re),ie=r(22013),oe=r.n(ie),ae=r(78149),se=r.n(ae),ce=r(66250),ue=r(1469),fe=r.n(ue),le=r(33453),pe=r.n(le),de=r(80129),he=r.n(de),ve=r(58908),me=r(27376),ge=r(4947),ye=r(47529);function be(e,t,r){var n=e;return me(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=ye(t,{uri:e}),n.callback=r,n}function we(e,t,r){return _e(t=be(e,t,r))}function _e(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,i){t||(t=!0,e.callback(r,n,i))};function n(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML;return null}(c),v)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,m)}function o(){if(!s){var t;clearTimeout(u),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=m,o=null;return 0!==t?(i={body:n(),statusCode:t,method:l,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(i.headers=ge(c.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),r(o,i,i.body)}}var a,s,c=e.xhr||null;c||(c=e.cors||e.useXDR?new we.XDomainRequest:new we.XMLHttpRequest);var u,f=e.uri||e.url,l=e.method||"GET",p=e.body||e.data,d=e.headers||{},h=!!e.sync,v=!1,m={body:void 0,headers:{},statusCode:0,method:l,url:f,rawRequest:c};if("json"in e&&!1!==e.json&&(v=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),p=D()(!0===e.json?p:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(o,0)},c.onload=o,c.onerror=i,c.onprogress=function(){},c.onabort=function(){s=!0},c.ontimeout=i,c.open(l,f,!h,e.username,e.password),h||(c.withCredentials=!!e.withCredentials),!h&&e.timeout>0&&(u=setTimeout((function(){if(!s){s=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),c.setRequestHeader)for(a in d)d.hasOwnProperty(a)&&c.setRequestHeader(a,d[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(p||null),c}we.XMLHttpRequest=ve.XMLHttpRequest||function(){},we.XDomainRequest="withCredentials"in new we.XMLHttpRequest?we.XMLHttpRequest:ve.XDomainRequest,function(e,t){for(var r=0;r<e.length;r+=1)t(e[r])}(["get","put","post","patch","head","delete"],(function(e){we["delete"===e?"del":e]=function(t,r,n){return(r=be(t,r,n)).method=e.toUpperCase(),_e(r)}}));const Se=we;var Ee=r(97769);function xe(e){return Re.apply(this,arguments)}function Re(){return(Re=(0,ce.Z)(pe().mark((function e(t){var r;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Blob||t instanceof ArrayBuffer||t instanceof Uint8Array){e.next=2;break}throw new Error("`detect` requires a buffer of type Blob, ArrayBuffer, or Uint8Array");case 2:if(!(t instanceof Blob)){e.next=4;break}return e.abrupt("return",t.type);case 4:return e.next=6,(0,Ee.fromBuffer)(t);case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return","application/octet-stream");case 9:return e.abrupt("return",r.mime);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){var r=void 0!==ne()&&e[oe()]||e["@@iterator"];if(!r){if(se()(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return te()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ke(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ce(e){return new(C())((function(n){var i=L()(e,"method","uri","withCredentials","headers","timeout","responseType");i.response=!0,function(e){e.xhr=new XMLHttpRequest}(i),function(e,t){e.method&&["PATCH","POST","PUT"].includes(e.method.toUpperCase())&&(e.xhr||(e.xhr=new XMLHttpRequest),e.xhr.upload.onprogress=t.upload.emit.bind(t.upload,"progress"))}(i,e),function(e,t){if(t.auth)if(t.auth.bearer)e.headers.authorization="Bearer ".concat(t.auth.bearer);else{var r=t.auth.user||t.auth.username,n=t.auth.pass||t.auth.password,i=btoa("".concat(r,":").concat(n));e.headers.authorization="Basic ".concat(i)}}(i,e),function(e,t){t.jar&&(e.withCredentials=!0)}(i,e),function(e,t){var r={cors:!0,withCredentials:!1,timeout:0};a()(e,L()(t,K()(r)),r)}(i,e),function(e,t){"buffer"===t.responseType&&(e.responseType="arraybuffer")}(i,e),function(e,r){t.apply(this,arguments)}(i,e),function(e,t){"json"in t&&!0!==t.json||!t.body?t.form?(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=he().stringify(t.form),m()(e,"json")):t.formData?e.body=K()(t.formData).reduce((function(e,n){return r(e,n,t.formData[n]),e}),new FormData):(e.body=t.body,m()(e,"json")):e.json=t.body}(i,e),function(e,t){t.qs&&(e.uri+="?".concat(he().stringify(t.qs)))}(i,e),e.logger.debug("start http ".concat(e.method?e.method:"request"," to ").concat(e.uri));var o=Se(i,(function(t,r){t&&e.logger.warn(t),r?(r.statusCode>=400?e.logger.warn("http ".concat(e.method?e.method:"request"," to ").concat(e.uri," result: ").concat(r.statusCode)):e.logger.debug("http ".concat(e.method?e.method:"request"," to ").concat(e.uri," result: ").concat(r.statusCode)),r.options=e,function(e,t){if(!t.json&&"object"!==(0,O.Z)(e.body))try{e.body=JSON.parse(e.body)}catch(e){}}(r,i),n(r)):n({statusCode:0,options:e,headers:e.headers,method:e.method,url:e.uri,body:t})}));o.onprogress=e.download.emit.bind(e.download,"progress")})).catch((function(t){return e.logger.warn(t),{statusCode:0,options:e,headers:e.headers,method:e.method,url:e.uri,body:t}}));function t(){return(t=(0,ce.Z)(pe().mark((function e(t,r){return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.body instanceof Blob||r.body instanceof ArrayBuffer)){e.next=8;break}if(r.json=t.json=!1,e.t0=t.headers["content-type"],e.t0){e.next=7;break}return e.next=6,xe(r.body);case 6:e.t0=e.sent;case 7:t.headers["content-type"]=e.t0;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(e,t,n){if(fe()(n)){var i,o=Te(n);try{for(o.s();!(i=o.n()).done;){r(e,t,i.value)}}catch(e){o.e(e)}finally{o.f()}}else(n=function(e){if(e instanceof ArrayBuffer){var t=e.type?new Blob([e],{type:e.type}):new Blob([e]);return t.filename=e.filename||e.name||"untitled",t}return e}(n)).name?(n.filename=n.name,e.append(t,n,n.name)):e.append(t,n)}}r(81763),r(7520);var Oe=c()((function(e,t){if(i()(t)){var r=t;(t=arguments[2]||{}).uri=r}return["download","interceptors","logger","upload"].forEach((function(e){var r=p()(t,e);r=f()({},r,{enumerable:!1,writable:!0}),h()(t,e,r)})),a()(t,e),t.json||!1===t.json||m()(t,"json"),t.logger=t.logger||this.logger||console,function(e){return e.url&&(e.uri=e.url,e.url=null),e.headers=e.headers||{},e.download=new Q.EventEmitter,e.upload=new Q.EventEmitter,t(e.interceptors,"Request").then((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ce.apply(void 0,[e].concat(r))})).then((function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.apply(void 0,[e.interceptors.slice().reverse(),"Response"].concat(n))}));function t(t,r,n){var i="on".concat(r),o="on".concat(r,"Error");return t.reduce((function(t,r){return t.then((function(t){return r.logOptions(e),r[i]?r[i](e,t):C().resolve(t)}),(function(t){return r.logOptions(e),r[o]?r[o](e,t):C().reject(t)}))}),C().resolve(n))}}(t)})),Ae={json:!0,interceptors:[X.create()]},Ie=Oe;Oe(Ae)},25026:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DeviceUrlInterceptor:()=>ge,FeatureCollection:()=>Y,FeatureModel:()=>K,FeaturesModel:()=>J,config:()=>be,constants:()=>n,default:()=>ae});var n={};r.r(n),r.d(n,{CISCO_DEVICE_URL:()=>L,DEVICE_EVENTS:()=>D,DEVICE_EVENT_REGISTRATION_SUCCESS:()=>N,FEATURE_COLLECTION_DEVELOPER:()=>O,FEATURE_COLLECTION_ENTITLEMENT:()=>A,FEATURE_COLLECTION_NAMES:()=>P,FEATURE_COLLECTION_USER:()=>I,FEATURE_TYPES:()=>M});r(3374);var i=r(21105),o=r(26243),a=r.n(o),s=r(62680),c=r.n(s),u=r(6919),f=r.n(u),l=r(93364),p=r.n(l),d=r(26771),h=r.n(d),v=r(77193),m=r(2313),g=r(73473),y=r.n(g),b=r(71544),w=r.n(b),_=r(66130),S=r.n(_),E=r(95366),x=r.n(E),R=r(38578),T=r(67431);const k="JS_SDK_WDM_REGISTRATION_SUCCESSFUL",C="JS_SDK_WDM_REGISTRATION_FAILED";var O="developer",A="entitlement",I="user",L="cisco-device-url",P=[O,A,I],M={BOOLEAN:"boolean",NUMBER:"number",STRING:"string"},N="registration:success",D=[N],j=r(65109),U=r.n(j),B=r(90765),F=r.n(B),Z=r(13682),V=r(13218),q=r.n(V),z=r(91747),W=r.n(z),G=r(7520),$=r.n(G);function H(e,t){var r=a()(e);if(c()){var n=c()(e);t&&(n=n.filter((function(t){return x()(e,t).enumerable}))),r.push.apply(r,n)}return r}const K=U().extend({idAttribute:"key",props:{key:"string",lastModified:"date",mutable:"boolean",type:"string",val:"string",value:"any"},constructor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W()(t,{parse:!0}),w()(U().prototype.constructor,this,[e,t])},parse:function(e){if(!e||"object"!==(0,Z.Z)(e))return{};var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):f()?p()(e,f()(r)):H(Object(r)).forEach((function(t){h()(e,t,x()(r,t))}))}return e}({},e),r=t.val;return $()(Number(r))?"string"==typeof r&&"true"===r.toLowerCase()?(t.type=M.BOOLEAN,t.value=!0):"string"==typeof r&&"false"===r.toLowerCase()?(t.type=M.BOOLEAN,t.value=!1):(t.type=M.STRING,t.value=r):(t.type=M.NUMBER,t.value=Number(r)),t},serialize:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=w()(U().prototype.serialize,this,t);return n.lastModified&&(n.lastModified=new Date(n.lastModified).toISOString()),n},set:function(e,t,r){var n,i;return q()(e)||null===e?(n=e,i=t):((n={})[e]=t,i=r),n=this.parse(n,i),w()(U().prototype.set,this,[n,i])}});const Y=F().extend({mainIndex:"key",model:K});const J=U().extend({collections:{developer:Y,entitlement:Y,user:Y},clear:function(e){var t=this;return a()(this.attributes).forEach((function(r){t.unset(r,e)})),a()(this._children).forEach((function(e){t[e].clear()})),a()(this._collections).forEach((function(e){t[e].reset()})),this},initialize:function(){var e=this;["change:value","add","remove"].forEach((function(t){P.forEach((function(r){e[r].on(t,(function(t,n){e.trigger("change:".concat(r),e,e[r],n)}))}))}))}});var X,Q,ee,te,re,ne;function ie(e,t){var r=a()(e);if(c()){var n=c()(e);t&&(n=n.filter((function(t){return x()(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):f()?p()(e,f()(r)):ie(Object(r)).forEach((function(t){h()(e,t,x()(r,t))}))}return e}const ae=i._y.extend((X=(0,i.A4)("@"),Q=(0,i.A4)("@"),ee=(0,i.A4)("@"),te=(0,R.deprecated)("device#markUrlFailedAndGetNew(): Use services#markFailedUrl()"),re=(0,i.tJ)("@",(function(){return!this.config.ephemeral})),ne={namespace:"Device",extraProperties:"allow",idAttribute:"url",children:{features:J},props:{clientMessagingGiphy:"string",customerCompanyName:"string",customerLogoUrl:"string",deviceType:"string",helpUrl:"string",intranetInactivityDuration:"number",intranetInactivityCheckUrl:"string",inNetworkInactivityDuration:"number",ecmEnabledForAllUsers:["boolean",!1,!1],ecmSupportedStorageProviders:["array",!1,function(){return[]}],modificationTime:"string",navigationBarColor:"string",partnerCompanyName:"string",partnerLogoUrl:"string",peopleInsightsEnabled:"boolean",reportingSiteDesc:"string",reportingSiteUrl:"string",searchEncryptionKeyUrl:"string",showSupportText:"boolean",supportProviderCompanyName:"string",supportProviderLogoUrl:"string",url:"string",userId:"string",webFileShareControl:"string",webSocketUrl:"string",whiteboardFileShareControl:"string"},derived:{registered:{deps:["url"],fn:function(){return!!this.url}}},session:{logoutTimer:"any",lastUserActivityDate:"number",isReachabilityChecked:["boolean",!1,!1],isInMeeting:"boolean",isInNetwork:"boolean"},meetingStarted:function(){this.webex.trigger("meeting started")},meetingEnded:function(){this.webex.trigger("meeting ended")},refresh:function(){var e=this;return this.logger.info("device: refreshing"),this.canRegister().then((function(){if(!e.registered)return e.logger.info("device: device not registered, registering"),e.register();var t=oe(oe({},e.serialize()),e.config.body?e.config.body:{});delete t.features,delete t.mediaCluster,delete t.etag,e.config.ephemeral&&(t.ttl=e.config.ephemeralDeviceTTL);var r=oe(oe(oe({},e.config.defaults.headers?e.config.defaults.headers:{}),e.config.headers?e.config.headers:{}),e.etag?{"If-None-Match":e.etag}:{});return e.request({method:"PUT",uri:e.url,body:t,headers:r}).then((function(t){return e.processRegistrationSuccess(t)})).catch((function(t){return 404===t.statusCode?(e.logger.info("device: refresh failed, device is not valid"),e.logger.info("device: attempting to register a new device"),e.clear(),e.register()):y().reject(t)}))}))},register:function(){var e=this;return this.logger.info("device: registering"),this.canRegister().then((function(){if(e.registered)return e.logger.info("device: device already registered, refreshing"),e.refresh();var t=oe(oe({},e.config.defaults.body?e.config.defaults.body:{}),e.config.body?e.config.body:{}),r=oe(oe({},e.config.defaults.headers?e.config.defaults.headers:{}),e.config.headers?e.config.headers:{});return e.config.ephemeral&&(t.ttl=e.config.ephemeralDeviceTTL),e.request({method:"POST",service:"wdm",resource:"devices",body:t,headers:r}).then((function(t){return e.webex.internal.metrics.submitClientMetrics(k),e.processRegistrationSuccess(t)})).catch((function(t){throw e.webex.internal.metrics.submitClientMetrics(C,{fields:{error:t}}),t}))}))},unregister:function(){var e=this;return this.logger.info("device: unregistering"),this.registered?this.request({uri:this.url,method:"DELETE"}).then((function(){return e.clear()})):(this.logger.warn("device: not registered"),y().resolve())},canRegister:function(){this.logger.info("device: validating if registration can occur");var e=this.webex.internal.services;return e.waitForCatalog("postauth",this.config.canRegisterWaitDuration).then((function(){return e.get("wdm")?y().resolve():y().reject(new Error(["device: cannot register,","'wdm' service is not available from the postauth catalog"].join(" ")))}))},checkNetworkReachability:function(){var e=this;if(this.logger.info("device: checking network reachability"),this.isReachabilityChecked)return y().resolve(this.resetLogoutTimer());if(this.isReachabilityChecked=!0,!this.intranetInactivityCheckUrl)return this.isInNetwork=!1,y().resolve(this.resetLogoutTimer());return this.request({headers:{"cisco-no-http-redirect":null,"spark-user-agent":null,trackingid:null},method:"GET",uri:this.intranetInactivityCheckUrl}).then((function(){return e.isInNetwork=!0,y().resolve(e.resetLogoutTimer())})).catch((function(){return e.logger.info("device: did not reach ping endpoint"),e.logger.info("device: triggering off-network timer"),e.isInNetwork=!1,y().resolve(e.resetLogoutTimer())}))},clear:function(){this.logger.info("device: clearing registered device");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];w()(i._y.prototype.clear,this,t)},getWebSocketUrl:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.logger.info("device: getting the current websocket url");var r=this.webex.internal.services;if(t)return this.waitForRegistration().then((function(){return r.convertUrlToPriorityHostUrl(e.webSocketUrl)})).catch((function(t){return e.logger.warn(t.message),y().reject(new Error("device: failed to get the current websocket url"))}));if(!this.registered)return y().reject(new Error("device: cannot get websocket url, device is not registered"));var n=r.convertUrlToPriorityHostUrl(this.webSocketUrl);return n?y().resolve(n):y().reject(new Error("device: failed to get the current websocket url"))},processRegistrationSuccess:function(e){var t=this;this.logger.info("device: received registration payload");var r=oe({},e.body);delete r.services,delete r.serviceHostMap;var n=(e.headers||{}).etag;if(this.etag&&n&&this.etag===n){var i=r.features;delete r.features,this.features.user.reset(i.user),this.features.entitlement.reset(i.entitlement)}if(this.set(r),this.set({etag:n}),this.config.ephemeral){this.logger.info("device: enqueuing device refresh");var o=1e3*(this.config.ephemeralDeviceTTL/2+60);this.refreshTimer=(0,T.L)((function(){return t.refresh()}),o)}this.trigger(N,this)},resetLogoutTimer:function(){this.logger.info("device: resetting logout timer"),clearTimeout(this.logoutTimer),this.off("change:lastUserActivityDate"),this.unset("logoutTimer"),!this.isInMeeting&&this.config.enableInactivityEnforcement&&this.isReachabilityChecked&&(this.isInNetwork?this.setLogoutTimer(this.inNetworkInactivityDuration):this.setLogoutTimer(this.intranetInactivityDuration))},setLogoutTimer:function(e){var t=this;this.logger.info("device: setting logout timer"),!e||e<=0||(this.on("change:lastUserActivityDate",(function(){t.resetLogoutTimer()})),this.logoutTimer=(0,T.L)((function(){t.webex.logout()}),1e3*e))},waitForRegistration:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.logger.info("device: waiting for registration"),new(y())((function(r,n){e.registered&&r();var i=(0,T.L)((function(){return n(new Error("device: timeout occured while waiting for registration"))}),1e3*t);e.once(N,(function(){clearTimeout(i),r()}))}))},markUrlFailedAndGetNew:function(e){return y().resolve(this.webex.internal.services.markFailedUrl(e))},initialize:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];w()(i._y.prototype.initialize,this,r),P.forEach((function(t){e.features.on("change:".concat(t),(function(t,r,n){e.trigger("change",e,n),e.trigger("change:features",e,e.features,n)}))})),this.on("change:intranetInactivityCheckUrl",(function(){e.checkNetworkReachability()})),this.on("change:intranetInactivityDuration",(function(){e.checkNetworkReachability()})),this.on("change:inNetworkInactivityDuration",(function(){e.checkNetworkReachability()})),this.listenTo(this.webex,"user-activity",(function(){e.lastUserActivityDate=S()()})),this.listenTo(this.webex,"meeting started",(function(){e.isInMeeting=!0,e.resetLogoutTimer()})),this.listenTo(this.webex,"meeting ended",(function(){e.isInMeeting=!1,e.resetLogoutTimer()}))},version:"2.54.2"},(0,m.Z)(ne,"refresh",[R.oneFlight,X],x()(ne,"refresh"),ne),(0,m.Z)(ne,"register",[R.oneFlight,Q],x()(ne,"register"),ne),(0,m.Z)(ne,"unregister",[R.oneFlight,ee],x()(ne,"unregister"),ne),(0,m.Z)(ne,"markUrlFailedAndGetNew",[te],x()(ne,"markUrlFailedAndGetNew"),ne),(0,m.Z)(ne,"initialize",[re],x()(ne,"initialize"),ne),ne));var se=r(63755),ce=r.n(se),ue=r(8167),fe=r(31314),le=r(69678),pe=r(26305),de=r(35002),he=r(36968),ve=r.n(he);function me(e){var t=function(){if("undefined"==typeof Reflect||!ce())return!1;if(ce().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ce()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,de.Z)(e);if(t){var i=(0,de.Z)(this).constructor;r=ce()(n,arguments,i)}else r=n.apply(this,arguments);return(0,pe.Z)(this,r)}}var ge=function(e){(0,le.Z)(r,e);var t=me(r);function r(){return(0,ue.Z)(this,r),t.apply(this,arguments)}return(0,fe.Z)(r,[{key:"onRequest",value:function(e){var t=e.headers,r=e.service,n=e.uri,i=this.webex.internal,o=i.device,a=i.services;return!o.url||t&&L in t&&t[L]?y().resolve(e):a.waitForService({service:r,url:n}).then((function(t){var r=(a.getServiceFromUrl(t)||{}).name;return r&&!["idbroker","oauth","saml"].includes(r)&&ve()(e,"headers['".concat(L,"']"),o.url),e})).catch((function(t){return t.message.match(/was not found after waiting/)?e:y().reject(t)}))}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(r(98380).nK),ye=r(34155);const be={device:{canRegisterWaitDuration:10,defaults:{body:{name:("string"==typeof ye.title?ye.title.trim():void 0)||R.inBrowser&&"browser"||"javascript",deviceType:R.deviceType.WEB,model:"web-js-sdk",localizedModel:"webex-js-sdk",systemName:"WEBEX_JS_SDK",systemVersion:"1.0.0"}},enableInactivityEnforcement:!1,ephemeral:!1,ephemeralDeviceTTL:1800}};(0,i.t4)("device",ae,{config:be,interceptors:{DeviceUrlInterceptor:ge.create},onBeforeLogout:function(){return this.unregister()}})},3374:(e,t,r)=>{"use strict";var n=r(21105),i=r(26243),o=r.n(i),a=r(62680),s=r.n(a),c=r(95366),u=r.n(c),f=r(6919),l=r.n(f),p=r(93364),d=r.n(p),h=r(26771),v=r.n(h),m=r(77193),g=r(38578),y="webex-js-sdk";const b={device:{preDiscoveryServices:{metricsServiceUrl:{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.METRICS_SERVICE_URL||"https://metrics-a.wbx2.com/metrics/api/v1",metrics:{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.METRICS_SERVICE_URL||"https://metrics-a.wbx2.com/metrics/api/v1"}},metrics:{appType:g.inBrowser?"browser":"nodejs",batcherWait:500,batcherMaxCalls:50,batcherMaxWait:1500,batcherRetryPlateau:32e3}};var w={WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",CHROME:"chrome",LINUX:"linux",OTHERS:"other"},_={"Chrome OS":w.CHROME,macOS:w.MAC,Windows:w.WINDOWS,iOS:w.IOS,Android:w.ANDROID,Linux:w.LINUX},S=r(14917),E=r(85579),x=r.n(E),R=r(66130),T=r.n(R),k=r(73473),C=r.n(k),O=r(71544),A=r.n(O),I=r(67431),L=x()("metric id");const P=n.mr.extend({namespace:"Metrics",prepareItem:function(e){return e.appType=e.appType||this.config.appType,e.env=e.env||null,e.time=e.time||T()(),e.version=e.version||this.webex.version,C().resolve(e)},prepareRequest:function(e){return C().resolve(e.map((function(e){return e.postTime=e.postTime||T()(),e})))},submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"metrics",resource:"metrics",body:{metrics:e}})},handleHttpSuccess:function(e){var t=this;return C().all(e.options.body.metrics.map((function(e){return t.acceptItem(e)})))},handleHttpError:function(e){var t=this;return e instanceof n.Ff.NetworkOrCORSError?(this.logger.warn("metrics-batcher: received network error submitting metrics, reenqueuing payload"),C().all(e.options.body.metrics.map((function(e){return new(C())((function(r){var n=e[L].nextDelay;n<t.config.batcherRetryPlateau&&(e[L].nextDelay*=2),(0,I.L)((function(){r(t.rerequest(e))}),n)}))})))):A()(n.mr.prototype.handleHttpError,this,[e])},rerequest:function(e){var t=this;return C().all([this.getDeferredForRequest(e),this.prepareItem(e)]).then((function(e){var r=(0,S.Z)(e,2),n=r[0],i=r[1];t.enqueue(i).then((function(){return t.bounce()})).catch((function(e){return n.reject(e)}))}))},fingerprintRequest:function(e){return e[L]=e[L]||{nextDelay:1e3},C().resolve(e[L])},fingerprintResponse:function(e){return C().resolve(e[L])}});const M=P.extend({namespace:"Metrics",prepareItem:function(e){return C().resolve(e)},prepareRequest:function(e){return C().resolve(e)},submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"metrics",resource:"clientmetrics",body:{metrics:e}})}});var N=r(18428),D=r.n(N);const j=P.extend({namespace:"Metrics",getBuildType:function(e){return null!=e&&e.includes("teams.webex.com")||null!=e&&e.includes("localhost")||null!=e&&e.includes("127.0.0.1")?"test":"prod"},prepareItem:function(e){var t,r,n={buildType:this.getBuildType(null===(t=e.event)||void 0===t||null===(r=t.eventData)||void 0===r?void 0:r.webClientDomain),networkType:"unknown"};return e.eventPayload.origin=D()(n,e.eventPayload.origin),C().resolve(e)},prepareRequest:function(e){return e.forEach((function(e){e.eventPayload.originTime=e.eventPayload.originTime||{},e.eventPayload.originTime.sent=(new Date).toISOString()})),C().resolve(e)},submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"metrics",resource:"clientmetrics",body:{metrics:e}})}});function U(e,t){var r=o()(e);if(s()){var n=s()(e);t&&(n=n.filter((function(t){return u()(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):l()?d()(e,l()(r)):U(Object(r)).forEach((function(t){v()(e,t,u()(r,t))}))}return e}var F=(0,g.BrowserDetection)(),Z=F.getOSName,V=F.getOSVersion,q=F.getBrowserName,z=F.getBrowserVersion;function W(){var e;return null!==(e=_[Z()])&&void 0!==e?e:w.OTHERS}const G=n._y.extend({children:{batcher:P,clientMetricsBatcher:M,callDiagnosticEventsBatcher:j},namespace:"Metrics",submit:function(e,t){return this.batcher.request(B({key:e},t))},submitClientMetrics:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!e)throw Error("Missing behavioral metric name. Please provide one");var n,i,o,a,s,c,u,f={metricName:e};if(f.tags=B(B({},t.tags),{},{browser:q(),os:W(),domain:"undefined"!=typeof window&&window.location.hostname||"non-browser"}),f.fields=B(B({},t.fields),{},{browser_version:z(),os_version:V(),sdk_version:this.webex.version,platform:"Web",spark_user_agent:(n=this.webex,o=null!==(i=null==n?void 0:n.config)&&void 0!==i?i:{},a=o.appName,s=o.appVersion,c=o.appPlatform,u=y,a&&(u+=" ".concat(a,"/").concat(null!=s?s:"0.0")),c&&(u+=" ".concat(c)),u),client_id:this.webex.credentials.config.client_id}),f.type=t.type||this.webex.config.metrics.type,f.context=B(B({},t.context),{},{app:{version:this.webex.version},locale:"en-US",os:{name:W(),version:V()}}),t.eventPayload&&(f.eventPayload=t.eventPayload),f.timestamp=(new Date).valueOf(),r){var l={metrics:[f]};return this.postPreLoginMetric(l,r)}return this.clientMetricsBatcher.request(f)},aliasUser:function(e){return this.request({method:"POST",api:"metrics",resource:"clientmetrics",headers:{"x-prelogin-userid":e},body:{},qs:{alias:!0}})},postPreLoginMetric:function(e,t){var r=this;return this.webex.credentials.getClientToken().then((function(n){return r.request({method:"POST",api:"metrics",resource:"clientmetrics-prelogin",headers:{authorization:n.toString(),"x-prelogin-userid":t},body:e})}))},submitCallDiagnosticEvents:function(e){var t={type:"diagnostic-event",eventPayload:e};return this.callDiagnosticEventsBatcher.request(t)},version:"2.54.2"});(0,n.t4)("metrics",G,{config:b})},21105:(e,t,r)=>{"use strict";r.d(t,{mr:()=>Vn,t8:()=>ge,dR:()=>W,Ff:()=>kt,_y:()=>ye,ZP:()=>ar,tJ:()=>G,t4:()=>cr,A4:()=>Y});var n=r(82723),i=r.n(n),o=r(13218),a=r.n(o),s=r(50361),c=r.n(s),u=r(26243),f=r.n(u),l=r(71544),p=r.n(l),d=r(73473),h=r.n(d),v=r(89539),m=r.n(v),g=r(65109),y=r.n(g),b=r(77193),w=r(13682),_=r(21882),S=r(90359),E=r.n(S),x=r(58613),R=r.n(x),T=r(6557),k=r.n(T),C=r(23279),O=r.n(C),A=r(40087),I=r.n(A),L=r(18281),P=r.n(L),M=r(90487),N=r.n(M),D=r(38578),j=r(63755),U=r.n(j),B=r(31314),F=r(8167),Z=r(69678),V=r(26305),q=r(35002);function z(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var W=function(e){(0,Z.Z)(r,e);var t=z(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(function(e){(0,Z.Z)(r,e);var t=z(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(D.Exception));function G(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(3===t.length)return G("@").apply(void 0,t);var n=t[0],i=t[1];return function(e,t,r){if("initialize"!==t)throw new TypeError("@persist can only currently be applied to AmpersandState objects or their derivatives and must be applied to the initialize method");r.value=E()(r.value,(function(e){for(var t=this,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s=p()(e,this,o),c="@"===n?"change":"change:".concat(n);return this.on(c,O()((function(){return!i||p().apply(Reflect,[i,t].concat(o))?"@"===n?t.boundedStorage.put(n,t):t.boundedStorage.put(n,t[n]):h().resolve()}),0)),s})),Q(e,t)}}var $=P(),H=N(),K=new((0,D.make)($,$,H));function Y(e){if(!e)throw new Error("`key` is required");return function(t,r,n){return K.add(t,r,e),n.value=E()(n.value,(function(e){for(var n=this,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=K.get(t,r);return h().all((0,_.Z)(s).map((function(e){return n.boundedStorage.waitFor(e)}))).then((function(){return p()(e,n,o)}))})),"object"!==(0,w.Z)(t)||t.prototype||(t[r]=n.value),Q(t,r),n}}var J=new(N());var X=new(N());function Q(e,t){var r=function(e){return e.namespace?e.namespace:e}(e);if(!J.has(r)){if(J.add(r),e.initialize)return void(e.initialize=E()(e.initialize,(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=p()(e,this,r);return p()(n,this,r),o})));e.initialize=n}function n(){var r=this,n=this.getNamespace();this.webex.initialize=E()(this.webex.initialize||k(),(function(i){var o=this;X.add(n);for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];p()(i,this,s);var u=I()((function(e,t){o.logger.debug("storage:(".concat(n,"): got `").concat(e,"` for first time")),"@"===e?r.parent.set((0,b.Z)({},n.toLowerCase(),t)):R()(r[e],"isState")?r[e].set(t):r.set(e,t),o.logger.debug("storage:(".concat(n,"): set `").concat(e,"` for first time"))})),f=I()((function(e,t){return t instanceof W?(o.logger.debug("storage(".concat(n,"): no data for `").concat(e,"`, continuing")),h().resolve()):(o.logger.error("storage(".concat(n,"): failed to init `").concat(e,"`"),t),h().reject(t))})),l=K.get(e,t),d=[];l.forEach((function(e){d.push(o.boundedStorage.get(n,e).then(u(e)).catch(f(e)))})),h().all(d).then((function(){X.delete(n),0===X.size&&(o.loaded=!0)}))}))}}var ee=r(2313),te=r(83977),re=r.n(te),ne=r(95366),ie=r.n(ne),oe=r(18428),ae=r.n(oe),se=r(49740),ce=r.n(se),ue=new(re());function fe(e,t){var r,n,i=(r=(0,D.oneFlight)({keyFactory:function(e){return e}}),n=function(){function r(){(0,F.Z)(this,r),t.logger.debug("webex-store: constructing ".concat(e,"Storage")),ue.set(this,new(P()))}return(0,B.Z)(r,[{key:"adapter",get:function(){return t.config.storage["".concat(e,"Adapter")]}},{key:"bindings",get:function(){return ue.get(this)}},{key:"clear",value:function(){var e=[];return this.bindings.forEach((function(t){e.push(t.clear())})),h().all(e)}},{key:"del",value:function(e,r){return t.logger.debug("webex-store: removing ".concat(e,":").concat(r)),this._getBinding(e).then((function(e){return e.del(r)}))}},{key:"get",value:function(e,r){return t.logger.debug("webex-store: retrieving ".concat(e,":").concat(r)),this._getBinding(e).then((function(e){return e.get(r)}))}},{key:"put",value:function(e,r,n){return void 0===n?this.del(e,r):(t.logger.debug("webex-store: setting ".concat(e,":").concat(r)),this._getBinding(e).then((function(e){return e.put(r,n.serialize?n.serialize():n)})).then((function(){return n})))}},{key:"_getBinding",value:function(e){var r=this;return new(h())((function(n){t.logger.debug("storage: getting binding for `".concat(e,"`"));var i=r.bindings.get(e);return i?(t.logger.debug("storage: found binding for `".concat(e,"`")),n(i)):n(r.adapter.bind(e,{logger:t.logger}).then((function(n){return t.logger.debug("storage: made binding for `".concat(e,"`")),r.bindings.set(e,n),n})))}))}}]),r}(),(0,ee.Z)(n.prototype,"_getBinding",[r],ie()(n.prototype,"_getBinding"),n.prototype),n);return ae()(i.prototype,ce()),new i}var le=r(1469),pe=r.n(le),de=new(re());function he(e){if(!a()(e))return e;var t=e.serialize?e.serialize():e;return f()(t).forEach((function(e){var r=t[e];pe()(r)?0===r.length?t[e]=void 0:t[e]=r.map(he):a()(r)&&f()(r).forEach((function(e){r[e]=he(r[e])}))})),f()(t).reduce((function(e,r){return e&&!t[r]}),!0)?void 0:t}function ve(e,t){var r,n,i=(r=(0,D.oneFlight)({keyFactory:function(e){return"initValue-".concat(e)}}),n=function(){function r(){(0,F.Z)(this,r),de.set(this,new(P()))}return(0,B.Z)(r,[{key:"clear",value:function(){return t.webex["".concat(e,"Storage")].del(t.getNamespace())}},{key:"del",value:function(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=t.webex["".concat(e,"Storage")]).del.apply(r,[t.getNamespace()].concat(i))}},{key:"get",value:function(r){var n=de.get(this).get(r);return n||(n=new D.Defer,de.get(this).set(r,n)),t.webex["".concat(e,"Storage")].get(t.getNamespace(),r).then((function(e){return n.resolve(),e}))}},{key:"put",value:function(r,n){return t.webex["".concat(e,"Storage")].put(t.getNamespace(),r,he(n))}},{key:"waitFor",value:function(e){t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): waiting to init key `").concat(e,"`"));var r=de.get(this).get(e);return r?(t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): already inited `").concat(e,"`")),r.promise):(t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): initing `").concat(e,"`")),this.initValue(e))}},{key:"initValue",value:function(r){var n=new D.Defer;return de.get(this).set(r,n),t.webex["".concat(e,"Storage")].get(t.getNamespace(),r).then((function(e){t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): got `").concat(r,"` for first time")),"@"===r?t.parent.set(e):R()(t[r],"isState")?t[r].set(e):t.set(r,e),t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): set `").concat(r,"` for first time")),n.resolve(),t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): inited `").concat(r,"`"))})).catch((function(e){return e instanceof W?(t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): no data for `").concat(r,"`, continuing")),n.resolve()):(t.logger.warn("plugin-storage(".concat(t.getNamespace(),"): failed to init `").concat(r,"`"),e),n.reject(e))})),n.promise}}]),r}(),(0,ee.Z)(n.prototype,"initValue",[r],ie()(n.prototype,"initValue"),n.prototype),n);return new i}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=t||{},!e)return h().reject(new Error("`namespace` is required"));if(!t.logger)return h().reject(new Error("`options.logger` is required"));var r=t.logger,n=new(P())([["@",{}]]);return t.data&&f()(t.data).forEach((function(e){n.set(e,t.data[e])})),r.debug("memory-store-adapter: returning binding"),h().resolve({clear:function(){return r.debug("memory-store-adapter: clearing the binding"),h().resolve(n.clear())},del:function(e){return r.debug("memory-store-adapter: deleting `".concat(e,"`")),h().resolve(n.delete(e))},get:function(e){r.debug("memory-store-adapter: reading `".concat(e,"`"));var t=n.get(e);return void 0===t?h().reject(new W):h().resolve(t)},put:function(e,t){return r.debug("memory-store-adapter: writing `".concat(e,"`")),h().resolve(n.set(e,t))}})}const ge={bind:me,preload:function(e){return{bind:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t]&&(r.data=e[t]),me(t,r)}}}};const ye=y().extend({derived:{boundedStorage:{deps:[],fn:function(){return ve("bounded",this)}},unboundedStorage:{deps:[],fn:function(){return ve("unbounded",this)}},config:{cache:!1,deps:["webex","webex.config"],fn:function(){if(this.webex&&this.webex.config){var e=this.getNamespace();return e?this.webex.config[e.toLowerCase()]:this.webex.config}return{}}},logger:{deps:["webex","webex.logger"],fn:function(){return this.webex.logger||console}},webex:{deps:["parent"],fn:function(){if(!this.parent&&!this.collection)throw new Error("Cannot determine `this.webex` without `this.parent` or `this.collection`. Please initialize `this` via `children` or `collection` or set `this.parent` manually");for(var e=this;e.parent||e.collection;)e=e.parent||e.collection;return e}}},session:{parent:{type:"any"},ready:{default:!0,type:"boolean"}},clear:function(e){var t=this;return f()(this.attributes).forEach((function(r){"parent"!==r&&t.unset(r,e)})),f()(this._children).forEach((function(e){t[e].clear()})),f()(this._collections).forEach((function(e){t[e].reset()})),this},initialize:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];p()(y().prototype.initialize,this,r),this._dataTypes=c()(this._dataTypes),f()(this._dataTypes).forEach((function(t){e._dataTypes[t].set&&(e._dataTypes[t].set=e._dataTypes[t].set.bind(e))})),this.on("change",(function(t,r){e.parent&&e.parent.trigger("change:".concat(e.getNamespace().toLowerCase()),e.parent,e,r)}))},inspect:function(e){return m().inspect(i()(this.serialize({props:!0,session:!0,derived:!0}),"boundedStorage","unboundedStorage","config","logger","webex","parent"),{depth:e})},request:function(){var e;return(e=this.webex).request.apply(e,arguments)},upload:function(){var e;return(e=this.webex).upload.apply(e,arguments)},when:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(n&&n.length>0)throw new Error("#when() does not accept a callback, you must attach to its promise");return new(h())((function(r){t.once(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t)}))}))},_filterSetParameters:function(e,t,r){var n;return a()(e)||null===e?(n=e,r=t):(n={})[e]=t,[n,r=r||{}]}});var be=r(62680),we=r.n(be),_e=r(6919),Se=r.n(_e),Ee=r(93364),xe=r.n(Ee),Re=r(26771),Te=r.n(Re),ke=r(66250),Ce=r(98601),Oe=r.n(Ce),Ae=r(36968),Ie=r.n(Ae),Le=r(82492),Pe=r.n(Le),Me=r(10928),Ne=r.n(Me),De=r(47037),je=r.n(De),Ue=r(23560),Be=r.n(Ue),Fe=r(27361),Ze=r.n(Fe),Ve=r(66913),qe=r.n(Ve),ze=r(33453),We=r.n(ze),Ge=r(8450),$e=r.n(Ge),He=r(67857),Ke=r.n(He),Ye=r(17187),Je=r(98380),Xe=r(55877),Qe=r.n(Xe);function et(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var tt=function(e){(0,Z.Z)(r,e);var t=et(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){var t=this;return e.headers=e.headers||{},"authorization"in e.headers||"auth"in e?(e.headers.authorization||Ke()(e.headers,"authorization"),h().resolve(e)):this.requiresCredentials(e).then((function(r){return r?t.webex.credentials.getUserToken().then((function(t){return e.headers.authorization=t.toString(),e})):e}))}},{key:"requiresCredentials",value:function(e){var t=this;if(!1===e.addAuthHeader)return h().resolve(!1);if(!this.webex.internal.services)return h().resolve(!1);var r=this.webex.internal.services,n=(r.getServiceFromUrl(e.uri||"")||{}).name,i=e.resource,o=e.uri,a=e.service||e.api;return a&&"u2c"===a||n&&"u2c"===n?i&&i.includes("limited")||o&&o.includes("limited")?h().resolve(!1):h().resolve(!0):r.validateDomains&&r.hasAllowedDomains()&&o&&r.isAllowedDomainUrl(o)?h().resolve(!0):r.waitForService({name:a,url:o}).then((function(e){return!!r.getServiceFromUrl(e)})).catch((function(e){return t.webex.logger.warn("auth-interceptor: failed to validate service exists in catalog",e),!1}))}},{key:"onResponseError",value:function(e,t){var r=this;return this.shouldAttemptReauth(t,e).then((function(n){return n&&(r.webex.logger.info("auth: received 401, attempting to reauthenticate"),t.options.headers&&Ke()(t.options.headers,"authorization"),r.webex.credentials.canRefresh)?r.webex.credentials.refresh().then((function(){return r.replay(e)})):h().reject(t)}))}},{key:"replay",value:function(e){return e.replayCount?e.replayCount+=1:e.replayCount=1,e.replayCount>this.webex.config.maxAuthenticationReplays?(this.webex.logger.error("auth: failed after ".concat(this.webex.config.maxAuthenticationReplays," replay attempts")),h().reject(new Error("Failed after ".concat(this.webex.config.maxAuthenticationReplays," replay attempts")))):(this.webex.logger.info("auth: replaying request ".concat(e.replayCount," time")),this.webex.request(e))}},{key:"shouldAttemptReauth",value:function(e,t){return t&&!1===t.shouldRefreshAccessToken?h().resolve(!1):401===e.statusCode?h().resolve(!0):h().resolve(!1)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK),rt=r(66130),nt=r.n(rt);function it(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var ot=function(e){(0,Z.Z)(r,e);var t=it(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){return e.$timings=e.$timings||{},e.$timings.networkStart=nt()(),e}},{key:"onResponse",value:function(e,t){return e.$timings.networkEnd=nt()(),t}},{key:"onResponseError",value:function(e,t){return e.$timings.networkEnd=nt()(),h().reject(t)}}],[{key:"create",value:function(e){return new r(this,e)}}]),r}(Je.nK);function at(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var st=function(e){(0,Z.Z)(r,e);var t=at(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){return e.noTransform?e:this.webex.transform("outbound",e)}},{key:"onResponse",value:function(e,t){return e.disableTransform?t:this.webex.transform("inbound",t)}},{key:"onResponseError",value:function(e,t){return this.webex.transform("inbound",t).then((function(e){return h().reject(e||t)}))}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK),ct=r(66678),ut=r.n(ct);function ft(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var lt="cisco-no-http-redirect",pt="cisco-location",dt=function(e){(0,Z.Z)(r,e);var t=ft(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){return e&&e.uri&&"string"==typeof e.uri&&(e.uri.includes("https://idbroker")||e.uri.includes(this.webex.config.credentials.samlUrl)||e.uri.includes(this.webex.config.credentials.tokenUrl)||e.uri.includes(this.webex.config.credentials.authorizeUrl))?e:lt in e.headers?(e.headers[lt]||Ke()(e.headers,lt),e):(e.headers[lt]=!0,e.$redirectCount=e.$redirectCount||0,e)}},{key:"onResponse",value:function(e,t){if(t.headers&&t.headers[pt])return(e=ut()(e)).uri=t.headers[pt],e.$redirectCount+=1,e.$redirectCount>this.webex.config.maxAppLevelRedirects?h().reject(new Error("Maximum redirects exceeded")):this.webex.request(e);if(t.headers&&t.body&&2000002===t.body.errorCode&&t.body.location){if(e=ut()(e),this.webex.logger.warn("redirect: url redirects needed from",e.uri),t.options&&t.options.qs){var r=t.body.location.split("?");e.uri=r[0]}else e.uri=t.body.location;return this.webex.logger.warn("redirect: url redirects needed to",e.uri),e.$redirectCount+=1,e.$redirectCount>this.webex.config.maxLocusRedirects?h().reject(new Error("Maximum redirects exceeded")):this.webex.request(e)}return t}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function ht(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var vt=function(e){(0,Z.Z)(r,e);var t=ht(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){var t=Ze()(this,"webex.logger",console);try{this.webex.trigger("request:start",e)}catch(e){t.warn("event handler for request:start failed ",e)}return h().resolve(e)}},{key:"onRequestError",value:function(e,t){var r=Ze()(this,"webex.logger",console);try{this.webex.trigger("request:end",e,t),this.webex.trigger("request:failure",e,t)}catch(e){r.warn("event handler for request:end failed ",e)}return h().reject(t)}},{key:"onResponse",value:function(e,t){var r=Ze()(this,"webex.logger",console);try{this.webex.trigger("request:success",t.options,t)}catch(e){r.warn("event handler for request:success failed ",e)}return h().resolve(t)}},{key:"onResponseError",value:function(e,t){var r=Ze()(this,"webex.logger",console);try{this.webex.trigger("request:end",e,t),this.webex.trigger("request:failure",e,t)}catch(e){r.warn("event handler for request:failure failed ",e)}return h().reject(t)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK),mt=r(18721),gt=r.n(mt);function yt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var bt=function(e){(0,Z.Z)(r,e);var t=yt(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){var t=Ze()(this,"webex.logger",console);t.info("/**********************************************************************\\ "),t.info("Request:",e.method||"GET",e.uri),t.info("WEBEX_TRACKINGID: ",Ze()(e,"headers.trackingid")),gt()(e,"headers.x-trans-id")&&t.info("X-Trans-ID: ",Ze()(e,"headers.x-trans-id"));var r=new Date;if({ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_VERBOSE_NETWORK_LOGGING){t.info("timestamp (start): ",r.getTime(),r.toISOString());try{e.body&&e.body.length&&!pe()(e.body)&&!je()(e.body)?t.info("Request Options:",m().inspect(i()(e,"body"),{depth:null})):t.info("Request Options:",m().inspect(e,{depth:null}))}catch(e){t.warn("Could not stringify request options:",e)}}return h().resolve(e)}},{key:"onRequestError",value:function(e,t){this.onRequest(e);var r=Ze()(this,"webex.logger",console);return r.error("Request Failed: ",t.stack),r.info("\\**********************************************************************/"),h().reject(t)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function wt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var _t=function(e){(0,Z.Z)(r,e);var t=wt(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){return e.$timings=e.$timings||{},e.$timings.requestStart=nt()(),e}},{key:"onRequestError",value:function(e){return e.$timings.requestEnd=e.$timings.requestFail=nt()(),h().reject(e)}},{key:"onResponse",value:function(e,t){return e.$timings.requestEnd=nt()(),h().resolve(t)}},{key:"onResponseError",value:function(e,t){return e.$timings.requestEnd=e.$timings.requestFail=nt()(),h().reject(t)}}],[{key:"create",value:function(e){return new r(this,e)}}]),r}(Je.nK);function St(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var Et=function(e){(0,Z.Z)(r,e);var t=St(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onResponse",value:function(e,t){var r=new Date;this.printResponseHeader(e,t);var n=Ze()(this,"webex.logger",console);if({ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_VERBOSE_NETWORK_LOGGING)if(n.info("timestamp (end): ",r.getTime(),r.toISOString()),"string"==typeof t.body||(0,D.isBuffer)(t.body))n.info("Response: ","Not printed, it`s probably a file");else if("object"===(0,w.Z)(t.body))try{n.info("Response: ",m().inspect(i()(t.body,"features"),{depth:null}))}catch(e){n.info("Response: ","[Not Serializable]",e)}return n.info("\\**********************************************************************/"),t}},{key:"onResponseError",value:function(e,t){var r=new Date;this.printResponseHeader(e,t);var n=Ze()(this,"webex.logger",console);if({ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_VERBOSE_NETWORK_LOGGING){n.info("timestamp (end): ",r.getTime(),r.toISOString());try{n.error("Response: ",m().inspect(t.body,{depth:null}))}catch(e){n.error("Response: ",t.body)}}return n.info("\\**********************************************************************/"),h().reject(t)}},{key:"printResponseHeader",value:function(e,t){var r=Ze()(this,"webex.logger",console);r.info("Status Code:",t.statusCode),r.info("WEBEX_TRACKINGID:",Ze()(e,"headers.trackingid")||Ze()(t,"headers.trackingid")),r.info("Network duration:",e.$timings.networkEnd-e.$timings.networkStart),r.info("Processing duration:",e.$timings.requestEnd-e.$timings.requestStart)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK),xt=r(79873),Rt=r.n(xt);function Tt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var kt=function(e){(0,Z.Z)(r,e);var t=Tt(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"parse",value:function(e){var t=p()(Je.oo.prototype.parse,this,[e]);return Rt()(this,"options",{enumerable:!1,value:e.options}),this.options.url?t+="\n".concat(this.options.method," ").concat(this.options.url):this.options.uri?t+="\n".concat(this.options.method," ").concat(this.options.uri):t+="\n".concat(this.options.method," ").concat(this.options.service.toUpperCase(),"/").concat(this.options.resource),t+="\nWEBEX_TRACKING_ID: ".concat(this.options.headers.trackingid),this.options.headers&&this.options.headers["x-trans-id"]&&(t+="\nX-Trans-Id: ".concat(this.options.headers["x-trans-id"])),this.headers["retry-after"]&&(Rt()(this,"retryAfter",{enumerable:!0,value:this.headers["retry-after"],writeable:!1}),t+="\nRETRY-AFTER: ".concat(this.retryAfter)),t+="\n"}}]),r}(Je.oo);Je.oo.makeSubTypes(kt);var Ct=function(e){(0,Z.Z)(r,e);var t=Tt(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(Je.oo.BadRequest);Je.oo[429]=Ct,Je.oo.TooManyRequests=Ct;var Ot=r(23710);function At(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var It=new(re()),Lt=function(e){(0,Z.Z)(r,e);var t=At(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,F.Z)(this,r);var i=Ze()(n,"webex.config.appName"),o=Ze()(n,"webex.config.appVersion")||"0.0";return e=t.call(this,n),i?It.set((0,Ot.Z)(e),"".concat(i,"/").concat(o)):It.set((0,Ot.Z)(e),"@webex/http-core"),e}return(0,B.Z)(r,[{key:"onRequest",value:function(e){return D.inBrowser?e:(e.headers=e.headers||{},"user-agent"in e.headers&&e.headers["spark-user-agent"]||(e.headers["user-agent"]=It.get(this)),e)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function Pt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var Mt=new(re()),Nt=function(e){(0,Z.Z)(r,e);var t=Pt(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"sequence",get:function(){var e=Mt.get(this)||0;return e+=1,Mt.set(this,e),e}},{key:"onRequest",value:function(e){if(e.headers=e.headers||{},"trackingid"in e.headers)return e.headers.trackingid||Ke()(e.headers,"trackingid"),e;if(this.requiresTrackingId(e)&&(e.headers.trackingid="".concat(this.webex.sessionId,"_").concat(this.sequence)),e.headers.trackingid&&e.replayCount){var t=e.headers.trackingid.split("+");t[1]=e.replayCount,e.headers.trackingid=t.join("+")}return e}},{key:"requiresTrackingId",value:function(e){return!e.headers.trackingid}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function Dt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var jt=new(re()),Ut=function(e){(0,Z.Z)(r,e);var t=Dt(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,F.Z)(this,r);var i=Ze()(n,"webex.webex",!1)?"webex":"webex-js-sdk",o=Ze()(n,"webex.version","development");return e=t.call(this,n),jt.set((0,Ot.Z)(e),"".concat(i,"/").concat(o," (").concat(D.inBrowser?"web":"node",")")),e}return(0,B.Z)(r,[{key:"onRequest",value:function(e){var t,r;e.headers=e.headers||{};var n=null!==(t=null===(r=this.webex)||void 0===r?void 0:r.config)&&void 0!==t?t:{},i=n.appName,o=n.appVersion,a=n.appPlatform,s="".concat(jt.get(this));return i&&(s+=" ".concat(i,"/").concat(null!=o?o:"0.0")),a&&(s+=" ".concat(a)),e.uri&&e.uri.includes("https://idbroker")||e.uri&&(e.uri.includes(this.webex.config.credentials.samlUrl)||e.uri.includes(this.webex.config.credentials.tokenUrl)||e.uri.includes(this.webex.config.credentials.authorizeUrl))?e:"spark-user-agent"in e.headers?(e.headers["spark-user-agent"]||Ke()(e.headers,"spark-user-agent"),e):(e.headers["spark-user-agent"]=s,e)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function Bt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var Ft=new(re()),Zt=/.*(idbroker|identity)(bts)?.ciscospark.com\/([^/]+)/,Vt=function(e){(0,Z.Z)(r,e);var t=Bt(r);function r(){var e;(0,F.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ft.set((0,Ot.Z)(e),new(P())),e}return(0,B.Z)(r,[{key:"onRequest",value:function(e){return this.isRateLimited(e.uri)?h().reject(new Error("API rate limited ".concat(e.uri))):h().resolve(e)}},{key:"onResponseError",value:function(e,t){return 429===t.statusCode&&(e.uri.includes("idbroker")||e.uri.includes("identity"))&&this.setRateLimitExpiry(e.uri,this.extractRetryAfterTime(e)),h().reject(t)}},{key:"extractRetryAfterTime",value:function(e){var t=1e3,r=e.headers["retry-after"]||null;return null===r||r<=0?6e4:r>3600?36e5:r*t}},{key:"setRateLimitExpiry",value:function(e,t){var r=this.getApiName(e);if(!r)return!1;var n=(new Date).getTime()+t;return Ft.get(this).set(r,n)}},{key:"getRateLimitStatus",value:function(e){var t=this.getApiName(e);if(!t)return!1;var r=(new Date).getTime(),n=Ft.get(this);return void 0!==n.get(t)&&r<n.get(t)}},{key:"getApiName",value:function(e){if(!e)return null;var t=e.match(Zt);return t?t[2]:null}},{key:"isRateLimited",value:function(e){return!(!e||!e.includes("idbroker")&&!e.includes("identity"))&&this.getRateLimitStatus(e)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function qt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var zt=function(e){(0,Z.Z)(r,e);var t=qt(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onResponseError",value:function(e,t){if(451===t.statusCode){var r=this.webex.internal.device,n=["Received `HTTP 451 Unavailable For Legal Reasons`, ","discarding credentials and device registration"].join("");r&&this.webex.internal.device.clear(),this.webex.credentials.clear(),this.webex.logger.info(n)}return h().reject(t)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function Wt(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var Gt=function(e){(0,Z.Z)(r,e);var t=Wt(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){var t=this.webex.config.defaultRequestOptions;return t?(f()(t).forEach((function(r){f()(e).includes(r)||(e[r]=t[r])})),e):e}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);const $t={maxAppLevelRedirects:10,maxLocusRedirects:5,maxAuthenticationReplays:1,maxReconnectAttempts:1,onBeforeLogout:[],trackingIdPrefix:"webex-js-sdk",trackingIdSuffix:"",AlternateLogger:void 0,credentials:new(y().extend({extraProperties:"allow",props:{idbroker:["object",!1,function(){return{url:"https://idbroker.webex.com"}}],identity:["object",!1,function(){return{url:"https://identity.webex.com"}}],authorizationString:["string",!1,{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_AUTHORIZATION_STRING||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.AUTHORIZATION_STRING],authorizeUrl:["string",!1,{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_AUTHORIZE_URL||"".concat("https://idbroker.webex.com","/idb/oauth2/v1/authorize")],client_id:["string",!1,{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_CLIENT_ID||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.COMMON_IDENTITY_CLIENT_ID||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.CLIENT_ID],client_secret:["string",!1,{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_CLIENT_SECRET||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.COMMON_IDENTITY_CLIENT_SECRET||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.CLIENT_SECRET],redirect_uri:["string",!1,{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_REDIRECT_URI||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.COMMON_IDENTITY_REDIRECT_URI||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.REDIRECT_URI],scope:["string",!1,{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_SCOPE||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_SCOPES||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.COMMON_IDENTITY_SCOPE||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.SCOPE],cisService:["string",!1,"webex"]},derived:{activationUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url||"https://idbroker.webex.com","/idb/token/v1/actions/UserActivation/invoke")},cache:!1},generateOtpUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url||"https://idbroker.webex.com","/idb/token/v1/actions/UserOTP/Generate/invoke")},cache:!1},validateOtpUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url||"https://idbroker.webex.com","/idb/token/v1/actions/UserOTP/Validate/invoke")},cache:!1},tokenUrl:{deps:["idbroker.url"],fn:function(){return{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.TOKEN_URL||"".concat(this.idbroker.url,"/idb/oauth2/v1/access_token")},cache:!1},revokeUrl:{deps:["idbroker.url"],fn:function(){return{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.REVOKE_URL||"".concat(this.idbroker.url,"/idb/oauth2/v1/revoke")},cache:!1},logoutUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url,"/idb/oauth2/v1/logout")},cache:!1},setPasswordUrl:{deps:["identity.url"],fn:function(){return"".concat(this.identity.url||"https://identity.webex.com","/identity/scim/v1/Users")},cache:!1}}})),fedramp:{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_FEDRAMP||!1,services:{discovery:{hydra:"https://api.ciscospark.com/v1",u2c:"https://u2c.wbx2.com/u2c/api/v1"},validateDomains:!0,servicesNotNeedValidation:["webex-appapi-service"],allowedDomains:["wbx2.com","ciscospark.com","webex.com","webexapis.com","broadcloudpbx.com","broadcloud.eu","broadcloud.com.au","broadcloudpbx.net"]},device:{preDiscoveryServices:{hydra:"https://api.ciscospark.com/v1",hydraServiceUrl:"https://api.ciscospark.com/v1"},validateDomains:!0},metrics:{type:["behavioral","operational"]},payloadTransformer:{predicates:[],transforms:[]},storage:{boundedAdapter:ge,unboundedAdapter:ge}};var Ht=r(93386),Kt=r.n(Ht);function Yt(e,t,r){(e._derived[t]={fn:Be()(r)?r:r.fn,cache:!1!==r.cache,depList:r.deps||[]}).depList.forEach((function(r){e._deps[r]=Kt()(e._deps[r]||[],[t])})),Rt()(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`".concat(t,"` is a derived property, it can't be set directly."))}})}const Jt=y().extend({derived:{ready:{deps:[],fn:function(){var e=this;return f()(this._children).reduce((function(t,r){return t&&e[r]&&!1!==e[r].ready}),!0)}}},inspect:function(e){return m().inspect(this.serialize({props:!0,session:!0,derived:!0}),{depth:e})}});var Xt,Qt=r(34155);function er(e,t){var r=f()(e);if(we()){var n=we()(e);t&&(n=n.filter((function(t){return ie()(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Se()?xe()(e,Se()(r)):er(Object(r)).forEach((function(t){Te()(e,t,ie()(r,t))}))}return e}var rr={WebexTrackingIdInterceptor:Nt.create,RequestEventInterceptor:vt.create,RateLimitInterceptor:Vt.create,RequestLoggerInterceptor:{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_NETWORK_LOGGING||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_VERBOSE_NETWORK_LOGGING?bt.create:void 0,ResponseLoggerInterceptor:{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_NETWORK_LOGGING||{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.ENABLE_VERBOSE_NETWORK_LOGGING?Et.create:void 0,RequestTimingInterceptor:_t.create,ServiceInterceptor:void 0,UserAgentInterceptor:Lt.create,WebexUserAgentInterceptor:Ut.create,AuthInterceptor:tt.create,KmsDryErrorInterceptor:void 0,PayloadTransformerInterceptor:st.create,ConversationInterceptor:void 0,RedirectInterceptor:dt.create,HttpStatusInterceptor:function(){return Je.ve.create({error:kt})},NetworkTimingInterceptor:ot.create,EmbargoInterceptor:zt.create,DefaultOptionsInterceptor:Gt.create},nr=["ResponseLoggerInterceptor","RequestTimingInterceptor","RequestEventInterceptor","WebexTrackingIdInterceptor","RateLimitInterceptor"],ir=["HttpStatusInterceptor","NetworkTimingInterceptor","EmbargoInterceptor","RequestLoggerInterceptor","RateLimitInterceptor"],or=y().extend((Xt={version:"2.54.2",children:{internal:Jt},constructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"string"==typeof e?e={credentials:{supertoken:{access_token:e}}}:(["credentials.authorization","authorization","credentials.supertoken.supertoken","supertoken","access_token","credentials.authorization.supertoken"].forEach((function(t){var r=Ze()(e,t);r&&(Oe()(e,t),Ie()(e,"credentials.supertoken",r))})),["credentials","credentials.authorization"].forEach((function(t){var r=Ze()(e,t);"string"==typeof r&&(Oe()(e,t),Ie()(e,"credentials.supertoken",r))})),"string"==typeof Ze()(e,"credentials.access_token")&&(Ie()(e,"credentials.access_token",this.bearerValidator(Ze()(e,"credentials.access_token").trim())),Ie()(e,"credentials.supertoken",e.credentials))),p()(y(),this,[e,t])},derived:{boundedStorage:{deps:[],fn:function(){return fe("bounded",this)}},unboundedStorage:{deps:[],fn:function(){return fe("unbounded",this)}},ready:{deps:["loaded","internal.ready"],fn:function(){var e=this;return this.loaded&&f()(this._children).reduce((function(t,r){return t&&e[r]&&!1!==e[r].ready}),!0)}}},session:{config:{type:"object"},loaded:{default:!1,type:"boolean"},request:{setOnce:!0,type:"any"},sessionId:{setOnce:!0,type:"string"}},refresh:function(){var e;return(e=this.credentials).refresh.apply(e,arguments)},transform:function(e,t){var r=this,n=this.config.payloadTransformer.predicates.filter((function(t){return!t.direction||t.direction===e})),i={webex:this};return h().all(n.map((function(e){return e.test(i,t).then((function(r){if(r)return e.extract(t).then((function(t){return{name:e.name,target:t}}))}))}))).then((function(t){return t.filter((function(e){return Boolean(e)})).reduce((function(t,n){var i=n.name,o=n.target,a=n.alias;return t.then((function(){return a?r.applyNamedTransform(e,a,o):r.applyNamedTransform(e,i,o)}))}),h().resolve())})).then((function(){return t}))},applyNamedTransform:function(e,t,r){for(var n=this,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return je()(t)&&(o.unshift(r),r=t,t={webex:this,transform:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.applyNamedTransform.apply(n,[e,t].concat(i))}}),t.webex.config.payloadTransformer.transforms.filter((function(t){return t.name===r&&(!t.direction||t.direction===e)})).reduce((function(e,r){return e.then((function(){var e;return r.alias?(e=t).transform.apply(e,[r.alias].concat(o)):h().resolve(r.fn.apply(r,[t].concat(o)))}))}),h().resolve()).then((function(){return Ne()(o)}))},getWindow:function(){return window},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=Pe()({},$t,t.config),this.trigger("change:config");var r=function t(){e.loaded&&(e.trigger("loaded"),e.stopListening(e,"change:loaded",t))};Qt.nextTick((function(){e.listenToAndRun(e,"change:loaded",r)}));var n=function t(){e.ready&&(e.trigger("ready"),e.stopListening(e,"change:ready",t))};Qt.nextTick((function(){e.listenToAndRun(e,"change:ready",n)})),f()(this.constructor.prototype._children).forEach((function(t){e.listenTo(e[t],"change",(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n.unshift("change:".concat(t)),e.trigger.apply(e,n)}))}));var i=function(t,r){var n=rr[r];return Be()(n)?(t.push(p()(n,e,[])),t):t},o=[];o=nr.reduce(i,o),o=f()(rr).filter((function(e){return!(nr.includes(e)||ir.includes(e))})).reduce(i,o),o=ir.reduce(i,o),this.request=(0,Je.ce)({json:!0,interceptors:o});var a="".concat(Ze()(this,"config.trackingIdPrefix","webex-js-sdk"),"_").concat(Ze()(this,"config.trackingIdBase",Qe().v4()));Ze()(this,"config.trackingIdSuffix")&&(a+="_".concat(Ze()(this,"config.trackingIdSuffix"))),this.sessionId=a},setConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=Pe()({},this.config,e)},bearerValidator:function(e){return e.includes("Bearer")&&e.split(" ").length-1==0?(console.warn("Your access token does not have a space between 'Bearer' and the token, please add a space to it or replace it with this already fixed version:\n\n".concat(e.replace("Bearer","Bearer ").replace(/\s+/g," "))),console.info("Tip: You don't need to add 'Bearer' to the access_token field. The token by itself is fine"),e.replace("Bearer","Bearer ").replace(/\s+/g," ")):e.split(" ").length-1>1?(console.warn("Your access token has ".concat(e.split(" ").length-2," too many spaces, please use this format:\n\n").concat(e.replace(/\s+/g," "))),console.info("Tip: You don't need to add 'Bearer' to the access_token field, the token by itself is fine"),e.replace(/\s+/g," ")):e.replace(/\s+/g," ")},inspect:function(e){return m().inspect(i()(this.serialize({props:!0,session:!0,derived:!0}),"boundedStorage","unboundedStorage","request","config"),{depth:e})},logout:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=this.credentials.supertoken&&(this.credentials.supertoken.refresh_token||this.credentials.supertoken.access_token);return e=ae()({token:o},e),this.config.onBeforeLogout.reverse().reduce((function(r,i){var o=i.plugin,a=i.fn;return r.then((function(){return h().resolve(p()(a,t[o]||t.internal[o],[e].concat(n))).catch((function(e){t.logger.warn("onBeforeLogout from plugin ".concat(o,": failed"),e)}))}))}),h().resolve()).then((function(){return h().all([t.boundedStorage.clear(),t.unboundedStorage.clear()])})).then((function(){var e;return(e=t.credentials).invalidate.apply(e,n)})).then((function(){var r;return t.authorization&&t.authorization.logout&&(r=t.authorization).logout.apply(r,[e].concat(n))})).then((function(){return t.trigger("client:logout")}))},measure:function(){var e;return this.metrics?(e=this.metrics).sendUnstructured.apply(e,arguments):h().resolve()},upload:function(e){var t=this;return(0,ke.Z)(We().mark((function r(){var n,o;return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.file){r.next=2;break}return r.abrupt("return",h().reject(new Error("`options.file` is required")));case 2:return e.phases=e.phases||{},e.phases.initialize=e.phases.initialize||{},e.phases.upload=e.phases.upload||{},e.phases.finalize=e.phases.finalize||{},qe()(e.phases.initialize,{method:"POST",body:{uploadProtocol:"content-length"}},i()(e,"file","phases")),qe()(e.phases.upload,{method:"PUT",json:!1,withCredentials:!1,body:e.file,headers:{"x-trans-id":Qe().v4(),authorization:void 0}}),qe()(e.phases.finalize,{method:"POST"},i()(e,"file","phases")),n=new Ye.EventEmitter,o=t._uploadPhaseInitialize(e).then((function(){var r=t._uploadPhaseUpload(e);return(0,D.transferEvents)("progress",r,n),r})).then((function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t._uploadPhaseFinalize.apply(t,[e].concat(n))})).then((function(e){return tr(tr({},e.body),e.headers)})),(0,D.proxyEvents)(n,o),r.abrupt("return",o);case 13:case"end":return r.stop()}}),r)})))()},_uploadPhaseInitialize:function(e){var t=this;return this.logger.debug("client: initiating upload session"),this.request(e.phases.initialize).then((function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=1024*(n[0].body.fileUploadSizeLimit||2048)*1024,a=e.file.byteLength;return o&&o<a?t._uploadAbortSession.apply(t,[a].concat(n)):t._uploadApplySession.apply(t,[e].concat(n))})).then((function(e){return t.logger.debug("client: initiated upload session"),e}))},_uploadAbortSession:function(e,t){var r=this;return this.logger.debug("client: deleting uploaded file"),this.request({method:"DELETE",url:t.body.url,headers:t.options.headers}).then((function(){r.logger.debug("client: deleting uploaded file complete");var n={currentFileSizeInBytes:e,fileUploadSizeLimitInMB:t.body.fileUploadSizeLimit||2048,message:"file-upload-size-limit-enabled"};return h().reject(new Error("".concat($e()(n))))}))},_uploadApplySession:function(e,t){var r=t.body;["upload","finalize"].reduce((function(e,t){return e[t]=f()(e[t]).reduce((function(e,t){return t.startsWith("$")&&(e[t.substr(1)]=e[t](r),Ke()(e,t)),e}),e[t]),e}),e.phases)},_uploadPhaseUpload:function(e){var t=this;this.logger.debug("client: uploading file");var r=this.request(e.phases.upload).then((function(e){return t.logger.debug("client: uploaded file"),e}));return(0,D.proxyEvents)(e.phases.upload.upload,r),r},_uploadPhaseFinalize:function(e){var t=this;return this.logger.debug("client: finalizing upload session"),this.request(e.phases.finalize).then((function(e){return t.logger.debug("client: finalized upload session"),e}))}},(0,ee.Z)(Xt,"_uploadPhaseUpload",[D.retry],ie()(Xt,"_uploadPhaseUpload"),Xt),Xt));or.version="2.54.2",function(e,t,r){e.registerPlugin=function(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.prototype._children[n]||o.replace){if(e.prototype._children[n]=i,o.proxies)throw new Error("Proxies are not currently supported for private plugins");if(o.interceptors&&f()(o.interceptors).forEach((function(e){r[e]=o.interceptors[e]})),o.config&&Pe()(t,o.config),gt()(o,"payloadTransformer.predicates")&&(t.payloadTransformer.predicates=t.payloadTransformer.predicates.concat(Ze()(o,"payloadTransformer.predicates"))),gt()(o,"payloadTransformer.transforms")&&(t.payloadTransformer.transforms=t.payloadTransformer.transforms.concat(Ze()(o,"payloadTransformer.transforms"))),o.onBeforeLogout)t.onBeforeLogout=t.onBeforeLogout||[],(pe()(o.onBeforeLogout)?o.onBeforeLogout:[o.onBeforeLogout]).forEach((function(e){return t.onBeforeLogout.push({plugin:n,fn:e})}));if(i.prototype._definition&&i.prototype._definition.ready){var a=e.prototype._derived.ready,s=a.fn,c={deps:a.depList.concat("".concat(n,".ready")),fn:s};!function(e,t,r){var n=e._derived[t]={fn:Be()(r)?r:r.fn,cache:!1!==r.cache,depList:r.deps||[]};n.depList.forEach((function(r){e._deps[r]=Kt()(e._deps[r]||[],[t])})),Rt()(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`".concat(t,"` is a derived property, it can't be set directly."))}})}(e.prototype,"ready",c)}}}}(Jt,$t,rr),function(e,t,r){e.registerPlugin=function(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.prototype._children[n]||o.replace){if(e.prototype._children[n]=i,o.proxies&&o.proxies.forEach((function(t){Yt(e.prototype,t,{deps:["".concat(n,".").concat(t)],fn:function(){return this[n][t]}})})),o.interceptors&&f()(o.interceptors).forEach((function(e){r[e]=o.interceptors[e]})),o.config&&Pe()(t,o.config),gt()(o,"payloadTransformer.predicates")&&(t.payloadTransformer.predicates=t.payloadTransformer.predicates.concat(Ze()(o,"payloadTransformer.predicates"))),gt()(o,"payloadTransformer.transforms")&&(t.payloadTransformer.transforms=t.payloadTransformer.transforms.concat(Ze()(o,"payloadTransformer.transforms"))),o.onBeforeLogout)t.onBeforeLogout=t.onBeforeLogout||[],(pe()(o.onBeforeLogout)?o.onBeforeLogout:[o.onBeforeLogout]).forEach((function(e){return t.onBeforeLogout.push({plugin:n,fn:e})}));if(i.prototype._definition&&i.prototype._definition.ready){var a=e.prototype._derived.ready,s=a.fn,c={deps:a.depList.concat("".concat(n,".ready")),fn:s};Yt(e.prototype,"ready",c)}}}}(or,$t,rr);const ar=or;function sr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};or.registerPlugin(e,t,r)}function cr(e,t,r){Jt.registerPlugin(e,t,r)}var ur={error:["log"],warn:["error","log"],info:["log"],debug:["info","log"],trace:["debug","info","log"]};function fr(e){var t=ur[e];if(t)for(t=t.slice();!console[e];)e=t.pop();return function(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console)[e].apply(t,n)}}var lr=ye.extend({namespace:"Logger",error:fr("error"),warn:fr("warn"),log:fr("log"),info:fr("info"),debug:fr("debug"),trace:fr("trace"),version:"2.54.2"});sr("logger",lr);var pr=r(41609),dr=r.n(pr),hr=r(17673),vr=r(8575),mr=r(49704),gr=r.n(mr),yr=r(67431);function br(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var wr=function(e){(0,Z.Z)(r,e);var t=br(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"parse",value:function(e){var t=e.body||e;return xe()(this,{error:{enumerable:!0,value:t.error},errorDescription:{enumerable:!0,value:t.error_description},errorUri:{enumerable:!0,value:t.error_uri},res:{enumerable:!1,value:e}}),this.errorDescription}}]),r}(D.Exception),_r=function(e){(0,Z.Z)(r,e);var t=br(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(wr),Sr=function(e){(0,Z.Z)(r,e);var t=br(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(wr),Er=function(e){(0,Z.Z)(r,e);var t=br(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(wr),xr=function(e){(0,Z.Z)(r,e);var t=br(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(wr),Rr=function(e){(0,Z.Z)(r,e);var t=br(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(wr),Tr=function(e){(0,Z.Z)(r,e);var t=br(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r)}(wr),kr={OAuthError:wr,InvalidRequestError:_r,InvalidClientError:Sr,InvalidGrantError:Er,UnauthorizedClientError:xr,UnsupportGrantTypeError:Rr,InvalidScopeError:Tr,invalid_request:_r,invalid_client:Sr,invalid_grant:Er,unauthorized_client:xr,unsupported_grant_type:Rr,invalid_scope:Tr,select:function(e){return kr[e]||wr}};const Cr=kr;function Or(e){return e?e.split(" ").sort().join(" "):""}var Ar,Ir,Lr=r(14917),Pr=r(78718),Mr=r.n(Pr);function Nr(e,t){var r=f()(e);if(we()){var n=we()(e);t&&(n=n.filter((function(t){return ie()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Se()?xe()(e,Se()(r)):Nr(Object(r)).forEach((function(t){Te()(e,t,ie()(r,t))}))}return e}function jr(e){if(400!==e.statusCode)return h().reject(e);var t=Cr.select(e.body.error);return t===wr&&e instanceof kt?h().reject(e):t?h().reject(new t(e._res||e)):h().reject(e)}var Ur=ye.extend((Ar=(0,D.oneFlight)({keyFactory:function(e){return e}}),Ir={derived:{canAuthorize:{deps:["access_token","isExpired"],fn:function(){return!!this.access_token&&!this.isExpired}},canDownscope:{deps:["canAuthorize"],fn:function(){return this.canAuthorize&&!!this.config.client_id}},canRefresh:{deps:["refresh_token"],fn:function(){return D.inBrowser?!!this.refresh_token&&!!this.config.refreshCallback:!!this.refresh_token&&!!this.config.client_secret}},isExpired:{deps:["expires","_isExpired"],fn:function(){return!!this.expires&&this._isExpired}},_string:{deps:["access_token","token_type"],fn:function(){return this.access_token&&this.token_type?"".concat(this.token_type," ").concat(this.access_token):""}}},namespace:"Credentials",props:{scope:"string",access_token:"string",expires:"number",expires_in:"number",refresh_token:"string",refresh_token_expires:"number",refresh_token_expires_in:"number",token_type:{default:"Bearer",type:"string"}},session:{_isExpired:{default:!1,type:"boolean"},previousToken:{type:"state"}},downscope:function(e){var t=this;return this.logger.info("token: downscoping token to ".concat(e)),this.isExpired?(this.logger.info("token: request received to downscope expired access_token"),h().reject(new Error("cannot downscope expired access token"))):this.canDownscope?(e&&(e=Or(e)),e===Or(this.config.scope)?h().reject(new Error("token: scope reduction requires a reduced scope")):this.webex.request({method:"POST",uri:this.config.tokenUrl,addAuthHeader:!1,form:{grant_type:"urn:cisco:oauth:grant-type:scope-reduction",token:this.access_token,scope:e,client_id:this.config.client_id,self_contained_token:!0}}).then((function(r){return t.logger.info("token: downscoped token to ".concat(e)),new Ur(ae()(r.body,{scope:e}),{parent:t.parent})}))):(this.config.client_id?this.logger.info("token: request received to downscope invalid access_token"):this.logger.trace("token: cannot downscope without client_id"),h().reject(new Error("cannot downscope access token")))},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p()(ye.prototype.initialize,this,[t,r]),"string"==typeof t&&(this.access_token=t),!this.access_token)throw new Error("`access_token` is required");this.expires&&(this.expires<nt()()?this._isExpired=!0:(0,yr.L)((function(){e._isExpired=!0}),this.expires-nt()()))},refresh:function(){var e,t=this;if(!this.canRefresh)throw new Error("Not enough information available to refresh this access token");if(D.inBrowser){if(!this.config.refreshCallback)throw new Error("Cannot refresh access token without refreshCallback");e=h().resolve(this.config.refreshCallback(this.webex,this))}return(e||this.webex.request({method:"POST",uri:this.config.tokenUrl,form:{grant_type:"refresh_token",redirect_uri:this.config.redirect_uri,refresh_token:this.refresh_token},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then((function(e){return e.body}))).then((function(e){if(!e)throw new Error("token: refreshCallback() did not produce an object");return e.refresh_token||ae()(e,Mr()(t,"refresh_token","refresh_token_expires","refresh_token_expires_in")),t.access_token===e.access_token?(t.logger.error("token: new token matches current token"),h().reject(new Error("new token matches current token"))):(t.previousToken&&(t.previousToken.revoke(),t.unset("previousToken")),e.previousToken=t,e.scope=t.scope,new Ur(e,{parent:t.parent}))})).catch(jr)},revoke:function(){var e=this;return this.isExpired?(this.logger.info("token: already expired, not making making revocation request"),h().resolve()):this.canAuthorize?this.config.client_secret?(this.logger.info("token: revoking access token"),this.webex.request({method:"POST",uri:this.config.revokeUrl,form:{token:this.access_token,token_type_hint:"access_token"},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then((function(){e.unset(["access_token","expires","expires_in","token_type"]),e.logger.info("token: access token revoked")})).catch(jr)):(this.logger.info("token: no client secret available, not making revocation request"),h().resolve()):(this.logger.info("token: no longer valid, not making revocation request"),h().resolve())},set:function(){var e=this._filterSetParameters.apply(this,arguments),t=(0,Lr.Z)(e,2),r=t[0],n=t[1];if(!r.token_type&&r.access_token&&r.access_token.includes(" ")){var i=r.access_token.split(" "),o=(0,Lr.Z)(i,2),a=o[0],s=o[1];r=Dr(Dr({},r),{},{access_token:s,token_type:a})}var c=nt()();return!r.expires&&r.expires_in&&(r.expires=c+1e3*r.expires_in),!r.refresh_token_expires&&r.refresh_token_expires_in&&(r.refresh_token_expires=c+1e3*r.refresh_token_expires_in),r.scope&&(r.scope=Or(r.scope)),p()(ye.prototype.set,this,[r,n])},toString:function(){if(!this._string)throw new Error("cannot stringify Token");return this._string},validate:function(){throw new Error("Token#validate() must not be used in production")},version:"2.54.2"},(0,ee.Z)(Ir,"downscope",[Ar],ie()(Ir,"downscope"),Ir),(0,ee.Z)(Ir,"refresh",[D.oneFlight],ie()(Ir,"refresh"),Ir),(0,ee.Z)(Ir,"revoke",[D.oneFlight],ie()(Ir,"revoke"),Ir),Ir));const Br=Ur;var Fr=r(90765);const Zr=r.n(Fr)().extend({mainIndex:"scope",model:Br,namespace:"Credentials"});var Vr,qr,zr,Wr,Gr,$r,Hr;function Kr(e,t){var r=f()(e);if(we()){var n=we()(e);t&&(n=n.filter((function(t){return ie()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Se()?xe()(e,Se()(r)):Kr(Object(r)).forEach((function(t){Te()(e,t,ie()(r,t))}))}return e}sr("credentials",ye.extend((Vr=(0,D.oneFlight)({keyFactory:function(e){return e}}),qr=Y("@"),zr=G("@"),Wr=Y("@"),Gr=(0,D.whileInFlight)("isRefreshing"),$r=Y("@"),Hr={collections:{userTokens:Zr},dataTypes:{token:(0,D.makeStateDataType)(Br,"token").dataType},derived:{canAuthorize:{deps:["supertoken","supertoken.canAuthorize","canRefresh"],fn:function(){return Boolean(this.supertoken&&this.supertoken.canAuthorize||this.canRefresh)}},canRefresh:{deps:["supertoken","supertoken.canRefresh"],fn:function(){return!!this.config.jwtRefreshCallback||Boolean(this.supertoken&&this.supertoken.canRefresh)}}},props:{supertoken:(0,D.makeStateDataType)(Br,"token").prop},namespace:"Credentials",session:{isRefreshing:{default:!1,type:"boolean"},ready:{default:!1,type:"boolean"},refreshTimer:{default:void 0,type:"any"}},buildLoginUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clientType:"public"};if(e.state&&!a()(e.state))throw new Error("if specified, `options.state` must be an object");return e.client_id=this.config.client_id,e.redirect_uri=this.config.redirect_uri,e.scope=this.config.scope,(e=c()(e)).response_type||(e.response_type="public"===e.clientType?"token":"code"),Ke()(e,"clientType"),e.state&&(dr()(e.state)?delete e.state:e.state=D.base64.toBase64Url($e()(e.state))),"".concat(this.config.authorizeUrl,"?").concat(hr.stringify(e))},getOrgId:function(){this.logger.info("credentials: attempting to retrieve the OrgId from token");try{return this.logger.info("credentials: trying to extract OrgId from JWT"),this.extractOrgIdFromJWT(this.supertoken.access_token)}catch(t){this.logger.info("credentials: could not extract OrgId from JWT"),this.logger.info("credentials: attempting to extract OrgId from user token");try{var e;return this.extractOrgIdFromUserToken(null===(e=this.supertoken)||void 0===e?void 0:e.access_token)}catch(e){throw this.logger.info("credentials: could not extract OrgId from user token"),e}}},extractOrgIdFromJWT:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=gr().decode(e);if(!t)throw new Error("unable to extract the OrgId from the provided JWT");if(!t.realm)throw new Error("the provided JWT does not contain an OrgId");return t.realm},extractOrgIdFromUserToken:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_");if(3!==e.length)throw new Error("the provided token is not a valid format");return e[2]},buildLogoutUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(this.config.logoutUrl,"?").concat(hr.stringify(Yr({cisService:this.config.service,goto:this.config.redirect_uri},e)))},calcRefreshTimeout:function(e){return Math.floor((Math.floor(4*Math.random())+6)/10*e)},constructor:function(){var e=this;this._dataTypes=c()(this._dataTypes),f()(this._dataTypes).forEach((function(t){e._dataTypes[t].set&&(e._dataTypes[t].set=e._dataTypes[t].set.bind(e))}));for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];p()(ye,this,r)},downscope:function(e){var t=this;return this.supertoken.downscope(e).catch((function(r){return t.logger.trace("credentials: failed to downscope supertoken to ".concat(e),r),t.logger.trace("credentials: falling back to supertoken for ".concat(e)),h().resolve(new Br(Yr({scope:e},t.supertoken.serialize())),{parent:t})}))},getClientToken:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.logger.info("credentials: requesting client credentials grant"),this.webex.request({method:"POST",uri:t.uri||this.config.tokenUrl,form:{grant_type:"client_credentials",scope:t.scope||"webexsquare:admin",self_contained_token:!0},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then((function(t){return new Br(t.body,{parent:e})})).catch((function(e){if(400!==e.statusCode)return h().reject(e);var t=Cr.select(e.body.error);return h().reject(new t(e._res||e))}))},getUserToken:function(e){var t=this;return h().resolve(!this.isRefreshing||new(h())((function(e){t.logger.info("credentials: token refresh inflight; delaying getUserToken until refresh completes"),t.once("change:isRefreshing",(function(){t.logger.info("credentials: token refresh complete; reinvoking getUserToken"),e()}))}))).then((function(){if(!t.canAuthorize)return t.logger.info("credentials: cannot produce an access token from current state"),h().reject(new Error("Current state cannot produce an access token"));if(e||(e=function(e,t){return t?t.split(" ").filter((function(t){return t!==e})).sort().join(" "):""}("spark:kms",t.config.scope)),(e=Or(e))===Or(t.config.scope))return h().resolve(t.supertoken);var r=t.userTokens.get(e);return r&&r.access_token?h().resolve(r):t.downscope(e).then((0,D.tap)((function(e){return t.userTokens.add(e)})))}))},initialize:function(e,t){var r=this;e&&("string"==typeof e&&(this.supertoken=e),e.access_token&&(this.supertoken=e),e.authorization&&(e.authorization.supertoken?this.supertoken=e.authorization.supertoken:this.supertoken=e.authorization),this.supertoken&&this.supertoken.expires&&this.scheduleRefresh(this.supertoken.expires)),p()(ye.prototype.initialize,this,[e,t]),this.listenToOnce(this.parent,"change:config",(function(){if(r.config.authorizationString){var e=vr.parse(r.config.authorizationString,!0);r.config.client_id=e.query.client_id,r.config.redirect_uri=e.query.redirect_uri,r.config.scope=e.query.scope,r.config.authorizeUrl=e.href.substr(0,e.href.indexOf("?"))}})),this.webex.once("loaded",(function(){r.ready=!0}))},invalidate:function(){this.logger.info("credentials: invalidating tokens"),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.unset("refreshTimer"));try{this.unset("supertoken")}catch(e){this.logger.warn("credentials: failed to clear supertoken",e)}for(;this.userTokens.models.length;)try{this.userTokens.remove(this.userTokens.models[0])}catch(e){this.logger.warn("credentials: failed to remove user token",e)}return this.logger.info("credentials: finished removing tokens"),h().resolve()},refresh:function(){var e=this;this.logger.info("credentials: refresh requested");var t=this.supertoken,r=ut()(this.userTokens.models);return this.config.jwtRefreshCallback?this.config.jwtRefreshCallback(this.webex).then((function(t){return e.webex.authorization.requestAccessTokenFromJwt({jwt:t})})):(this.webex.internal.services&&this.webex.internal.services.updateCredentialsConfig(),t.refresh().then((function(t){return e.refreshTimer&&(clearTimeout(e.refreshTimer),e.unset("refreshTimer")),e.supertoken=t,h().all(r.map((function(t){return e.downscope(t.scope).then((function(r){return e.logger.info("credentials: revoking token for ".concat(t.scope)),t.revoke().catch((function(t){e.logger.warn("credentials: failed to revoke user token",t)})).then((function(){e.userTokens.remove(t.scope),e.userTokens.add(r)}))}))})))})).then((function(){e.scheduleRefresh(e.supertoken.expires)})).catch((function(t){if(t instanceof Cr.InvalidRequestError){for(e.unset("supertoken");e.userTokens.models.length;)try{e.userTokens.remove(e.userTokens.models[0])}catch(t){e.logger.warn("credentials: failed to remove user token",t)}e.webex.trigger("client:InvalidRequestError")}return h().reject(t)})))},scheduleRefresh:function(e){var t=this,r=e-nt()();if(r>0){var n=this.calcRefreshTimeout(r);this.refreshTimer=(0,yr.L)((function(){return t.refresh()}),n)}else this.refresh()},version:"2.54.2"},(0,ee.Z)(Hr,"getUserToken",[Vr,qr],ie()(Hr,"getUserToken"),Hr),(0,ee.Z)(Hr,"initialize",[zr],ie()(Hr,"initialize"),Hr),(0,ee.Z)(Hr,"invalidate",[D.oneFlight,Wr],ie()(Hr,"invalidate"),Hr),(0,ee.Z)(Hr,"refresh",[D.oneFlight,Gr,$r],ie()(Hr,"refresh"),Hr),Hr)),{proxies:["canAuthorize","canRefresh"]});var Jr=["discovery","limited","signin","postauth","custom"],Xr="SERVICE_CATALOGS_ENUM_TYPES_STRING",Qr="SERVICE_CATALOGS_ENUM_TYPES_NUMBER",en=r(52153),tn=r.n(en);const rn="JS_SDK_SERVICE_NOT_FOUND";var nn=r(27921),on=r.n(nn),an=r(85579),sn=r.n(an),cn=r(22013),un=r.n(cn),fn=r(78149),ln=r.n(fn);const pn=y().extend({namespace:"ServiceUrl",props:{defaultUrl:["string",!0,void 0],hosts:["array",!1,function(){return[]}],name:["string",!0,void 0]},_generateHostUrl:function(e){var t=vr.parse(this.defaultUrl);return t.host="".concat(e).concat(t.port?":".concat(t.port):""),vr.format(t)},_getHostUrls:function(){var e=this;return this.hosts.map((function(t){return{url:e._generateHostUrl(t.host),priority:t.priority}}))},_getPriorityHostUrl:function(e){if(0===this.hosts.length)return this.defaultUrl;var t=e?this.hosts.filter((function(t){return t.id===e})):this.hosts.filter((function(e){return e.homeCluster})),r=t.filter((function(e){return!e.failed}));return t=0===r.length?t.map((function(e){return e.failed=!1,e})):r,this._generateHostUrl(t.reduce((function(e,t){return e.priority>t.priority||!e.homeCluster?t:e}),{}).host)},failHost:function(e){if(e===this.defaultUrl)return!0;var t=vr.parse(e).hostname,r=this.hosts.find((function(e){return e.host===t}));return r&&(r.failed=!0),void 0!==r},get:function(e,t){return e?this._getPriorityHostUrl(t):this.defaultUrl}});function dn(e,t){var r=f()(e);if(we()){var n=we()(e);t&&(n=n.filter((function(t){return ie()(e,t).enumerable}))),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Se()?xe()(e,Se()(r)):dn(Object(r)).forEach((function(t){Te()(e,t,ie()(r,t))}))}return e}function vn(e,t){var r=void 0!==sn()&&e[un()]||e["@@iterator"];if(!r){if(ln()(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return on()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gn=y().extend({namespace:"ServiceCatalog",props:{serviceGroups:["object",!0,function(){return{discovery:[],override:[],preauth:[],postauth:[],signin:[]}}],status:["object",!0,function(){return{discovery:{ready:!1,collecting:!1},override:{ready:!1,collecting:!1},preauth:{ready:!1,collecting:!1},postauth:{ready:!1,collecting:!1},signin:{ready:!1,collecting:!1}}}],isReady:["boolean",!1,!1],allowedDomains:["array",!1,function(){return[]}]},_getUrl:function(e,t){return("string"==typeof t?this.serviceGroups[t]||[]:[].concat((0,_.Z)(this.serviceGroups.override),(0,_.Z)(this.serviceGroups.postauth),(0,_.Z)(this.serviceGroups.signin),(0,_.Z)(this.serviceGroups.preauth),(0,_.Z)(this.serviceGroups.discovery))).find((function(t){return t.name===e}))},_listServiceUrls:function(){return[].concat((0,_.Z)(this.serviceGroups.override),(0,_.Z)(this.serviceGroups.postauth),(0,_.Z)(this.serviceGroups.signin),(0,_.Z)(this.serviceGroups.preauth),(0,_.Z)(this.serviceGroups.discovery))},_loadServiceUrls:function(e,t){var r=this;return t.forEach((function(t){r._getUrl(t.name,e)||r.serviceGroups[e].push(t)})),this},_unloadServiceUrls:function(e,t){var r,n=this;return t.forEach((function(t){(r=n._getUrl(t.name,e))&&n.serviceGroups[e].splice(n.serviceGroups[e].indexOf(r),1)})),this},clean:function(){this.serviceGroups.preauth.length=0,this.serviceGroups.signin.length=0,this.serviceGroups.postauth.length=0,this.status.preauth={ready:!1},this.status.signin={ready:!1},this.status.postauth={ready:!1}},findClusterId:function(e){for(var t,r=vr.parse(e),n=0,i=f()(this.serviceGroups);n<i.length;n++){var o,a=i[n],s=vn(this.serviceGroups[a]);try{for(s.s();!(o=s.n()).done;){var c=o.value;t=vr.parse(c.defaultUrl);var u,l=vn(c.hosts);try{for(l.s();!(u=l.n()).done;){var p=u.value;if(r.hostname===p.host&&p.id)return p.id}}catch(e){l.e(e)}finally{l.f()}if(t.hostname===r.hostname&&c.hosts.length>0){var d,h=vn(c.hosts);try{for(h.s();!(d=h.n()).done;){var v=d.value;if(v.homeCluster)return v.id}}catch(e){h.e(e)}finally{h.f()}return c.hosts[0].id}}}catch(e){s.e(e)}finally{s.f()}}},findServiceFromClusterId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clusterId,r=e.priorityHost,n=void 0===r||r,i=e.serviceGroup,o=("string"==typeof i?this.serviceGroups[i]||[]:[].concat((0,_.Z)(this.serviceGroups.override),(0,_.Z)(this.serviceGroups.postauth),(0,_.Z)(this.serviceGroups.signin),(0,_.Z)(this.serviceGroups.preauth),(0,_.Z)(this.serviceGroups.discovery))).find((function(e){return e.hosts.find((function(e){return e.id===t}))}));if(o)return{name:o.name,url:o.get(n,t)}},findServiceUrlFromUrl:function(e){var t=vr.parse(e);return[].concat((0,_.Z)(this.serviceGroups.discovery),(0,_.Z)(this.serviceGroups.preauth),(0,_.Z)(this.serviceGroups.signin),(0,_.Z)(this.serviceGroups.postauth),(0,_.Z)(this.serviceGroups.override)).find((function(e){return t.hostname===vr.parse(e.defaultUrl).hostname||!!e.hosts.find((function(e){return e.host===t.hostname}))}))},findAllowedDomain:function(e){var t=vr.parse(e);if(t.host)return this.allowedDomains.find((function(e){return t.host.includes(e)}))},get:function(e,t,r){var n=this._getUrl(e,r);return n?n.get(t):void 0},getAllowedDomains:function(){return(0,_.Z)(this.allowedDomains)},list:function(e,t){var r={},n="string"==typeof t?this.serviceGroups[t]||[]:[].concat((0,_.Z)(this.serviceGroups.discovery),(0,_.Z)(this.serviceGroups.preauth),(0,_.Z)(this.serviceGroups.signin),(0,_.Z)(this.serviceGroups.postauth),(0,_.Z)(this.serviceGroups.override));return n&&n.forEach((function(t){r[t.name]=t.get(e)})),r},markFailedUrl:function(e,t){var r=this,n=this._getUrl(f()(this.list()).find((function(t){return r._getUrl(t).failHost(e)})));if(n)return t?n.get(!1):n.get(!0)},setAllowedDomains:function(e){this.allowedDomains=(0,_.Z)(e)},updateServiceUrls:function(e,t){var r=this,n=this.serviceGroups[e].filter((function(e){return t.every((function(t){return t.name!==e.name}))}));return this._unloadServiceUrls(e,n),t.forEach((function(t){var n=r._getUrl(t.name,e);n?(n.defaultUrl=t.defaultUrl,n.hosts=t.hosts||[]):r._loadServiceUrls(e,[new pn(hn({},t))])})),this.status[e].ready=!0,this.trigger(e),this},waitForCatalog:function(e,t){var r=this;return new(h())((function(n,i){r.status[e].ready&&n();var o=setTimeout((function(){return i(new Error("services: timeout occured while waiting for '".concat(e,"' catalog to populate")))}),t?1e3*t:6e4);r.once(e,(function(){clearTimeout(o),n()}))}))}});const yn=gn;var bn=function(){function e(t){(0,F.Z)(this,e),e.validate(t),this.catalog=t.catalog,this.default=t.defaultUri,this.hostGroup=t.hostGroup,this.id=t.id,this.priority=t.priority,this.uri=t.uri,this.failed=!1,this.replaced=!1}return(0,B.Z)(e,[{key:"active",get:function(){return!this.failed&&!this.replaced}},{key:"local",get:function(){return this.default.includes(this.hostGroup)}},{key:"service",get:function(){return this.id.split(":")[3]}},{key:"url",get:function(){var e=vr.parse(this.default);return e.host="".concat(this.uri).concat(e.port?":".concat(e.port):""),vr.format(e)}},{key:"setStatus",value:function(e){var t=e.failed,r=e.replaced;return void 0!==t&&(this.failed=t),void 0!==r&&(this.replaced=r),this}}],[{key:"polyGenerate",value:function(t){var r=t.catalog,n=t.name,i=t.url;return new e({catalog:r,defaultUri:i,hostGroup:vr.parse(i).host,id:n?"poly-head:poly-group:poly-cluster:".concat(n):void 0,priority:1,uri:vr.parse(i).host})}},{key:"validate",value:function(e){var t=e.catalog,r=e.defaultUri,n=e.hostGroup,i=e.id,o=e.priority,a=e.uri,s=function(e){throw new Error("service-host: invalid constructor parameters, ".concat(e))};Jr.includes(t)||s("'catalog' must be a string"),"string"!=typeof r&&s("'defaultUri' must be a string"),"string"!=typeof n&&s("'hostGroup' must be a string"),"string"==typeof i&&4===i.split(":").length||s("'id' must be a string that contains 3 ':' characters"),"number"!=typeof o&&s("'priority' must be a number"),"string"!=typeof a&&s("'uri' must be a string")}}]),e}();function wn(e,t){var r=f()(e);if(we()){var n=we()(e);t&&(n=n.filter((function(t){return ie()(e,t).enumerable}))),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Se()?xe()(e,Se()(r)):wn(Object(r)).forEach((function(t){Te()(e,t,ie()(r,t))}))}return e}var Sn=function(){function e(){(0,F.Z)(this,e),this.hosts=[]}return(0,B.Z)(e,[{key:"map",get:function(){return this.find({active:!0,local:!0,priority:!0}).reduce((function(e,t){var r={};return r[t.service]=t.url,_n(_n({},e),r)}),{})}},{key:"clear",value:function(e){var t=this.find(e);return this.hosts=this.hosts.filter((function(e){return!t.includes(e)})),t}},{key:"failed",value:function(e){var t=this.find(e);return t.forEach((function(e){e.setStatus({failed:!0})})),t}},{key:"filterActive",value:function(e){return"boolean"==typeof e?this.hosts.filter((function(t){return t.active===e})):(0,_.Z)(this.hosts)}},{key:"filterCatalog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=(ln()(t)?t:[t]).map((function(t){return e.mapCatalogName({id:t,type:Xr})||t}));return r.length>0?this.hosts.filter((function(e){return r.includes(e.catalog)})):(0,_.Z)(this.hosts)}},{key:"filterCluster",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ln()(e)?e:[e];return t.length>0?this.hosts.filter((function(e){return t.includes(e.id)})):(0,_.Z)(this.hosts)}},{key:"filterLocal",value:function(e){return"boolean"==typeof e?this.hosts.filter((function(t){return t.local===e})):(0,_.Z)(this.hosts)}},{key:"filterPriority",value:function(t){return t?this.hosts.reduce((function(t,r){if(!r.active)return t;var n=t.find((function(e){return e.hostGroup===r.hostGroup}));return n?((e.mapCatalogName({id:n.catalog,type:Qr})<e.mapCatalogName({id:r.catalog,type:Qr})||n.priority<r.priority)&&(t.splice(t.indexOf(n,1)),t.push(r)),t):(t.push(r),t)}),[]):(0,_.Z)(this.hosts)}},{key:"filterService",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ln()(e)?e:[e];return t.length>0?this.hosts.filter((function(e){return t.includes(e.service)})):(0,_.Z)(this.hosts)}},{key:"filterUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ln()(e)?e:[e];return t.length>0?this.hosts.filter((function(e){return t.includes(e.url)})):(0,_.Z)(this.hosts)}},{key:"find",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.active,n=t.catalog,i=t.cluster,o=t.local,a=t.priority,s=t.service,c=t.url;return this.hosts.filter((function(t){return e.filterActive(r).includes(t)&&e.filterCatalog(n).includes(t)&&e.filterCluster(i).includes(t)&&e.filterLocal(o).includes(t)&&e.filterPriority(a).includes(t)&&e.filterService(s).includes(t)&&e.filterUrl(c).includes(t)}))}},{key:"load",value:function(){var t,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){return!!e.mapCatalogName({id:t.catalog,type:Xr})}));return(t=this.hosts).push.apply(t,(0,_.Z)(r.map((function(e){return new bn(e)})))),this}},{key:"replaced",value:function(e){var t=this.find(e);return t.forEach((function(e){e.setStatus({replaced:!0})})),t}},{key:"reset",value:function(e){var t=this.find(e);return t.forEach((function(e){e.setStatus({failed:!1})})),t}}],[{key:"mapCatalogName",value:function(e){var t=e.id,r=e.type;if("number"==typeof t){if(r===Qr)return void 0!==Jr[t]?t:void 0;if(r===Xr)return Jr[t]}if("string"==typeof t){if(r===Xr)return Jr.includes(t)?t:void 0;if(r===Qr)return Jr.includes(t)?Jr.indexOf(t):void 0}}},{key:"mapRemoteCatalog",value:function(t){var r=t.catalog,n=t.hostCatalog,i=t.serviceLinks,o=e.mapCatalogName({id:r,type:Xr});if(!Jr.includes(o))throw new Error("service-catalogs: '".concat(r,"' is not a valid catalog"));return f()(n).reduce((function(e,t){return e.push.apply(e,(0,_.Z)(n[t].map((function(e){return{catalog:o,defaultUri:i[e.id.split(":")[3]],hostGroup:t,id:e.id,priority:e.priority,uri:e.host}})))),e}),[])}}]),e}(),En=function(){function e(){var t=this;(0,F.Z)(this,e),Jr.forEach((function(r){t[r]=e.generateCatalogState()}))}return(0,B.Z)(e,[{key:"setCollecting",value:function(e,t){this[e]&&(this[e].collecting=t)}},{key:"setReady",value:function(e,t){this[e]&&(this[e].ready=t)}}],[{key:"generateCatalogState",value:function(){return{collecting:!1,ready:!1}}}]),e}();const xn={hydra:"https://api-usgov.webex.com/v1",u2c:"https://u2c.gov.ciscospark.com/u2c/api/v1"};function Rn(e,t){var r=f()(e);if(we()){var n=we()(e);t&&(n=n.filter((function(t){return ie()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Se()?xe()(e,Se()(r)):Rn(Object(r)).forEach((function(t){Te()(e,t,ie()(r,t))}))}return e}var kn=/(?:^\/)|(?:\/$)/,Cn={ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_CONVERSATION_CLUSTER_SERVICE||"identityLookup",On={ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.WEBEX_CONVERSATION_DEFAULT_CLUSTER||"".concat("urn:TEAM:us-east-2_a",":").concat(Cn),An=ye.extend({namespace:"Services",registries:new(re()),states:new(re()),props:{validateDomains:["boolean",!1,!0]},_catalogs:new(re()),_serviceUrls:null,getRegistry:function(){return this.registries.get(this.webex)},getState:function(){return this.states.get(this.webex)},_getCatalog:function(){return this._catalogs.get(this.webex)},get:function(e,t,r){return this._getCatalog().get(e,t,r)},hasService:function(e){return!!this.get(e)},hasAllowedDomains:function(){return this._getCatalog().getAllowedDomains().length>0},list:function(e,t){return this._getCatalog().list(e,t)},markFailedUrl:function(e,t){return this._getCatalog().markFailedUrl(e,t)},_updateServiceUrls:function(e){this._serviceUrls=Tn(Tn({},this._serviceUrls),e)},updateServices:function(){var e,t,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.from,o=n.query,a=n.token,s=n.forceRefresh,c=this._getCatalog();switch(i){case"limited":t="preauth";break;case"signin":t="signin";break;default:t="postauth"}if(c.status[t].collecting)return this.waitForCatalog(t);if(c.status[t].collecting=!0,"preauth"===t){var u=o&&f()(o)[0];if(!["email","emailhash","userId","orgId","mode"].includes(u))return h().reject(new Error("a query param of email, emailhash, userId, orgId, or mode is required"))}if("preauth"===t||"signin"===t){var l=f()(o)[0];e={},"email"===l&&o.email?e.emailhash=tn()(o.email.toLowerCase()).toString():e[l]=o[l]}return this._fetchNewServiceHostmap({from:i,token:a,query:e,forceRefresh:s}).then((function(e){c.updateServiceUrls(t,e),r.updateCredentialsConfig(),c.status[t].collecting=!1})).catch((function(e){return c.status[t].collecting=!1,h().reject(e)}))},validateUser:function(e){var t=this,r=e.email,n=e.reqId,i=void 0===n?"WEBCLIENT":n,o=e.forceRefresh,a=void 0!==o&&o,s=e.activationOptions,c=void 0===s?{}:s,u=e.preloginUserId;if(this.logger.info("services: validating a user"),!r)return h().reject(new Error("`email` is required"));if(this.webex.credentials.canAuthorize)return this.updateServices({forceRefresh:a}).then((function(){return t.webex.credentials.getUserToken()})).then((function(e){return t.sendUserActivation({email:r,reqId:i,token:e.toString(),activationOptions:c,preloginUserId:u})})).then((function(e){return{activated:!0,exists:!0,details:"user is authorized via a user token",user:e}}));var f,l=this.webex.credentials.config,p=l.client_id,d=l.client_secret;return p&&d?this.collectPreauthCatalog({email:r}).then((function(){var e=t.get("idbroker",!0);return t.webex.credentials.getClientToken({uri:"".concat(e,"idb/oauth2/v1/access_token"),scope:"webexsquare:admin webexsquare:get_conversation Identity:SCIM"})})).then((function(e){return f=e.toString(),t.collectSigninCatalog({email:r,token:f,forceRefresh:a})})).catch((function(e){return{exists:"NotFound"!==e.name,activated:!1,details:"NotFound"!==e.name?"user exists but is not activated":"user does not exist and is not activated"}})).then((function(e){return h().all([e||{activated:!0,exists:!0,details:"user exists and is activated"},t.sendUserActivation({email:r,reqId:i,token:f,activationOptions:c,preloginUserId:u})])})).then((function(e){var t=(0,Lr.Z)(e,2),r=t[0],n=t[1];return Tn(Tn({},r),{},{user:n})})).catch((function(e){var t={statusCode:e.statusCode,responseText:e.body&&e.body.message,body:e.body};return h().reject(t)})):h().reject(new Error("client authentication details are not available"))},getMeetingPreferences:function(){var e=this;return this.request({method:"GET",service:"hydra",resource:"meetingPreferences"}).then((function(t){return e.logger.info("services: received user region info"),t.body})).catch((function(t){e.logger.info("services: was not able to fetch user login information",t)}))},fetchClientRegionInfo:function(){var e=this;return this.request({uri:"https://ds.ciscospark.com/v1/region",addAuthHeader:!1,headers:{"spark-user-agent":null},timeout:5e3}).then((function(t){return e.logger.info("services: received user region info"),t.body})).catch((function(t){e.logger.info("services: was not able to get user region info",t)}))},sendUserActivation:function(e){var t,r,n=this,i=e.email,o=e.reqId,a=e.token,s=e.activationOptions,c=e.preloginUserId;return this.logger.info("services: sending user activation request"),this.fetchClientRegionInfo().then((function(e){return e&&(t=e.countryCode,r=e.timezone),n.request({service:"license",resource:"users/activations",method:"POST",headers:{accept:"application/json",authorization:a,"x-prelogin-userid":c},body:Tn({email:i,reqId:o,countryCode:t,timeZone:r},s),shouldRefreshAccessToken:!1})})).then((function(e){return e.body})).catch((function(e){return h().reject(e)}))},collectPreauthCatalog:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.updateServices({from:"limited",query:e,forceRefresh:t}):this.updateServices({from:"limited",query:{mode:"DEFAULT_BY_PROXIMITY"},forceRefresh:t})},collectSigninCatalog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.email,r=e.token,n=e.forceRefresh;return t?r?this.updateServices({from:"signin",query:{email:t},token:r,forceRefresh:n}):h().reject(new Error("`token` is required")):h().reject(new Error("`email` is required"))},updateCredentialsConfig:function(){var e=this.list(!0),t=e.idbroker,r=e.identity;if(t&&r){var n=this.webex.config.credentials,i=n.authorizationString,o=n.authorizeUrl;this.webex.config.credentials.authorizeUrl=i?o:"".concat(t.replace(kn,""),"/idb/oauth2/v1/authorize"),this.webex.setConfig({credentials:{idbroker:{url:t.replace(kn,"")},identity:{url:r.replace(kn,"")}}})}},waitForCatalog:function(e,t){var r=this._getCatalog(),n=this.webex.credentials.supertoken;return"postauth"===e&&n&&n.access_token&&!r.status.postauth.collecting&&!r.status.postauth.ready?r.status.preauth.ready?this.updateServices():this.initServiceCatalogs():r.waitForCatalog(e,t)},waitForService:function(e){var t=this,r=e.name,n=e.timeout,i=void 0===n?5:n,o=e.url,a=this.webex.config.services,s=this._getCatalog();if(a.servicesNotNeedValidation.find((function(e){return e===r})))return h().resolve(this._serviceUrls[r]);var c=this.get(r,!0),u=this.getServiceFromUrl(o);return c||u?h().resolve(c||u.priorityUrl):s.isReady?o?h().resolve(o):(this.webex.internal.metrics.submitClientMetrics(rn,{fields:{service_name:r}}),h().reject(new Error("services: service '".concat(r,"' was not found in any of the catalogs")))):new(h())((function(e,n){h().all(["preauth","signin","postauth"].map((function(n){return a=n,s.waitForCatalog(a,i).then((function(){var n=t.get(r,!0),i=t.getServiceFromUrl(o);(n||i)&&e(n||i.priorityUrl)})).catch((function(){}));var a}))).then((function(){t.webex.internal.metrics.submitClientMetrics(rn,{fields:{service_name:r}}),n(new Error("services: service '".concat(r,"' was not found after waiting")))}))}))},_formatReceivedHostmap:function(e){var t=f()(e.hostCatalog).reduce((function(t,r){var n;if(0===e.hostCatalog[r].length)return t;var i=e.hostCatalog[r][0].id.split(":")[3],o=e.serviceLinks[i],a=t.find((function(e){return e.name===i}));return a||(a={name:i,defaultUrl:o,defaultHost:vr.parse(o).hostname,hosts:[]},t.push(a)),(n=a.hosts).push.apply(n,[{host:r,ttl:-1,priority:10,id:e.hostCatalog[r][0].id,homeCluster:a.defaultHost===r}].concat((0,_.Z)(e.hostCatalog[r].map((function(e){return Tn(Tn({},e),{},{homeCluster:a.defaultHost===r})}))))),t}),[]);return f()(e.serviceLinks).forEach((function(r){t.find((function(e){return e.name===r}))||t.push({name:r,defaultUrl:e.serviceLinks[r],defaultHost:vr.parse(e.serviceLinks[r]).hostname,hosts:[]})})),this._updateServiceUrls(e.serviceLinks),t},getClusterId:function(e){return this._getCatalog().findClusterId(e)},getServiceFromClusterId:function(e){return this._getCatalog().findServiceFromClusterId(e)},getServiceUrlFromClusterId:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cluster,t=void 0===e?"us":e,r="us"===t?On:t;r.split(":").length<4&&(r="".concat(t,":").concat(Cn));var n=(this.getServiceFromClusterId({clusterId:r})||{}).url;if(!n)throw Error("Could not find service for cluster [".concat(t,"]"));return n},getServiceFromUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._getCatalog().findServiceUrlFromUrl(e);if(t)return{name:t.name,priorityUrl:t.get(!0),defaultUrl:t.get()}},isServiceUrl:function(e){return!!this._getCatalog().findServiceUrlFromUrl(e)},isAllowedDomainUrl:function(e){return!!this._getCatalog().findAllowedDomain(e)},convertUrlToPriorityHostUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getServiceFromUrl(e);if(!t)throw Error("No service associated with url: [".concat(e,"]"));return e.replace(t.defaultUrl,t.priorityUrl)},_fetchNewServiceHostmap:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.from,n=t.query,i=t.token,o=t.forceRefresh,a=r?"/".concat(r,"/catalog"):"/catalog",s=Tn(Tn({},n),{},{format:"hostmap"});o&&(s.timestamp=(new Date).getTime());var c={method:"GET",service:"u2c",resource:a,qs:s};return i&&(c.headers={authorization:i}),this.request(c).then((function(t){var r=t.body;return e._formatReceivedHostmap(r)}))},initConfig:function(){var e=this._getCatalog(),t=this.webex.config,r=t.services,n=t.fedramp;if(r){if(n&&(r.discovery=xn),r.discovery){var i=f()(r.discovery).map((function(e){return{name:e,defaultUrl:r.discovery[e]}}));e.updateServiceUrls("discovery",i)}if(r.override){var o=f()(r.override).map((function(e){return{name:e,defaultUrl:r.override[e]}}));e.updateServiceUrls("override",o)}r.allowedDomains&&e.setAllowedDomains(r.allowedDomains),this.validateDomains=r.validateDomains}},initServiceCatalogs:function(){var e=this;this.logger.info("services: initializing initial service catalogs");var t=this.webex.credentials;return h().resolve().then((function(){return t.getOrgId()})).then((function(t){return e.collectPreauthCatalog({orgId:t})})).then((function(){return t.canAuthorize?e.updateServices().catch((function(){return e.logger.warn("services: cannot retrieve postauth catalog")})):h().resolve()}))},initialize:function(){var e=this,t=new yn,r=new Sn,n=new En;this._catalogs.set(this.webex,t),this.registries.set(this.webex,r),this.states.set(this.webex,n),this.listenToOnce(this.webex,"change:config",(function(){e.initConfig()})),this.listenToOnce(this.webex,"ready",(function(){var r=e.webex.credentials.supertoken;if(r&&r.access_token)e.initServiceCatalogs().then((function(){t.isReady=!0})).catch((function(t){return e.logger.error("services: failed to init initial services, ".concat(t.message))}));else{var n=e.webex.config.email;e.collectPreauthCatalog(n?{email:n}:void 0)}}))},version:"2.54.2"});const In=An;function Ln(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var Pn=function(e){(0,Z.Z)(r,e);var t=Ln(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onResponseError",value:function(e,t){if((t instanceof kt.InternalServerError||t instanceof kt.BadGateway||t instanceof kt.ServiceUnavailable)&&e.uri){var r=this.webex.internal.device.features.developer.get("web-high-availability");if(r&&r.value)return this.webex.internal.metrics.submitClientMetrics("web-ha",{fields:{success:!1},tags:{action:"failed",error:t.message,url:e.uri}}),h().resolve(this.webex.internal.services.markFailedUrl(e.uri)).then((function(){return h().reject(t)}))}return h().reject(t)}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);function Mn(e){var t=function(){if("undefined"==typeof Reflect||!U())return!1;if(U().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(U()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,q.Z)(e);if(t){var i=(0,q.Z)(this).constructor;r=U()(n,arguments,i)}else r=n.apply(this,arguments);return(0,V.Z)(this,r)}}var Nn=/(?:^\/)|(?:\/$)/,Dn=function(e){(0,Z.Z)(r,e);var t=Mn(r);function r(){return(0,F.Z)(this,r),t.apply(this,arguments)}return(0,B.Z)(r,[{key:"onRequest",value:function(e){var t=this;if(e.uri)return e;this.normalizeOptions(e),this.validateOptions(e);var r=this.webex.internal.services,n=e.service,i=e.resource;return r.waitForService({name:n}).then((function(r){return e.uri=t.generateUri(r,i),e})).catch((function(){return h().reject(new Error("service-interceptor: '".concat(n,"' is not a known service")))}))}},{key:"generateUri",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.replace(Nn,""),n=t.replace(Nn,"");return"".concat(r,"/").concat(n)}},{key:"normalizeOptions",value:function(e){e.api&&(e.service=e.service||e.api,delete e.api)}},{key:"validateOptions",value:function(e){if(!e.resource)throw new Error("a `resource` parameter is required");if(!e.service)throw new Error("a valid 'service' parameter is required")}}],[{key:"create",value:function(){return new r({webex:this})}}]),r}(Je.nK);cr("services",In,{interceptors:{ServiceInterceptor:Dn.create,ServerErrorInterceptor:Pn.create}});var jn,Un,Bn=r(44894),Fn=new(re()),Zn=(jn=function(){function e(){var t,r,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,F.Z)(this,e),t=this,r="ready",i=this,(n=Un)&&Re(t,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0});var s=o.webex||a.parent;if(!s)throw new Error("One of `attrs.webex` or `options.parent` must be supplied when initializing a StatelessWebexPlugin");for(;s.parent||s.collection;)s=s.parent||s.collection;Fn.set(this,s)}return(0,B.Z)(e,[{key:"config",get:function(){var e=this.getNamespace?this.getNamespace():this.namespace;return e?(e=e.toLowerCase(),this.webex.config[e]):this.webex.config}},{key:"logger",get:function(){return this.webex.logger}},{key:"webex",get:function(){return Fn.get(this)}},{key:"request",value:function(){var e;return(e=this.webex).request.apply(e,arguments)}},{key:"upload",value:function(){var e;return(e=this.webex).upload.apply(e,arguments)}}]),e}(),Un=(0,ee.Z)(jn.prototype,"ready",[Bn.OT],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jn);ae()(Zn.prototype,ce());const Vn=ye.extend({session:{deferreds:{type:"object",default:function(){return new(P())}},queue:{type:"array",default:function(){return[]}}},derived:{bounce:{fn:function(){var e=this;return(0,D.cappedDebounce)((function(){return e.executeQueue.apply(e,arguments)}),this.config.batcherWait,{maxCalls:this.config.batcherMaxCalls,maxWait:this.config.batcherMaxWait})}}},request:function(e){var t=this,r=new D.Defer;return this.fingerprintRequest(e).then((function(n){t.deferreds.has(n)?r.resolve(t.deferreds.get(n).promise):(t.deferreds.set(n,r),t.prepareItem(e).then((function(e){r.promise=r.promise.then((0,D.tap)((function(){return t.deferreds.delete(n)}))).catch((function(e){return t.deferreds.delete(n),h().reject(e)})),t.enqueue(e).then((function(){return t.bounce()})).catch((function(e){return r.reject(e)}))})).catch((function(e){return r.reject(e)})))})).catch((function(e){return r.reject(e)})),r.promise},enqueue:function(e){return this.queue.push(e),h().resolve()},prepareItem:function(e){return h().resolve(e)},executeQueue:function(){var e=this,t=this.queue.splice(0,this.config.batcherMaxCalls);return new(h())((function(r){r(e.prepareRequest(t).then((function(t){return e.submitHttpRequest(t).then((function(t){return e.handleHttpSuccess(t)}))})).catch((function(r){return r instanceof kt?e.handleHttpError(r):h().all(t.map((function(t){return e.getDeferredForRequest(t).then((function(e){e.reject(r)}))})))})))})).catch((function(t){return e.logger.error(t),h().reject(t)}))},prepareRequest:function(e){return h().resolve(e)},submitHttpRequest:function(e){throw new Error("request() must be implemented")},handleHttpSuccess:function(e){var t=this;return h().all((e.body&&e.body.items||e.body).map((function(e){return t.acceptItem(e)})))},handleHttpError:function(e){var t=this;return e instanceof kt&&gt()(e,"options.body.map")?h().all(e.options.body.map((function(r){return t.getDeferredForRequest(r).then((function(t){t.reject(e)}))}))):(this.logger.error("http error handler called without a WebexHttpError object",e),h().reject(e))},acceptItem:function(e){var t=this;return this.didItemFail(e).then((function(r){return r?t.handleItemFailure(e):t.handleItemSuccess(e)}))},didItemFail:function(e){return h().resolve(!1)},handleItemFailure:function(e){return this.getDeferredForResponse(e).then((function(t){t.reject(e)}))},handleItemSuccess:function(e){return this.getDeferredForResponse(e).then((function(t){t.resolve(e)}))},getDeferredForRequest:function(e){var t=this;return this.fingerprintRequest(e).then((function(e){var r=t.deferreds.get(e);if(!r)throw new Error("Could not find pending request for received response");return r}))},getDeferredForResponse:function(e){var t=this;return this.fingerprintResponse(e).then((function(e){var r=t.deferreds.get(e);if(!r)throw new Error("Could not find pending request for received response");return r}))},fingerprintRequest:function(e){throw new Error("fingerprintRequest() must be implemented")},fingerprintResponse:function(e){throw new Error("fingerprintResponse() must be implemented")},version:"2.54.2"});var qn=new(re()),zn=new(re()),Wn=new(re());un()},90579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(21105),i=r(8167),o=r(31314),a=r(83977),s=r.n(a),c=r(8450),u=r.n(c),f=r(73473),l=r.n(f),p=r(67857),d=r.n(p),h=new(s()),v=new(s());const m={boundedAdapter:new(function(){function e(t){(0,i.Z)(this,e),this.Bound=function(){function e(t,r){(0,i.Z)(this,e),h.set(this,t),v.set(this,r.logger)}return(0,o.Z)(e,[{key:"_getRawData",value:function(){var e=localStorage.getItem(t);return e?JSON.parse(e):{}}},{key:"_load",value:function(){return this._getRawData()[h.get(this)]||{}}},{key:"_save",value:function(e){var r=this._getRawData();r[h.get(this)]=e,localStorage.setItem(t,u()(r))}},{key:"clear",value:function(){return v.get(this).info("local-storage-store-adapter: clearing localStorage"),l().resolve(localStorage.removeItem(t))}},{key:"del",value:function(e){var t=this;return new(l())((function(r){v.get(t).info("local-storage-store-adapter: deleting `".concat(e,"`"));var n=t._load();d()(n,e),t._save(n),r()}))}},{key:"get",value:function(e){var t=this;return new(l())((function(r,i){v.get(t).debug("local-storage-store-adapter: reading `".concat(e,"`"));var o=t._load()[e];return void 0!==o?r(o):i(new n.dR("No value found for ".concat(e)))}))}},{key:"put",value:function(e,t){var r=this;return new(l())((function(n){v.get(r).debug("local-storage-store-adapter: writing `".concat(e,"`"));var i=r._load();i[e]=t,r._save(i),n()}))}}]),e}()}return(0,o.Z)(e,[{key:"bind",value:function(e,t){return t=t||{},e?t.logger?(t.logger.debug("local-storage-store-adapter: returning binding"),l().resolve(new this.Bound(e,t))):l().reject(new Error("`options.logger` is required")):l().reject(new Error("`namespace` is required"))}}]),e}())("webex"),unboundedAdapter:n.t8},g={hydra:"https://api.ciscospark.com/v1",hydraServiceUrl:"https://api.ciscospark.com/v1",credentials:{clientType:"confidential"},device:{validateDomains:!0,ephemeral:!0},storage:{boundedAdapter:m,unboundedAdapter:m}}},25144:(e,t,r)=>{var n=r(61070),i=r(33217),o=r(98433),a=r(4220);e.exports.Backoff=n,e.exports.FunctionCall=a,e.exports.FibonacciStrategy=o,e.exports.ExponentialStrategy=i,e.exports.fibonacci=function(e){return new n(new o(e))},e.exports.exponential=function(e){return new n(new i(e))},e.exports.call=function(e,t,r){var n=Array.prototype.slice.call(arguments);return e=n[0],t=n.slice(1,n.length-1),r=n[n.length-1],new a(e,t,r)}},61070:(e,t,r)=>{var n=r(17187),i=r(3814);function o(e){n.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}r(89539).inherits(o,n.EventEmitter),o.prototype.failAfter=function(e){i.checkArgument(e>0,"Expected a maximum number of retry greater than 0 but got %s.",e),this.maxNumberOfRetry_=e},o.prototype.backoff=function(e){i.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",e),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,e))},o.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},o.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=o},4220:(e,t,r)=>{var n=r(17187),i=r(3814),o=r(89539),a=r(61070),s=r(98433);function c(e,t,r){n.EventEmitter.call(this),i.checkIsFunction(e,"Expected fn to be a function."),i.checkIsArray(t,"Expected args to be an array."),i.checkIsFunction(r,"Expected callback to be a function."),this.function_=e,this.arguments_=t,this.callback_=r,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=c.DEFAULT_RETRY_PREDICATE_,this.state_=c.State_.PENDING}o.inherits(c,n.EventEmitter),c.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},c.DEFAULT_RETRY_PREDICATE_=function(e){return!0},c.prototype.isPending=function(){return this.state_==c.State_.PENDING},c.prototype.isRunning=function(){return this.state_==c.State_.RUNNING},c.prototype.isCompleted=function(){return this.state_==c.State_.COMPLETED},c.prototype.isAborted=function(){return this.state_==c.State_.ABORTED},c.prototype.setStrategy=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=e,this},c.prototype.retryIf=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=e,this},c.prototype.getLastResult=function(){return this.lastResult_.concat()},c.prototype.getNumRetries=function(){return this.numRetries_},c.prototype.failAfter=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=e,this},c.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=c.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},c.prototype.start=function(e){i.checkState(!this.isAborted(),"FunctionCall is aborted."),i.checkState(this.isPending(),"FunctionCall already started.");var t=this.strategy_||new s;this.backoff_=e?e(t):new a(t),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=c.State_.RUNNING,this.doCall_(!1)},c.prototype.doCall_=function(e){e&&this.numRetries_++;var t=["call"].concat(this.arguments_);n.EventEmitter.prototype.emit.apply(this,t);var r=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(r))},c.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},c.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,n.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var t=e[0];t&&this.retryPredicate_(t)?this.backoff_.backoff(t):(this.state_=c.State_.COMPLETED,this.doCallback_())}},c.prototype.handleBackoff_=function(e,t,r){this.emit("backoff",e,t,r)},e.exports=c},33217:(e,t,r)=>{var n=r(89539),i=r(3814),o=r(99618);function a(e){o.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=a.DEFAULT_FACTOR,e&&void 0!==e.factor&&(i.checkArgument(e.factor>1,"Exponential factor should be greater than 1 but got %s.",e.factor),this.factor_=e.factor)}n.inherits(a,o),a.DEFAULT_FACTOR=2,a.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},a.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=a},98433:(e,t,r)=>{var n=r(89539),i=r(99618);function o(e){i.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}n.inherits(o,i),o.prototype.next_=function(){var e=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=e,e},o.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=o},99618:(e,t,r)=>{r(17187),r(89539);function n(e){return null!=e}function i(e){if(n((e=e||{}).initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(n(e.maxDelay)&&e.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=e.initialDelay||100,this.maxDelay_=e.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(n(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=e.randomisationFactor||0}i.prototype.getMaxDelay=function(){return this.maxDelay_},i.prototype.getInitialDelay=function(){return this.initialDelay_},i.prototype.next=function(){var e=this.next_(),t=1+Math.random()*this.randomisationFactor_;return Math.round(e*t)},i.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},i.prototype.reset=function(){this.reset_()},i.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=i},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=c(e),a=o[0],s=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),f=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(u(e,s,s+a>c?c:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},51206:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),a=Math.max(i,o),s=0,c=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=o.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),a=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var f=s.default.find(a,(function(e){return t.isPlatform(e)}));if(f){var l=this.satisfies(r[f]);if(void 0!==l)return l}}if(o>0){var p=Object.keys(i),d=s.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})},88500:(e,t,r)=>{"use strict";var n=r(48764).Buffer,i=r(48764).SlowBuffer;function o(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=o,o.install=function(){n.prototype.equal=i.prototype.equal=function(e){return o(this,e)}};var a=n.prototype.equal,s=i.prototype.equal;o.restore=function(){n.prototype.equal=a,i.prototype.equal=s}},48764:(e,t,r)=>{"use strict";const n=r(79742),i=r(80645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|v(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Y(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),s(e<0?0:0|h(e))}function p(e){const t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(Y(n))return a;e[r+a]=n}return a}function _(e,t,r,n){return H(G(t,e.length-r),e,r,n)}function S(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return H($(t),e,r,n)}function x(e,t,r,n){return H(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},c.allocUnsafe=function(e){return l(e)},c.allocUnsafeSlow=function(e){return l(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==f[e]){o=u[e],a=f[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=J[e[n]];return i}function I(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function N(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return t=+t,r>>>=0,o||D(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return t=+t,r>>>=0,o||D(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){P(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){P(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const B={};function F(e,t,r){B[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Z(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||z(t,e.length-(r+1))}(n,i,o)}function q(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new B.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Z(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},21924:(e,t,r)=>{"use strict";var n=r(40210),i=r(55559),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},55559:(e,t,r)=>{"use strict";var n=r(58612),i=r(40210),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),f=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(n,a,arguments);c&&u&&(c(t,"length").configurable&&u(t,"length",{value:1+f(0,e.length-(arguments.length-1))}));return t};var l=function(){return s(n,o,arguments)};u?u(e.exports,"apply",{value:l}):e.exports.apply=l},44894:(e,t,r)=>{"use strict";r.d(t,{OT:()=>k});var n=Object.defineProperty;function i(e,t,r){var i=r.configurable,o=r.enumerable,a=r.initializer,s=r.value;return{configurable:i,enumerable:o,get:function(){if(this!==e){var r=a?a.call(this):s;return n(this,t,{configurable:i,enumerable:o,writable:!0,value:r}),r}},set:w(t)}}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return g(i,t)}var a,s,c,u,f,l,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function d(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function v(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var m=Object.defineProperty;Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.getOwnPropertySymbols;function g(e,t){return function(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,n=t.length;r<n;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}(t[t.length-1])?e.apply(void 0,v(t).concat([[]])):function(){return e.apply(void 0,v(Array.prototype.slice.call(arguments)).concat([t]))}}var y=(a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"debounceTimeoutIds",s,this),d(this,"throttleTimeoutIds",c,this),d(this,"throttlePreviousTimestamps",u,this),d(this,"throttleTrailingArgs",f,this),d(this,"profileLastRan",l,this)},s=h(a.prototype,"debounceTimeoutIds",[o],{enumerable:!0,initializer:function(){return{}}}),c=h(a.prototype,"throttleTimeoutIds",[o],{enumerable:!0,initializer:function(){return{}}}),u=h(a.prototype,"throttlePreviousTimestamps",[o],{enumerable:!0,initializer:function(){return{}}}),f=h(a.prototype,"throttleTrailingArgs",[o],{enumerable:!0,initializer:function(){return null}}),l=h(a.prototype,"profileLastRan",[o],{enumerable:!0,initializer:function(){return null}}),a),b="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function w(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}}function _(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var S="object"===("undefined"==typeof console?"undefined":p(console))&&console&&"function"==typeof console.warn?_(console.warn,console):function(){};var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var R=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;!function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentKlass=t,this.childKlass=r,this.parentDescriptor=n,this.childDescriptor=i}x(e,[{key:"_getTopic",value:function(e){return void 0===e?null:"value"in e?e.value:"get"in e?e.get:"set"in e?e.set:void 0}},{key:"_extractTopicSignature",value:function(e){return"function"===(void 0===e?"undefined":E(e))?this._extractFunctionSignature(e):this.key}},{key:"_extractFunctionSignature",value:function(e){var t=this;return e.toString().replace(R,(function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key)+arguments[2]}))}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),x(e,[{key:"assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==e&&this.error("{child} does not properly override {parent}"+t)}},{key:"error",value:function(e){var t=this;throw e=e.replace("{parent}",(function(e){return t.parentNotation})).replace("{child}",(function(e){return t.childNotation})),new SyntaxError(e)}}])}();Object.assign;Object.assign,"function"==typeof Symbol&&Symbol.iterator;Object.assign;Object.defineProperty,Object.getPrototypeOf;function T(e,t,r){return r.writable=!1,r}function k(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return g(T,t)}Object.assign;Object.assign;Object.defineProperty;"function"==typeof Symbol&&Symbol.iterator,Object.defineProperty,Object.getPrototypeOf;Object.assign;var C={};console.time&&console.time.bind(console),console.timeEnd&&console.timeEnd.bind(console);Object.assign,Object.getPrototypeOf,Object.getOwnPropertyDescriptor;var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=(console,{profile:console.profile?_(console.profile,console):function(){},profileEnd:console.profileEnd?_(console.profileEnd,console):function(){},warn:S});function L(e,t,r,n){var i=A(n,3),o=i[0],a=void 0===o?null:o,s=i[1],c=void 0!==s&&s,u=i[2],f=void 0===u?I:u;if(!P.__enabled)return P.__warned||(f.warn("console.profile is not supported. All @profile decorators are disabled."),P.__warned=!0),r;var l=r.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof l)throw new SyntaxError("@profile can only be used on functions, not: "+l);return O({},r,{value:function(){var e,t=Date.now(),r=(!1===(e=this).hasOwnProperty(b)&&m(e,b,{value:new y}),e[b]);(!0===c&&!r.profileLastRan||!1===c||"number"==typeof c&&t-r.profileLastRan>c||"function"==typeof c&&c.apply(this,arguments))&&(f.profile(a),r.profileLastRan=t);try{return l.apply(this,arguments)}finally{f.profileEnd(a)}}})}function P(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return g(L,t)}P.__enabled=!!console.profile,P.__warned=!1;Object.defineProperty,Object.getOwnPropertyDescriptor},78249:function(e,t,r){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(42480)}catch(e){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new u.init(t,e)}}),f=a.enc={},l=f.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},p=f.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},d=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,f=e.min(4*c,o);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(i,l);r=i.splice(0,c),n.sigBytes-=f}return new u.init(r,f)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(s.Hasher=h.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),n)},52153:function(e,t,r){var n;e.exports=(n=r(78249),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(s[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var u=[],f=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],f=r[5],l=r[6],p=r[7],d=0;d<64;d++){if(d<16)u[d]=0|e[t+d];else{var h=u[d-15],v=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=u[d-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[d]=v+u[d-7]+g+u[d-16]}var y=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&l)+c[d]+u[d];p=l,l=f,f=s,s=a+w|0,a=o,o=i,i=n,n=w+(b+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+f|0,r[6]=r[6]+l|0,r[7]=r[7]+p|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(f),t.HmacSHA256=o._createHmacHelper(f)}(Math),n.SHA256)},35015:(e,t,r)=>{"use strict";var n=r(89509).Buffer,i=r(6972),o=128,a=48,s=2;function c(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function u(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=o&&--n,n}e.exports={derToJose:function(e,t){e=c(e);var r=i(t),u=r+1,f=e.length,l=0;if(e[l++]!==a)throw new Error('Could not find expected "seq"');var p=e[l++];if(p===(1|o)&&(p=e[l++]),f-l<p)throw new Error('"seq" specified length of "'+p+'", only "'+(f-l)+'" remaining');if(e[l++]!==s)throw new Error('Could not find expected "int" for "r"');var d=e[l++];if(f-l-2<d)throw new Error('"r" specified length of "'+d+'", only "'+(f-l-2)+'" available');if(u<d)throw new Error('"r" specified length of "'+d+'", max of "'+u+'" is acceptable');var h=l;if(l+=d,e[l++]!==s)throw new Error('Could not find expected "int" for "s"');var v=e[l++];if(f-l!==v)throw new Error('"s" specified length of "'+v+'", expected "'+(f-l)+'"');if(u<v)throw new Error('"s" specified length of "'+v+'", max of "'+u+'" is acceptable');var m=l;if((l+=v)!==f)throw new Error('Expected to consume entire buffer, but "'+(f-l)+'" bytes remain');var g=r-d,y=r-v,b=n.allocUnsafe(g+d+y+v);for(l=0;l<g;++l)b[l]=0;e.copy(b,l,h+Math.max(-g,0),h+d);for(var w=l=r;l<w+y;++l)b[l]=0;return e.copy(b,l,m+Math.max(-y,0),m+v),b=(b=b.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=c(e);var r=i(t),f=e.length;if(f!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+f+'"');var l=u(e,0,r),p=u(e,r,e.length),d=r-l,h=r-p,v=2+d+1+1+h,m=v<o,g=n.allocUnsafe((m?2:3)+v),y=0;return g[y++]=a,m?g[y++]=v:(g[y++]=1|o,g[y++]=255&v),g[y++]=s,g[y++]=d,l<0?(g[y++]=0,y+=e.copy(g,y,0,r)):y+=e.copy(g,y,l,r),g[y++]=s,g[y++]=h,p<0?(g[y++]=0,e.copy(g,y,r)):e.copy(g,y,r+p),g}}},6972:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},17187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&v(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,a,u;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=a.length,u=f,console&&console.warn&&console.warn(u)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function v(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,f=h(c,u);for(r=0;r<u;++r)n(f[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},40001:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const Token=__webpack_require__(83416),strtok3=__webpack_require__(35849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(76188),supported=__webpack_require__(49898),minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(!(t&&t.length>1))return;return fromTokenizer(strtok3.fromBuffer(t))}function _check(e,t,r){r={offset:0,...r};for(const[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const r=(e,r)=>_check(t,e,r),n=(e,t)=>r(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:12,mayBeLess:!0}),r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(r([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),n("PS-Adobe-",{offset:2})&&n(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n("ID3")){await e.ignore(6);const i=await e.readToken(uint32SyncSafeToken);return e.position+i>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(i),fromTokenizer(e))}if(n("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n("FLIF"))return{ext:"flif",mime:"image/flif"};if(n("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(n("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(n("FORM"))return{ext:"aif",mime:"audio/aiff"};if(n("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(r([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});const o={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(o.filename=await e.readToken(new Token.StringType(o.filenameLength,"utf-8")),await e.ignore(o.extraFieldLength),"META-INF/mozilla.rsa"===o.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(o.filename.endsWith(".rels")||o.filename.endsWith(".xml")){switch(o.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}if(o.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(o.filename.startsWith("3D/")&&o.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===o.filename&&o.compressedSize===o.uncompressedSize){switch(await e.readToken(new Token.StringType(o.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===o.compressedSize){let a=-1;for(;a<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),a=t.indexOf("504B0304",0,"hex"),await e.ignore(a>=0?a:t.length)}else await e.ignore(o.compressedSize)}}catch(s){if(!(s instanceof strtok3.EndOfStreamError))throw s}return{ext:"zip",mime:"application/zip"}}if(n("OggS")){await e.ignore(28);const c=Buffer.alloc(8);return await e.readBuffer(c),_check(c,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(c,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(c,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(c,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(c,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(c,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(r([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n("ftyp",{offset:4})&&0!=(96&t[8])){const u=t.toString("binary",8,12).replace("\0"," ").trim();switch(u){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return u.startsWith("3g")?u.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(n("MThd"))return{ext:"mid",mime:"audio/midi"};if(n("wOFF")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(n("wOF2")&&(r([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([212,195,178,161])||r([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(n("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(n("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(n("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(n("%PDF")){await e.ignore(1350);const f=10485760,l=Buffer.alloc(Math.min(f,e.fileInfo.size));return await e.readBuffer(l,{mayBeLess:!0}),l.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([73,73,42,0]))return n("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:r([28,0,254,0],{offset:8})||r([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:r([8,0,0,0],{offset:4})&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n("MAC "))return{ext:"ape",mime:"audio/ape"};if(r([26,69,223,163])){async function p(){const t=await e.peekNumber(Token.UINT8);let r=128,n=0;for(;0==(t&r)&&0!==r;)++n,r>>=1;const i=Buffer.alloc(n+1);return await e.readBuffer(i),i}async function d(){const e=await p(),t=await p();t[0]^=128>>t.length-1;const r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}async function h(t,r){for(;r>0;){const t=await d();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--r}}const v=await d();switch(await h(0,v.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n("MSCF")||n("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(r([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(n("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n("IMPM"))return{ext:"it",mime:"audio/x-it"};if(n("-lh0-",{offset:2})||n("-lh1-",{offset:2})||n("-lh2-",{offset:2})||n("-lh3-",{offset:2})||n("-lh4-",{offset:2})||n("-lh5-",{offset:2})||n("-lh6-",{offset:2})||n("-lh7-",{offset:2})||n("-lzs-",{offset:2})||n("-lz4-",{offset:2})||n("-lz5-",{offset:2})||n("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(r([0,0,1,186])){if(r([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(r([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(n("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n("solid "))return{ext:"stl",mime:"model/stl"};if(n("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(n("!<arch>")){await e.ignore(8);return"debian-binary"===await e.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"}}if(r([137,80,78,71,13,10,26,10])){async function m(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{const g=await m();if(g.length<0)return;switch(g.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(g.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(r([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(r([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(n("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(r([48,38,178,117,142,102,207,17,166,217])){async function y(){const t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const b=await y();let w=b.size-24;if(_check(b.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const _=Buffer.alloc(16);if(w-=await e.readBuffer(_),_check(_,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(_,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(w)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){await e.ignore(20);switch(await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}}if(r([255,10])||r([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),n("BEGIN:")){if(n("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(n("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(n("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(n("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(r([4,0,0,0])&&t.length>=16){const S=t.readUInt32LE(12);if(S>12&&t.length>=S+16)try{const E=t.slice(16,S+16).toString();if(JSON.parse(E).files)return{ext:"asar",mime:"application/x-asar"}}catch(x){}}if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(r([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(n("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&r([255,224],{offset:0,mask:[255,224]})){if(r([16],{offset:1,mask:[22]}))return r([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(r([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(async()=>{const e=new stream.PassThrough;let t;t=stream.pipeline?stream.pipeline(readableStream,e,(()=>{})):readableStream.pipe(e);const r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const t=await fromBuffer(r);e.fileType=t}catch(e){reject(e)}resolve(t)}))})),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},97769:(e,t,r)=>{"use strict";const n=r(26597),i=r(40001);const o={fromFile:async function(e){const t=await n.fromFile(e);try{return await i.fromTokenizer(t)}finally{await t.close()}}};Object.assign(o,i),Object.defineProperty(o,"extensions",{get:()=>i.extensions}),Object.defineProperty(o,"mimeTypes",{get:()=>i.mimeTypes}),e.exports=o},49898:e=>{"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},76188:(e,t)=>{"use strict";t.stringToBytes=e=>[...e].map((e=>e.charCodeAt(0))),t.tarHeaderChecksumMatches=(e,t=0)=>{const r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let n=256;for(let r=t;r<t+148;r++)n+=e[r];for(let r=t+156;r<t+512;r++)n+=e[r];return r===n},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},94029:(e,t,r)=>{"use strict";var n=r(95320),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},17648:e=>{"use strict";var t=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i,o=t.call(arguments,1),a=Math.max(0,n.length-o.length),s=[],c=0;c<a;c++)s.push("$"+c);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var r=n.apply(this,o.concat(t.call(arguments)));return Object(r)===r?r:this}return n.apply(e,o.concat(t.call(arguments)))})),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i}},58612:(e,t,r)=>{"use strict";var n=r(17648);e.exports=Function.prototype.bind||n},40210:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new a},f=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,l=r(41405)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},h="undefined"==typeof Uint8Array?n:p(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):n,"%Symbol%":l?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":f,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(e){var m=p(p(e));v["%Error.prototype%"]=m}var g=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=p(i.prototype))}return v[t]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(58612),w=r(17642),_=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),x=b.call(Function.call,String.prototype.slice),R=b.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,C=function(e,t){var r,n=e;if(w(y,n)&&(n="%"+(r=y[n])[0]+"%"),w(v,n)){var o=v[n];if(o===d&&(o=g(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=x(e,0,1),r=x(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return E(e,T,(function(e,t,r,i){n[n.length]=r?E(i,k,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=C("%"+n+"%",t),s=o.name,u=o.value,f=!1,l=o.alias;l&&(n=l[0],S(r,_([0,1],l)));for(var p=1,d=!0;p<r.length;p+=1){var h=r[p],m=x(h,0,1),g=x(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&d||(f=!0),w(v,s="%"+(n+="."+h)+"%"))u=v[s];else if(null!=u){if(!(h in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&p+1>=r.length){var y=c(u,h);u=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[h]}else d=w(u,h),u=u[h];d&&!f&&(v[s]=u)}}return u}},58908:(e,t,r)=>{var n;n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},e.exports=n},27296:(e,t,r)=>{"use strict";var n=r(40210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},41405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(55419);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},96410:(e,t,r)=>{"use strict";var n=r(55419);e.exports=function(){return n()&&!!Symbol.toStringTag}},17642:(e,t,r)=>{"use strict";var n=r(58612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},80645:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,f=-7,l=r?i-1:0,p=r?-1:1,d=e[t+l];for(l+=p,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,f=(1<<u)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*c-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+d]=255&a,d+=h,a/=256,u-=8);e[r+d-h]|=128*v}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},82584:(e,t,r)=>{"use strict";var n=r(96410)(),i=r(21924)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},95320:e=>{"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},s=function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),l=function(){return!1};if("object"==typeof document){var p=document.all;c.call(p)===c.call(document.all)&&(l=function(e){if((f||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(l(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&s(e)}:function(e){if(l(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return s(e);if(a(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},27376:e=>{e.exports=function(e){if(!e)return!1;var r=t.call(e);return"[object Function]"===r||"function"==typeof e&&"[object RegExp]"!==r||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},48662:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(96410)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},85692:(e,t,r)=>{"use strict";var n=r(94029),i=r(63083),o=r(21924),a=o("Object.prototype.toString"),s=r(96410)(),c=r(27296),u="undefined"==typeof globalThis?r.g:globalThis,f=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},p=o("String.prototype.slice"),d={},h=Object.getPrototypeOf;s&&c&&h&&n(f,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=c(r,Symbol.toStringTag);if(!n){var i=h(r);n=c(i,Symbol.toStringTag)}d[e]=n.get}}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=p(a(e),8,-1);return l(f,t)>-1}return!!c&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},97626:(e,t,r)=>{var n=r(40158);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var o=JSON.parse(i);null!==o&&"object"==typeof o&&(i=o)}catch(e){}return!0===t.complete?{header:r.header,payload:i,signature:r.signature}:i}},49704:(e,t,r)=>{e.exports={verify:r(17030),sign:r(22506),JsonWebTokenError:r(58619),NotBeforeError:r(71826),TokenExpiredError:r(2340)},Object.defineProperty(e.exports,"decode",{enumerable:!1,value:r(97626)})},58619:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(t.prototype=Object.create(Error.prototype)).constructor=t,e.exports=t},71826:(e,t,r)=>{var n=r(58619),i=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};(i.prototype=Object.create(n.prototype)).constructor=i,e.exports=i},2340:(e,t,r)=>{var n=r(58619),i=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(i.prototype=Object.create(n.prototype)).constructor=i,e.exports=i},85599:(e,t,r)=>{var n=r(34155);const i=r(81249);e.exports=i.satisfies(n.version,">=15.7.0")},14964:(e,t,r)=>{var n=r(34155),i=r(81249);e.exports=i.satisfies(n.version,"^6.12.0 || >=8.0.0")},91564:(e,t,r)=>{var n=r(34155);const i=r(81249);e.exports=i.satisfies(n.version,">=16.9.0")},68034:(e,t,r)=>{var n=r(57824);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=n(e);if(void 0===i)return;return Math.floor(r+i/1e3)}return"number"==typeof e?r+e:void 0}},47566:(e,t,r)=>{const n=r(85599),i=r(91564),o={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},a={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;const r=t.asymmetricKeyType;if(!r)return;const s=o[r];if(!s)throw new Error(`Unknown key type "${r}".`);if(!s.includes(e))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${s.join(", ")}.`);if(n)switch(r){case"ec":const r=t.asymmetricKeyDetails.namedCurve,n=a[e];if(r!==n)throw new Error(`"alg" parameter "${e}" requires curve "${n}".`);break;case"rsa-pss":if(i){const r=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:i,saltLength:o}=t.asymmetricKeyDetails;if(n!==`sha${r}`||i!==n)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==o&&o>r>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},22506:(e,t,r)=>{const n=r(68034),i=r(14964),o=r(47566),a=r(40158),{includes:s,isBoolean:c,isInteger:u,isNumber:f,isPlainObject:l,isString:p,once:d}=r(96486),{KeyObject:h,createSecretKey:v,createPrivateKey:m}=r(66507),g=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&g.splice(3,0,"PS256","PS384","PS512");const y={expiresIn:{isValid:function(e){return u(e)||p(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return u(e)||p(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return p(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:s.bind(null,g),message:'"algorithm" must be a valid string enum value'},header:{isValid:l,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:f,message:'"iat" should be a number of seconds'},exp:{isValid:f,message:'"exp" should be a number of seconds'},nbf:{isValid:f,message:'"nbf" should be a number of seconds'}};function w(e,t,r,n){if(!l(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(i){const o=e[i];if(o){if(!o.isValid(r[i]))throw new Error(o.message)}else if(!t)throw new Error('"'+i+'" is not allowed in "'+n+'"')}))}const _={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},S=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){"function"==typeof r?(i=r,r={}):r=r||{};const s="object"==typeof e&&!Buffer.isBuffer(e),c=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function u(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return u(new Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof h))try{t=m(t)}catch(e){try{t=v("string"==typeof t?Buffer.from(t):t)}catch(e){return u(new Error("secretOrPrivateKey is not valid key material"))}}if(c.alg.startsWith("HS")&&"secret"!==t.type)return u(new Error(`secretOrPrivateKey must be a symmetric key when using ${c.alg}`));if(/^(?:RS|PS|ES)/.test(c.alg)){if("private"!==t.type)return u(new Error(`secretOrPrivateKey must be an asymmetric key when using ${c.alg}`));if(!r.allowInsecureKeySizes&&!c.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return u(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`))}if(void 0===e)return u(new Error("payload is required"));if(s){try{!function(e){w(b,!0,e,"payload")}(e)}catch(e){return u(e)}r.mutatePayload||(e=Object.assign({},e))}else{const t=S.filter((function(e){return void 0!==r[e]}));if(t.length>0)return u(new Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return u(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return u(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){w(y,!1,e,"options")}(r)}catch(e){return u(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{o(c.alg,t)}catch(e){return u(e)}const f=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:s&&(e.iat=f),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,f)}catch(e){return u(e)}if(void 0===e.nbf)return u(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,f)}catch(e){return u(e)}if(void 0===e.exp)return u(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(_).forEach((function(t){const n=_[t];if(void 0!==r[t]){if(void 0!==e[n])return u(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}}));const l=r.encoding||"utf8";if("function"!=typeof i){let n=a.sign({header:c,payload:e,secret:t,encoding:l});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&n.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`);return n}i=i&&d(i),a.createSign({header:c,privateKey:t,payload:e,encoding:l}).once("error",i).once("done",(function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&e.length<256)return i(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`));i(null,e)}))}},17030:(e,t,r)=>{const n=r(58619),i=r(71826),o=r(2340),a=r(97626),s=r(68034),c=r(47566),u=r(14964),f=r(40158),{KeyObject:l,createSecretKey:p,createPublicKey:d}=r(66507),h=["RS256","RS384","RS512"],v=["ES256","ES384","ES512"],m=["RS256","RS384","RS512"],g=["HS256","HS384","HS512"];u&&(h.splice(h.length,0,"PS256","PS384","PS512"),m.splice(m.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,u){let y;if("function"!=typeof r||u||(u=r,r={}),r||(r={}),r=Object.assign({},r),y=u||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return y(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return y(new n("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return y(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));const b=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return y(new n("jwt must be provided"));if("string"!=typeof e)return y(new n("jwt must be a string"));const w=e.split(".");if(3!==w.length)return y(new n("jwt malformed"));let _;try{_=a(e,{complete:!0})}catch(e){return y(e)}if(!_)return y(new n("invalid token"));const S=_.header;let E;if("function"==typeof t){if(!u)return y(new n("verify must be called asynchronous if secret or public key is provided as a callback"));E=t}else E=function(e,r){return r(null,t)};return E(S,(function(t,a){if(t)return y(new n("error in secret or public key callback: "+t.message));const u=""!==w[2].trim();if(!u&&a)return y(new n("jwt signature is required"));if(u&&!a)return y(new n("secret or public key must be provided"));if(!u&&!r.algorithms)return y(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=a&&!(a instanceof l))try{a=d(a)}catch(e){try{a=p("string"==typeof a?Buffer.from(a):a)}catch(e){return y(new n("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===a.type?r.algorithms=g:["rsa","rsa-pss"].includes(a.asymmetricKeyType)?r.algorithms=m:"ec"===a.asymmetricKeyType?r.algorithms=v:r.algorithms=h),-1===r.algorithms.indexOf(_.header.alg))return y(new n("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==a.type)return y(new n(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==a.type)return y(new n(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{c(S.alg,a)}catch(e){return y(e)}let E;try{E=f.verify(e,_.header.alg,a)}catch(e){return y(e)}if(!E)return y(new n("invalid signature"));const x=_.payload;if(void 0!==x.nbf&&!r.ignoreNotBefore){if("number"!=typeof x.nbf)return y(new n("invalid nbf value"));if(x.nbf>b+(r.clockTolerance||0))return y(new i("jwt not active",new Date(1e3*x.nbf)))}if(void 0!==x.exp&&!r.ignoreExpiration){if("number"!=typeof x.exp)return y(new n("invalid exp value"));if(b>=x.exp+(r.clockTolerance||0))return y(new o("jwt expired",new Date(1e3*x.exp)))}if(r.audience){const e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(x.aud)?x.aud:[x.aud]).some((function(t){return e.some((function(e){return e instanceof RegExp?e.test(t):e===t}))})))return y(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer){if("string"==typeof r.issuer&&x.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(x.iss))return y(new n("jwt issuer invalid. expected: "+r.issuer))}if(r.subject&&x.sub!==r.subject)return y(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&x.jti!==r.jwtid)return y(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&x.nonce!==r.nonce)return y(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof x.iat)return y(new n("iat required when maxAge is specified"));const e=s(r.maxAge,x.iat);if(void 0===e)return y(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(b>=e+(r.clockTolerance||0))return y(new o("maxAge exceeded",new Date(1e3*e)))}if(!0===r.complete){const e=_.signature;return y(null,{header:S,payload:x,signature:e})}return y(null,x)}))}},54178:(e,t,r)=>{var n=r(88500),i=r(89509).Buffer,o=r(86035),a=r(35015),s=r(89539),c="secret must be a string or buffer",u="key must be a string or a buffer",f="key must be a string, a buffer or an object",l="function"==typeof o.createPublicKey;function p(e){if(!i.isBuffer(e)&&"string"!=typeof e){if(!l)throw m(u);if("object"!=typeof e)throw m(u);if("string"!=typeof e.type)throw m(u);if("string"!=typeof e.asymmetricKeyType)throw m(u);if("function"!=typeof e.export)throw m(u)}}function d(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m(f)}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function v(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1),r=s.format.bind(s,e).apply(null,t);return new TypeError(r)}function g(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!i.isBuffer(e)){if("string"==typeof e)return e;if(!l)throw m(c);if("object"!=typeof e)throw m(c);if("secret"!==e.type)throw m(c);if("function"!=typeof e.export)throw m(c)}}(r),t=g(t);var n=o.createHmac("sha"+e,r);return h((n.update(t),n.digest("base64")))}}function b(e){return function(t,r,o){var a=y(e)(t,o);return n(i.from(r),i.from(a))}}function w(e){return function(t,r){d(r),t=g(t);var n=o.createSign("RSA-SHA"+e);return h((n.update(t),n.sign(r,"base64")))}}function _(e){return function(t,r,n){p(n),t=g(t),r=v(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function S(e){return function(t,r){d(r),t=g(t);var n=o.createSign("RSA-SHA"+e);return h((n.update(t),n.sign({key:r,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function E(e){return function(t,r,n){p(n),t=g(t),r=v(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function x(e){var t=w(e);return function(){var r=t.apply(null,arguments);return r=a.derToJose(r,"ES"+e)}}function R(e){var t=_(e);return function(r,n,i){return n=a.joseToDer(n,"ES"+e).toString("base64"),t(r,n,i)}}function T(){return function(){return""}}function k(){return function(e,t){return""===t}}l&&(u+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t={hs:y,rs:w,ps:S,es:x,none:T},r={hs:b,rs:_,ps:E,es:R,none:k},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(n[1]||n[3]).toLowerCase(),o=n[2];return{sign:t[i](o),verify:r[i](o)}}},40158:(e,t,r)=>{var n=r(48952),i=r(43079);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new i(e)}},97006:(e,t,r)=>{var n=r(34155),i=r(89509).Buffer,o=r(42830);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=i.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=i.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,n.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(89539).inherits(a,o),a.prototype.write=function(e){this.buffer=i.concat([this.buffer,i.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},48952:(e,t,r)=>{var n=r(89509).Buffer,i=r(97006),o=r(54178),a=r(42830),s=r(32010),c=r(89539);function u(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,a=o(t.alg),f=function(e,t,r){r=r||"utf8";var n=u(s(e),"binary"),i=u(s(t),r);return c.format("%s.%s",n,i)}(t,r,i),l=a.sign(f,n);return c.format("%s.%s",f,l)}function l(e){var t=e.secret||e.privateKey||e.key,r=new i(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new i(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(l,a),l.prototype.sign=function(){try{var e=f({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},l.sign=f,e.exports=l},32010:(e,t,r)=>{var n=r(48764).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},43079:(e,t,r)=>{var n=r(89509).Buffer,i=r(97006),o=r(54178),a=r(42830),s=r(32010),c=r(89539),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function f(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}function l(e){var t=e.split(".",1)[0];return f(n.from(t,"base64").toString("binary"))}function p(e){return e.split(".")[2]}function d(e){return u.test(e)&&!!l(e)}function h(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=p(e=s(e)),a=function(e){return e.split(".",2).join(".")}(e);return o(t).verify(a,i,r)}function v(e,t){if(t=t||{},!d(e=s(e)))return null;var r=l(e);if(!r)return null;var i=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(i=JSON.parse(i,t.encoding)),{header:r,payload:i,signature:p(e)}}function m(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new i(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new i(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(m,a),m.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=v(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=v,m.isValid=d,m.verify=h,e.exports=m},78414:e=>{var t=Array.prototype.slice;function r(e){if("object"!=typeof(e=e||{}))throw new TypeError("Options must be an object");this.storage={},this.separator=e.separator||"."}r.prototype.add=function(e,t){(this.storage[e]||(this.storage[e]=[])).push(t)},r.prototype.remove=function(e){var t,r;for(t in this.storage)(r=this.storage[t]).some((function(t,n){if(t===e)return r.splice(n,1),!0}))},r.prototype.get=function(e){var t,r=[];for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+this.separator)||(r=r.concat(this.storage[t]));return r},r.prototype.getGrouped=function(e){var r,n={};for(r in this.storage)e&&e!==r&&0!==r.indexOf(e+this.separator)||(n[r]=t.call(this.storage[r]));return n},r.prototype.getAll=function(e){var r,n={};for(r in this.storage)e!==r&&0!==r.indexOf(e+this.separator)||(n[r]=t.call(this.storage[r]));return n},r.prototype.run=function(e,r){var n=t.call(arguments,2);this.get(e).forEach((function(e){e.apply(r||this,n)}))},e.exports=r},18552:(e,t,r)=>{var n=r(10852)(r(55639),"DataView");e.exports=n},1989:(e,t,r)=>{var n=r(51789),i=r(80401),o=r(57667),a=r(21327),s=r(81866);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},96425:(e,t,r)=>{var n=r(3118),i=r(9435),o=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=n(i.prototype),a.prototype.constructor=a,e.exports=a},38407:(e,t,r)=>{var n=r(27040),i=r(14125),o=r(82117),a=r(67518),s=r(54705);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},7548:(e,t,r)=>{var n=r(3118),i=r(9435);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,e.exports=o},57071:(e,t,r)=>{var n=r(10852)(r(55639),"Map");e.exports=n},83369:(e,t,r)=>{var n=r(24785),i=r(11285),o=r(96e3),a=r(49916),s=r(95265);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},53818:(e,t,r)=>{var n=r(10852)(r(55639),"Promise");e.exports=n},58525:(e,t,r)=>{var n=r(10852)(r(55639),"Set");e.exports=n},88668:(e,t,r)=>{var n=r(83369),i=r(90619),o=r(72385);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},46384:(e,t,r)=>{var n=r(38407),i=r(37465),o=r(63779),a=r(67599),s=r(44758),c=r(34309);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},62705:(e,t,r)=>{var n=r(55639).Symbol;e.exports=n},11149:(e,t,r)=>{var n=r(55639).Uint8Array;e.exports=n},70577:(e,t,r)=>{var n=r(10852)(r(55639),"WeakMap");e.exports=n},96874:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},77412:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},34963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},47443:(e,t,r)=>{var n=r(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},14636:(e,t,r)=>{var n=r(22545),i=r(35694),o=r(1469),a=r(44144),s=r(65776),c=r(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),f=!r&&i(e),l=!r&&!f&&a(e),p=!r&&!f&&!l&&c(e),d=r||f||l||p,h=d?n(e.length,String):[],v=h.length;for(var m in e)!t&&!u.call(e,m)||d&&("length"==m||l&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},29932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},62488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},82908:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},86556:(e,t,r)=>{var n=r(89465),i=r(77813);e.exports=function(e,t,r){(void 0!==r&&!i(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},34865:(e,t,r)=>{var n=r(89465),i=r(77813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},18470:(e,t,r)=>{var n=r(77813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},44037:(e,t,r)=>{var n=r(98363),i=r(3674);e.exports=function(e,t){return e&&n(t,i(t),e)}},63886:(e,t,r)=>{var n=r(98363),i=r(81704);e.exports=function(e,t){return e&&n(t,i(t),e)}},89465:(e,t,r)=>{var n=r(38777);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},85990:(e,t,r)=>{var n=r(46384),i=r(77412),o=r(34865),a=r(44037),s=r(63886),c=r(64626),u=r(278),f=r(18805),l=r(1911),p=r(58234),d=r(46904),h=r(64160),v=r(43824),m=r(29148),g=r(38517),y=r(1469),b=r(44144),w=r(56688),_=r(13218),S=r(72928),E=r(3674),x=r(81704),R=1,T=2,k=4,C="[object Arguments]",O="[object Function]",A="[object GeneratorFunction]",I="[object Object]",L={};L[C]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object DataView]"]=L["[object Boolean]"]=L["[object Date]"]=L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Map]"]=L["[object Number]"]=L[I]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object Symbol]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Error]"]=L[O]=L["[object WeakMap]"]=!1,e.exports=function e(t,r,P,M,N,D){var j,U=r&R,B=r&T,F=r&k;if(P&&(j=N?P(t,M,N,D):P(t)),void 0!==j)return j;if(!_(t))return t;var Z=y(t);if(Z){if(j=v(t),!U)return u(t,j)}else{var V=h(t),q=V==O||V==A;if(b(t))return c(t,U);if(V==I||V==C||q&&!N){if(j=B||q?{}:g(t),!U)return B?l(t,s(j,t)):f(t,a(j,t))}else{if(!L[V])return N?t:{};j=m(t,V,U)}}D||(D=new n);var z=D.get(t);if(z)return z;D.set(t,j),S(t)?t.forEach((function(n){j.add(e(n,r,P,n,t,D))})):w(t)&&t.forEach((function(n,i){j.set(i,e(n,r,P,i,t,D))}));var W=Z?void 0:(F?B?d:p:B?x:E)(t);return i(W||t,(function(n,i){W&&(n=t[i=n]),o(j,i,e(n,r,P,i,t,D))})),j}},3118:(e,t,r)=>{var n=r(13218),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},89881:(e,t,r)=>{var n=r(47816),i=r(99291)(n);e.exports=i},41848:e=>{e.exports=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},21078:(e,t,r)=>{var n=r(62488),i=r(37285);e.exports=function e(t,r,o,a,s){var c=-1,u=t.length;for(o||(o=i),s||(s=[]);++c<u;){var f=t[c];r>0&&o(f)?r>1?e(f,r-1,o,a,s):n(s,f):a||(s[s.length]=f)}return s}},28483:(e,t,r)=>{var n=r(25063)();e.exports=n},47816:(e,t,r)=>{var n=r(28483),i=r(3674);e.exports=function(e,t){return e&&n(e,t,i)}},97786:(e,t,r)=>{var n=r(71811),i=r(40327);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},68866:(e,t,r)=>{var n=r(62488),i=r(1469);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},44239:(e,t,r)=>{var n=r(62705),i=r(89607),o=r(2333),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}},78565:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},42118:(e,t,r)=>{var n=r(41848),i=r(62722),o=r(42351);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,i,r)}},9454:(e,t,r)=>{var n=r(44239),i=r(37005),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},41761:(e,t,r)=>{var n=r(44239),i=r(37005),o="[object Date]";e.exports=function(e){return i(e)&&n(e)==o}},90939:(e,t,r)=>{var n=r(2492),i=r(37005);e.exports=function e(t,r,o,a,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,s))}},2492:(e,t,r)=>{var n=r(46384),i=r(67114),o=r(18351),a=r(16096),s=r(64160),c=r(1469),u=r(44144),f=r(36719),l=1,p="[object Arguments]",d="[object Array]",h="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,y){var b=c(e),w=c(t),_=b?d:s(e),S=w?d:s(t),E=(_=_==p?h:_)==h,x=(S=S==p?h:S)==h,R=_==S;if(R&&u(e)){if(!u(t))return!1;b=!0,E=!1}if(R&&!E)return y||(y=new n),b||f(e)?i(e,t,r,m,g,y):o(e,t,_,r,m,g,y);if(!(r&l)){var T=E&&v.call(e,"__wrapped__"),k=x&&v.call(t,"__wrapped__");if(T||k){var C=T?e.value():e,O=k?t.value():t;return y||(y=new n),g(C,O,r,m,y)}}return!!R&&(y||(y=new n),a(e,t,r,m,g,y))}},25588:(e,t,r)=>{var n=r(64160),i=r(37005),o="[object Map]";e.exports=function(e){return i(e)&&n(e)==o}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,r)=>{var n=r(23560),i=r(37724),o=r(13218),a=r(80346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,l=u.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?p:s).test(a(e))}},29221:(e,t,r)=>{var n=r(64160),i=r(37005),o="[object Set]";e.exports=function(e){return i(e)&&n(e)==o}},38749:(e,t,r)=>{var n=r(44239),i=r(41780),o=r(37005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},280:(e,t,r)=>{var n=r(25726),i=r(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},10313:(e,t,r)=>{var n=r(13218),i=r(25726),o=r(33498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},9435:e=>{e.exports=function(){}},42980:(e,t,r)=>{var n=r(46384),i=r(86556),o=r(28483),a=r(59783),s=r(13218),c=r(81704),u=r(36390);e.exports=function e(t,r,f,l,p){t!==r&&o(r,(function(o,c){if(p||(p=new n),s(o))a(t,r,c,f,e,l,p);else{var d=l?l(u(t,c),o,c+"",t,r,p):void 0;void 0===d&&(d=o),i(t,c,d)}}),c)}},59783:(e,t,r)=>{var n=r(86556),i=r(64626),o=r(77133),a=r(278),s=r(38517),c=r(35694),u=r(1469),f=r(29246),l=r(44144),p=r(23560),d=r(13218),h=r(68630),v=r(36719),m=r(36390),g=r(59881);e.exports=function(e,t,r,y,b,w,_){var S=m(e,r),E=m(t,r),x=_.get(E);if(x)n(e,r,x);else{var R=w?w(S,E,r+"",e,t,_):void 0,T=void 0===R;if(T){var k=u(E),C=!k&&l(E),O=!k&&!C&&v(E);R=E,k||C||O?u(S)?R=S:f(S)?R=a(S):C?(T=!1,R=i(E,!0)):O?(T=!1,R=o(E,!0)):R=[]:h(E)||c(E)?(R=S,c(S)?R=g(S):d(S)&&!p(S)||(R=s(E))):T=!1}T&&(_.set(E,R),b(R,E,y,w,_),_.delete(E)),n(e,r,R)}}},25970:(e,t,r)=>{var n=r(63012),i=r(79095);e.exports=function(e,t){return n(e,t,(function(t,r){return i(e,r)}))}},63012:(e,t,r)=>{var n=r(97786),i=r(10611),o=r(71811);e.exports=function(e,t,r){for(var a=-1,s=t.length,c={};++a<s;){var u=t[a],f=n(e,u);r(f,u)&&i(c,o(u,e),f)}return c}},18674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},5976:(e,t,r)=>{var n=r(6557),i=r(45357),o=r(30061);e.exports=function(e,t){return o(i(e,t,n),e+"")}},10611:(e,t,r)=>{var n=r(34865),i=r(71811),o=r(65776),a=r(13218),s=r(40327);e.exports=function(e,t,r,c){if(!a(e))return e;for(var u=-1,f=(t=i(t,e)).length,l=f-1,p=e;null!=p&&++u<f;){var d=s(t[u]),h=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(u!=l){var v=p[d];void 0===(h=c?c(v,d,p):void 0)&&(h=a(v)?v:o(t[u+1])?[]:{})}n(p,d,h),p=p[d]}return e}},28045:(e,t,r)=>{var n=r(6557),i=r(89250),o=i?function(e,t){return i.set(e,t),e}:n;e.exports=o},56560:(e,t,r)=>{var n=r(75703),i=r(38777),o=r(6557),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},14259:e=>{e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}},22545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},80531:(e,t,r)=>{var n=r(62705),i=r(29932),o=r(1469),a=r(33448),s=1/0,c=n?n.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},27561:(e,t,r)=>{var n=r(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},45652:(e,t,r)=>{var n=r(88668),i=r(47443),o=r(1196),a=r(74757),s=r(23593),c=r(21814),u=200;e.exports=function(e,t,r){var f=-1,l=i,p=e.length,d=!0,h=[],v=h;if(r)d=!1,l=o;else if(p>=u){var m=t?null:s(e);if(m)return c(m);d=!1,l=a,v=new n}else v=t?[]:h;e:for(;++f<p;){var g=e[f],y=t?t(g):g;if(g=r||0!==g?g:0,d&&y==y){for(var b=v.length;b--;)if(v[b]===y)continue e;t&&v.push(y),h.push(g)}else l(v,y,r)||(v!==h&&v.push(y),h.push(g))}return h}},57406:(e,t,r)=>{var n=r(71811),i=r(10928),o=r(40292),a=r(40327);e.exports=function(e,t){return t=n(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},47415:(e,t,r)=>{var n=r(29932);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},74757:e=>{e.exports=function(e,t){return e.has(t)}},54290:(e,t,r)=>{var n=r(6557);e.exports=function(e){return"function"==typeof e?e:n}},71811:(e,t,r)=>{var n=r(1469),i=r(15403),o=r(55514),a=r(79833);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},74318:(e,t,r)=>{var n=r(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},64626:(e,t,r)=>{e=r.nmd(e);var n=r(55639),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},57157:(e,t,r)=>{var n=r(74318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},93147:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},40419:(e,t,r)=>{var n=r(62705),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},77133:(e,t,r)=>{var n=r(74318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},52157:e=>{var t=Math.max;e.exports=function(e,r,n,i){for(var o=-1,a=e.length,s=n.length,c=-1,u=r.length,f=t(a-s,0),l=Array(u+f),p=!i;++c<u;)l[c]=r[c];for(;++o<s;)(p||o<a)&&(l[n[o]]=e[o]);for(;f--;)l[c++]=e[o++];return l}},14054:e=>{var t=Math.max;e.exports=function(e,r,n,i){for(var o=-1,a=e.length,s=-1,c=n.length,u=-1,f=r.length,l=t(a-c,0),p=Array(l+f),d=!i;++o<l;)p[o]=e[o];for(var h=o;++u<f;)p[h+u]=r[u];for(;++s<c;)(d||o<a)&&(p[h+n[s]]=e[o++]);return p}},278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},98363:(e,t,r)=>{var n=r(34865),i=r(89465);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],f=o?o(r[u],e[u],u,r,e):void 0;void 0===f&&(f=e[u]),a?i(r,u,f):n(r,u,f)}return r}},18805:(e,t,r)=>{var n=r(98363),i=r(99551);e.exports=function(e,t){return n(e,i(e),t)}},1911:(e,t,r)=>{var n=r(98363),i=r(51442);e.exports=function(e,t){return n(e,i(e),t)}},14429:(e,t,r)=>{var n=r(55639)["__core-js_shared__"];e.exports=n},97991:e=>{e.exports=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}},21463:(e,t,r)=>{var n=r(5976),i=r(16612);e.exports=function(e){return n((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t}))}},99291:(e,t,r)=>{var n=r(98612);e.exports=function(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var o=r.length,a=t?o:-1,s=Object(r);(t?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},25063:e=>{e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}},22402:(e,t,r)=>{var n=r(71774),i=r(55639),o=1;e.exports=function(e,t,r){var a=t&o,s=n(e);return function t(){return(this&&this!==i&&this instanceof t?s:e).apply(a?r:this,arguments)}}},71774:(e,t,r)=>{var n=r(3118),i=r(13218);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=n(e.prototype),o=e.apply(r,t);return i(o)?o:r}}},46347:(e,t,r)=>{var n=r(96874),i=r(71774),o=r(86935),a=r(94487),s=r(20893),c=r(46460),u=r(55639);e.exports=function(e,t,r){var f=i(e);return function i(){for(var l=arguments.length,p=Array(l),d=l,h=s(i);d--;)p[d]=arguments[d];var v=l<3&&p[0]!==h&&p[l-1]!==h?[]:c(p,h);return(l-=v.length)<r?a(e,t,o,i.placeholder,void 0,p,v,void 0,void 0,r-l):n(this&&this!==u&&this instanceof i?f:e,this,p)}}},86935:(e,t,r)=>{var n=r(52157),i=r(14054),o=r(97991),a=r(71774),s=r(94487),c=r(20893),u=r(90451),f=r(46460),l=r(55639),p=1,d=2,h=8,v=16,m=128,g=512;e.exports=function e(t,r,y,b,w,_,S,E,x,R){var T=r&m,k=r&p,C=r&d,O=r&(h|v),A=r&g,I=C?void 0:a(t);return function p(){for(var d=arguments.length,h=Array(d),v=d;v--;)h[v]=arguments[v];if(O)var m=c(p),g=o(h,m);if(b&&(h=n(h,b,w,O)),_&&(h=i(h,_,S,O)),d-=g,O&&d<R){var L=f(h,m);return s(t,r,e,p.placeholder,y,h,L,E,x,R-d)}var P=k?y:this,M=C?P[t]:t;return d=h.length,E?h=u(h,E):A&&d>1&&h.reverse(),T&&x<d&&(h.length=x),this&&this!==l&&this instanceof p&&(M=I||a(M)),M.apply(P,h)}}},84375:(e,t,r)=>{var n=r(96874),i=r(71774),o=r(55639),a=1;e.exports=function(e,t,r,s){var c=t&a,u=i(e);return function t(){for(var i=-1,a=arguments.length,f=-1,l=s.length,p=Array(l+a),d=this&&this!==o&&this instanceof t?u:e;++f<l;)p[f]=s[f];for(;a--;)p[f++]=arguments[++i];return n(d,c?r:this,p)}}},94487:(e,t,r)=>{var n=r(86528),i=r(258),o=r(69255),a=1,s=2,c=4,u=8,f=32,l=64;e.exports=function(e,t,r,p,d,h,v,m,g,y){var b=t&u;t|=b?f:l,(t&=~(b?l:f))&c||(t&=~(a|s));var w=[e,t,d,b?h:void 0,b?v:void 0,b?void 0:h,b?void 0:v,m,g,y],_=r.apply(void 0,w);return n(e)&&i(_,w),_.placeholder=p,o(_,e,t)}},23593:(e,t,r)=>{var n=r(58525),i=r(50308),o=r(21814),a=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=a},97727:(e,t,r)=>{var n=r(28045),i=r(22402),o=r(46347),a=r(86935),s=r(84375),c=r(66833),u=r(63833),f=r(258),l=r(69255),p=r(40554),d="Expected a function",h=1,v=2,m=8,g=16,y=32,b=64,w=Math.max;e.exports=function(e,t,r,_,S,E,x,R){var T=t&v;if(!T&&"function"!=typeof e)throw new TypeError(d);var k=_?_.length:0;if(k||(t&=~(y|b),_=S=void 0),x=void 0===x?x:w(p(x),0),R=void 0===R?R:p(R),k-=S?S.length:0,t&b){var C=_,O=S;_=S=void 0}var A=T?void 0:c(e),I=[e,t,r,_,S,C,O,E,x,R];if(A&&u(I,A),e=I[0],t=I[1],r=I[2],_=I[3],S=I[4],!(R=I[9]=void 0===I[9]?T?0:e.length:w(I[9]-k,0))&&t&(m|g)&&(t&=~(m|g)),t&&t!=h)L=t==m||t==g?o(e,t,R):t!=y&&t!=(h|y)||S.length?a.apply(void 0,I):s(e,t,r,_);else var L=i(e,t,r);return l((A?n:f)(L,I),e,t)}},92052:(e,t,r)=>{var n=r(42980),i=r(13218);e.exports=function e(t,r,o,a,s,c){return i(t)&&i(r)&&(c.set(r,t),n(t,r,void 0,e,c),c.delete(r)),t}},60696:(e,t,r)=>{var n=r(68630);e.exports=function(e){return n(e)?void 0:e}},38777:(e,t,r)=>{var n=r(10852),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},67114:(e,t,r)=>{var n=r(88668),i=r(82908),o=r(74757),a=1,s=2;e.exports=function(e,t,r,c,u,f){var l=r&a,p=e.length,d=t.length;if(p!=d&&!(l&&d>p))return!1;var h=f.get(e),v=f.get(t);if(h&&v)return h==t&&v==e;var m=-1,g=!0,y=r&s?new n:void 0;for(f.set(e,t),f.set(t,e);++m<p;){var b=e[m],w=t[m];if(c)var _=l?c(w,b,m,t,e,f):c(b,w,m,e,t,f);if(void 0!==_){if(_)continue;g=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||u(b,e,r,c,f)))return y.push(t)}))){g=!1;break}}else if(b!==w&&!u(b,w,r,c,f)){g=!1;break}}return f.delete(e),f.delete(t),g}},18351:(e,t,r)=>{var n=r(62705),i=r(11149),o=r(77813),a=r(67114),s=r(68776),c=r(21814),u=1,f=2,l="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Map]",v="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",_="[object DataView]",S=n?n.prototype:void 0,E=S?S.valueOf:void 0;e.exports=function(e,t,r,n,S,x,R){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!x(new i(e),new i(t)));case l:case p:case v:return o(+e,+t);case d:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case h:var T=s;case g:var k=n&u;if(T||(T=c),e.size!=t.size&&!k)return!1;var C=R.get(e);if(C)return C==t;n|=f,R.set(e,t);var O=a(T(e),T(t),n,S,x,R);return R.delete(e),O;case b:if(E)return E.call(e)==E.call(t)}return!1}},16096:(e,t,r)=>{var n=r(58234),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,s,c){var u=r&i,f=n(e),l=f.length;if(l!=n(t).length&&!u)return!1;for(var p=l;p--;){var d=f[p];if(!(u?d in t:o.call(t,d)))return!1}var h=c.get(e),v=c.get(t);if(h&&v)return h==t&&v==e;var m=!0;c.set(e,t),c.set(t,e);for(var g=u;++p<l;){var y=e[d=f[p]],b=t[d];if(a)var w=u?a(b,y,d,t,e,c):a(y,b,d,e,t,c);if(!(void 0===w?y===b||s(y,b,r,a,c):w)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var _=e.constructor,S=t.constructor;_==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S||(m=!1)}return c.delete(e),c.delete(t),m}},89464:(e,t,r)=>{var n=r(18674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},99021:(e,t,r)=>{var n=r(85564),i=r(45357),o=r(30061);e.exports=function(e){return o(i(e,void 0,n),e+"")}},31957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},58234:(e,t,r)=>{var n=r(68866),i=r(99551),o=r(3674);e.exports=function(e){return n(e,o,i)}},46904:(e,t,r)=>{var n=r(68866),i=r(51442),o=r(81704);e.exports=function(e){return n(e,o,i)}},66833:(e,t,r)=>{var n=r(89250),i=r(50308),o=n?function(e){return n.get(e)}:i;e.exports=o},97658:(e,t,r)=>{var n=r(52060),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",r=n[t],o=i.call(n,t)?r.length:0;o--;){var a=r[o],s=a.func;if(null==s||s==e)return a.name}return t}},20893:e=>{e.exports=function(e){return e.placeholder}},45050:(e,t,r)=>{var n=r(37019);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},10852:(e,t,r)=>{var n=r(28458),i=r(47801);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},85924:(e,t,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);e.exports=n},89607:(e,t,r)=>{var n=r(62705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},99551:(e,t,r)=>{var n=r(34963),i=r(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},51442:(e,t,r)=>{var n=r(62488),i=r(85924),o=r(99551),a=r(70479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},64160:(e,t,r)=>{var n=r(18552),i=r(57071),o=r(53818),a=r(58525),s=r(70577),c=r(44239),u=r(80346),f="[object Map]",l="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=u(n),m=u(i),g=u(o),y=u(a),b=u(s),w=c;(n&&w(new n(new ArrayBuffer(1)))!=h||i&&w(new i)!=f||o&&w(o.resolve())!=l||a&&w(new a)!=p||s&&w(new s)!=d)&&(w=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case v:return h;case m:return f;case g:return l;case y:return p;case b:return d}return t}),e.exports=w},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},58775:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var n=e.match(t);return n?n[1].split(r):[]}},222:(e,t,r)=>{var n=r(71811),i=r(35694),o=r(1469),a=r(65776),s=r(41780),c=r(40327);e.exports=function(e,t,r){for(var u=-1,f=(t=n(t,e)).length,l=!1;++u<f;){var p=c(t[u]);if(!(l=null!=e&&r(e,p)))break;e=e[p]}return l||++u!=f?l:!!(f=null==e?0:e.length)&&s(f)&&a(p,f)&&(o(e)||i(e))}},51789:(e,t,r)=>{var n=r(94536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,r)=>{var n=r(94536),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return o.call(t,e)?t[e]:void 0}},21327:(e,t,r)=>{var n=r(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},81866:(e,t,r)=>{var n=r(94536),i="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},29148:(e,t,r)=>{var n=r(74318),i=r(57157),o=r(93147),a=r(40419),s=r(77133),c="[object Boolean]",u="[object Date]",f="[object Map]",l="[object Number]",p="[object RegExp]",d="[object Set]",h="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",R="[object Uint16Array]",T="[object Uint32Array]";e.exports=function(e,t,r){var k=e.constructor;switch(t){case m:return n(e);case c:case u:return new k(+e);case g:return i(e,r);case y:case b:case w:case _:case S:case E:case x:case R:case T:return s(e,r);case f:return new k;case l:case h:return new k(e);case p:return o(e);case d:return new k;case v:return a(e)}}},38517:(e,t,r)=>{var n=r(3118),i=r(85924),o=r(25726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},83112:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,r){var n=r.length;if(!n)return e;var i=n-1;return r[i]=(n>1?"& ":"")+r[i],r=r.join(n>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+r+"] */\n")}},37285:(e,t,r)=>{var n=r(62705),i=r(35694),o=r(1469),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},65776:e=>{var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?t:n)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<n}},16612:(e,t,r)=>{var n=r(77813),i=r(98612),o=r(65776),a=r(13218);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},15403:(e,t,r)=>{var n=r(1469),i=r(33448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},86528:(e,t,r)=>{var n=r(96425),i=r(66833),o=r(97658),a=r(8111);e.exports=function(e){var t=o(e),r=a[t];if("function"!=typeof r||!(t in n.prototype))return!1;if(e===r)return!0;var s=i(r);return!!s&&e===s[0]}},37724:(e,t,r)=>{var n,i=r(14429),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,r)=>{var n=r(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},82117:(e,t,r)=>{var n=r(18470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},67518:(e,t,r)=>{var n=r(18470);e.exports=function(e){return n(this.__data__,e)>-1}},54705:(e,t,r)=>{var n=r(18470);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},24785:(e,t,r)=>{var n=r(1989),i=r(38407),o=r(57071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},11285:(e,t,r)=>{var n=r(45050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,r)=>{var n=r(45050);e.exports=function(e){return n(this,e).get(e)}},49916:(e,t,r)=>{var n=r(45050);e.exports=function(e){return n(this,e).has(e)}},95265:(e,t,r)=>{var n=r(45050);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},24523:(e,t,r)=>{var n=r(88306),i=500;e.exports=function(e){var t=n(e,(function(e){return r.size===i&&r.clear(),e})),r=t.cache;return t}},63833:(e,t,r)=>{var n=r(52157),i=r(14054),o=r(46460),a="__lodash_placeholder__",s=1,c=2,u=4,f=8,l=128,p=256,d=Math.min;e.exports=function(e,t){var r=e[1],h=t[1],v=r|h,m=v<(s|c|l),g=h==l&&r==f||h==l&&r==p&&e[7].length<=t[8]||h==(l|p)&&t[7].length<=t[8]&&r==f;if(!m&&!g)return e;h&s&&(e[2]=t[2],v|=r&s?0:u);var y=t[3];if(y){var b=e[3];e[3]=b?n(b,y,t[4]):y,e[4]=b?o(e[3],a):t[4]}return(y=t[5])&&(b=e[5],e[5]=b?i(b,y,t[6]):y,e[6]=b?o(e[5],a):t[6]),(y=t[7])&&(e[7]=y),h&l&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=v,e}},89250:(e,t,r)=>{var n=r(70577),i=n&&new n;e.exports=i},94536:(e,t,r)=>{var n=r(10852)(Object,"create");e.exports=n},86916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},31167:(e,t,r)=>{e=r.nmd(e);var n=r(31957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},45357:(e,t,r)=>{var n=r(96874),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=r(c),n(e,this,u)}}},40292:(e,t,r)=>{var n=r(97786),i=r(14259);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},52060:e=>{e.exports={}},90451:(e,t,r)=>{var n=r(278),i=r(65776),o=Math.min;e.exports=function(e,t){for(var r=e.length,a=o(t.length,r),s=n(e);a--;){var c=t[a];e[a]=i(c,r)?s[c]:void 0}return e}},46460:e=>{var t="__lodash_placeholder__";e.exports=function(e,r){for(var n=-1,i=e.length,o=0,a=[];++n<i;){var s=e[n];s!==r&&s!==t||(e[n]=t,a[o++]=n)}return a}},55639:(e,t,r)=>{var n=r(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},36390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{var t="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,t),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},258:(e,t,r)=>{var n=r(28045),i=r(21275)(n);e.exports=i},21814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},30061:(e,t,r)=>{var n=r(56560),i=r(21275)(n);e.exports=i},69255:(e,t,r)=>{var n=r(58775),i=r(83112),o=r(30061),a=r(87241);e.exports=function(e,t,r){var s=t+"";return o(e,i(s,a(n(s),r)))}},21275:e=>{var t=800,r=16,n=Date.now;e.exports=function(e){var i=0,o=0;return function(){var a=n(),s=r-(a-o);if(o=a,s>0){if(++i>=t)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},37465:(e,t,r)=>{var n=r(38407);e.exports=function(){this.__data__=new n,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,r)=>{var n=r(38407),i=r(57071),o=r(83369),a=200;e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}},42351:e=>{e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},55514:(e,t,r)=>{var n=r(24523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)})),t}));e.exports=a},40327:(e,t,r)=>{var n=r(33448),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},87241:(e,t,r)=>{var n=r(77412),i=r(47443),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(o,(function(r){var n="_."+r[0];t&r[1]&&!i(e,n)&&e.push(n)})),e.sort()}},21913:(e,t,r)=>{var n=r(96425),i=r(7548),o=r(278);e.exports=function(e){if(e instanceof n)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},28583:(e,t,r)=>{var n=r(34865),i=r(98363),o=r(21463),a=r(98612),s=r(25726),c=r(3674),u=Object.prototype.hasOwnProperty,f=o((function(e,t){if(s(t)||a(t))i(t,c(t),e);else for(var r in t)u.call(t,r)&&n(e,r,t[r])}));e.exports=f},89567:(e,t,r)=>{var n=r(40554),i="Expected a function";e.exports=function(e,t){var r;if("function"!=typeof t)throw new TypeError(i);return e=n(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}},38169:(e,t,r)=>{var n=r(5976),i=r(97727),o=r(20893),a=r(46460),s=n((function(e,t,r){var n=1;if(r.length){var c=a(r,o(s));n|=32}return i(e,n,t,r,c)}));s.placeholder={},e.exports=s},66678:(e,t,r)=>{var n=r(85990),i=4;e.exports=function(e){return n(e,i)}},50361:(e,t,r)=>{var n=r(85990),i=1,o=4;e.exports=function(e){return n(e,i|o)}},75703:e=>{e.exports=function(e){return function(){return e}}},40087:(e,t,r)=>{var n=r(97727),i=8;function o(e,t,r){var a=n(e,i,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return a.placeholder=o.placeholder,a}o.placeholder={},e.exports=o},23279:(e,t,r)=>{var n=r(13218),i=r(7771),o=r(14841),a="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,r){var u,f,l,p,d,h,v=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var r=u,n=f;return u=f=void 0,v=t,p=e.apply(n,r)}function w(e){var r=e-h;return void 0===h||r>=t||r<0||g&&e-v>=l}function _(){var e=i();if(w(e))return S(e);d=setTimeout(_,function(e){var r=t-(e-h);return g?c(r,l-(e-v)):r}(e))}function S(e){return d=void 0,y&&u?b(e):(u=f=void 0,p)}function E(){var e=i(),r=w(e);if(u=arguments,f=this,h=e,r){if(void 0===d)return function(e){return v=e,d=setTimeout(_,t),m?b(e):p}(h);if(g)return clearTimeout(d),d=setTimeout(_,t),b(h)}return void 0===d&&(d=setTimeout(_,t)),p}return t=o(t)||0,n(r)&&(m=!!r.leading,l=(g="maxWait"in r)?s(o(r.maxWait)||0,t):l,y="trailing"in r?!!r.trailing:y),E.cancel=function(){void 0!==d&&clearTimeout(d),v=0,u=h=f=d=void 0},E.flush=function(){return void 0===d?p:S(i())},E}},91747:(e,t,r)=>{var n=r(5976),i=r(77813),o=r(16612),a=r(81704),s=Object.prototype,c=s.hasOwnProperty,u=n((function(e,t){e=Object(e);var r=-1,n=t.length,u=n>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(n=1);++r<n;)for(var f=t[r],l=a(f),p=-1,d=l.length;++p<d;){var h=l[p],v=e[h];(void 0===v||i(v,s[h])&&!c.call(e,h))&&(e[h]=f[h])}return e}));e.exports=u},66913:(e,t,r)=>{var n=r(96874),i=r(5976),o=r(92052),a=r(30236),s=i((function(e){return e.push(void 0,o),n(a,void 0,e)}));e.exports=s},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7187:(e,t,r)=>{var n=r(89464),i=r(79833),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(o,n):e}},85564:(e,t,r)=>{var n=r(21078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},84486:(e,t,r)=>{var n=r(77412),i=r(89881),o=r(54290),a=r(1469);e.exports=function(e,t){return(a(e)?n:i)(e,o(t))}},2525:(e,t,r)=>{var n=r(47816),i=r(54290);e.exports=function(e,t){return e&&n(e,i(t))}},27361:(e,t,r)=>{var n=r(97786);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},18721:(e,t,r)=>{var n=r(78565),i=r(222);e.exports=function(e,t){return null!=e&&i(e,t,n)}},79095:(e,t,r)=>{var n=r(13),i=r(222);e.exports=function(e,t){return null!=e&&i(e,t,n)}},6557:e=>{e.exports=function(e){return e}},64721:(e,t,r)=>{var n=r(42118),i=r(98612),o=r(47037),a=r(40554),s=r(52628),c=Math.max;e.exports=function(e,t,r,u){e=i(e)?e:s(e),r=r&&!u?a(r):0;var f=e.length;return r<0&&(r=c(f+r,0)),o(e)?r<=f&&e.indexOf(t,r)>-1:!!f&&n(e,t,r)>-1}},35694:(e,t,r)=>{var n=r(9454),i=r(37005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,r)=>{var n=r(23560),i=r(41780);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},29246:(e,t,r)=>{var n=r(98612),i=r(37005);e.exports=function(e){return i(e)&&n(e)}},44144:(e,t,r)=>{e=r.nmd(e);var n=r(55639),i=r(95062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},47960:(e,t,r)=>{var n=r(41761),i=r(7518),o=r(31167),a=o&&o.isDate,s=a?i(a):n;e.exports=s},41609:(e,t,r)=>{var n=r(280),i=r(64160),o=r(35694),a=r(1469),s=r(98612),c=r(44144),u=r(25726),f=r(36719),l="[object Map]",p="[object Set]",d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||f(e)||o(e)))return!e.length;var t=i(e);if(t==l||t==p)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},18446:(e,t,r)=>{var n=r(90939);e.exports=function(e,t){return n(e,t)}},23560:(e,t,r)=>{var n=r(44239),i=r(13218),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==c}},41780:e=>{var t=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}},56688:(e,t,r)=>{var n=r(25588),i=r(7518),o=r(31167),a=o&&o.isMap,s=a?i(a):n;e.exports=s},81763:(e,t,r)=>{var n=r(44239),i=r(37005),o="[object Number]";e.exports=function(e){return"number"==typeof e||i(e)&&n(e)==o}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68630:(e,t,r)=>{var n=r(44239),i=r(85924),o=r(37005),a="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,f=c.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||n(e)!=a)return!1;var t=i(e);if(null===t)return!0;var r=f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==l}},72928:(e,t,r)=>{var n=r(29221),i=r(7518),o=r(31167),a=o&&o.isSet,s=a?i(a):n;e.exports=s},47037:(e,t,r)=>{var n=r(44239),i=r(1469),o=r(37005),a="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&n(e)==a}},33448:(e,t,r)=>{var n=r(44239),i=r(37005),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==o}},36719:(e,t,r)=>{var n=r(38749),i=r(7518),o=r(31167),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},3674:(e,t,r)=>{var n=r(14636),i=r(280),o=r(98612);e.exports=function(e){return o(e)?n(e):i(e)}},81704:(e,t,r)=>{var n=r(14636),i=r(10313),o=r(98612);e.exports=function(e){return o(e)?n(e,!0):i(e)}},10928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},96486:function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,f=64,l=128,p=256,d=1/0,h=9007199254740991,v=NaN,m=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",f],["rearg",p]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",S="[object Error]",E="[object Function]",x="[object GeneratorFunction]",R="[object Map]",T="[object Number]",k="[object Object]",C="[object Promise]",O="[object RegExp]",A="[object Set]",I="[object String]",L="[object Symbol]",P="[object WeakMap]",M="[object ArrayBuffer]",N="[object DataView]",D="[object Float32Array]",j="[object Float64Array]",U="[object Int8Array]",B="[object Int16Array]",F="[object Int32Array]",Z="[object Uint8Array]",V="[object Uint8ClampedArray]",q="[object Uint16Array]",z="[object Uint32Array]",W=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Y=RegExp(H.source),J=RegExp(K.source),X=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pe=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Re="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="['’]",Le="["+xe+"]",Pe="["+Ae+"]",Me="["+Re+"]",Ne="\\d+",De="["+Te+"]",je="["+ke+"]",Ue="[^"+xe+Ae+Ne+Te+ke+Ce+"]",Be="\\ud83c[\\udffb-\\udfff]",Fe="[^"+xe+"]",Ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Ce+"]",ze="\\u200d",We="(?:"+je+"|"+Ue+")",Ge="(?:"+qe+"|"+Ue+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Me+"|"+Be+")"+"?",Ye="["+Oe+"]?",Je=Ye+Ke+("(?:"+ze+"(?:"+[Fe,Ze,Ve].join("|")+")"+Ye+Ke+")*"),Xe="(?:"+[De,Ze,Ve].join("|")+")"+Je,Qe="(?:"+[Fe+Me+"?",Me,Ze,Ve,Le].join("|")+")",et=RegExp(Ie,"g"),tt=RegExp(Me,"g"),rt=RegExp(Be+"(?="+Be+")|"+Qe+Je,"g"),nt=RegExp([qe+"?"+je+"+"+$e+"(?="+[Pe,qe,"$"].join("|")+")",Ge+"+"+He+"(?="+[Pe,qe+We,"$"].join("|")+")",qe+"?"+We+"+"+$e,qe+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Xe].join("|"),"g"),it=RegExp("["+ze+xe+Re+Oe+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ct={};ct[D]=ct[j]=ct[U]=ct[B]=ct[F]=ct[Z]=ct[V]=ct[q]=ct[z]=!0,ct[y]=ct[b]=ct[M]=ct[w]=ct[N]=ct[_]=ct[S]=ct[E]=ct[R]=ct[T]=ct[k]=ct[O]=ct[A]=ct[I]=ct[P]=!1;var ut={};ut[y]=ut[b]=ut[M]=ut[N]=ut[w]=ut[_]=ut[D]=ut[j]=ut[U]=ut[B]=ut[F]=ut[R]=ut[T]=ut[k]=ut[O]=ut[A]=ut[I]=ut[L]=ut[Z]=ut[V]=ut[q]=ut[z]=!0,ut[S]=ut[E]=ut[P]=!1;var ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,pt=parseInt,dt="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ht="object"==typeof self&&self&&self.Object===Object&&self,vt=dt||ht||Function("return this")(),mt=t&&!t.nodeType&&t,gt=mt&&e&&!e.nodeType&&e,yt=gt&&gt.exports===mt,bt=yt&&dt.process,wt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=wt&&wt.isArrayBuffer,St=wt&&wt.isDate,Et=wt&&wt.isMap,xt=wt&&wt.isRegExp,Rt=wt&&wt.isSet,Tt=wt&&wt.isTypedArray;function kt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ct(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function Ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function At(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function It(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Lt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function Pt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Mt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Nt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Dt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function jt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Ut(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ft=$t("length");function Zt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Vt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function qt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Vt(e,Wt,r)}function zt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Wt(e){return e!=e}function Gt(e,t){var r=null==e?0:e.length;return r?Yt(e,t)/r:v}function $t(e){return function(t){return null==t?i:t[e]}}function Ht(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Yt(e,t){for(var r,n=-1,o=e.length;++n<o;){var a=t(e[n]);a!==i&&(r=r===i?a:r+a)}return r}function Jt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Xt(e){return e?e.slice(0,vr(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function er(e,t){return Nt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&qt(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&qt(t,e[r],0)>-1;);return r}var ir=Ht({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),or=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ar(e){return"\\"+ft[e]}function sr(e){return it.test(e)}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function ur(e,t){return function(r){return e(t(r))}}function fr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,o[i++]=r)}return o}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function pr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function dr(e){return sr(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ft(e)}function hr(e){return sr(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function vr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var mr=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gr=function e(t){var r,n=(t=null==t?vt:gr.defaults(vt.Object(),t,gr.pick(vt,at))).Array,se=t.Date,xe=t.Error,Re=t.Function,Te=t.Math,ke=t.Object,Ce=t.RegExp,Oe=t.String,Ae=t.TypeError,Ie=n.prototype,Le=Re.prototype,Pe=ke.prototype,Me=t["__core-js_shared__"],Ne=Le.toString,De=Pe.hasOwnProperty,je=0,Ue=(r=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Be=Pe.toString,Fe=Ne.call(ke),Ze=vt._,Ve=Ce("^"+Ne.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=yt?t.Buffer:i,ze=t.Symbol,We=t.Uint8Array,Ge=qe?qe.allocUnsafe:i,$e=ur(ke.getPrototypeOf,ke),He=ke.create,Ke=Pe.propertyIsEnumerable,Ye=Ie.splice,Je=ze?ze.isConcatSpreadable:i,Xe=ze?ze.iterator:i,Qe=ze?ze.toStringTag:i,rt=function(){try{var e=po(ke,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,ft=se&&se.now!==vt.Date.now&&se.now,dt=t.setTimeout!==vt.setTimeout&&t.setTimeout,ht=Te.ceil,mt=Te.floor,gt=ke.getOwnPropertySymbols,bt=qe?qe.isBuffer:i,wt=t.isFinite,Ft=Ie.join,Ht=ur(ke.keys,ke),yr=Te.max,br=Te.min,wr=se.now,_r=t.parseInt,Sr=Te.random,Er=Ie.reverse,xr=po(t,"DataView"),Rr=po(t,"Map"),Tr=po(t,"Promise"),kr=po(t,"Set"),Cr=po(t,"WeakMap"),Or=po(ke,"create"),Ar=Cr&&new Cr,Ir={},Lr=Bo(xr),Pr=Bo(Rr),Mr=Bo(Tr),Nr=Bo(kr),Dr=Bo(Cr),jr=ze?ze.prototype:i,Ur=jr?jr.valueOf:i,Br=jr?jr.toString:i;function Fr(e){if(rs(e)&&!Wa(e)&&!(e instanceof zr)){if(e instanceof qr)return e;if(De.call(e,"__wrapped__"))return Fo(e)}return new qr(e)}var Zr=function(){function e(){}return function(t){if(!ts(t))return{};if(He)return He(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Vr(){}function qr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function zr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $r(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new $r;++t<r;)this.add(e[t])}function Kr(e){var t=this.__data__=new Gr(e);this.size=t.size}function Yr(e,t){var r=Wa(e),n=!r&&za(e),i=!r&&!n&&Ka(e),o=!r&&!n&&!i&&fs(e),a=r||n||i||o,s=a?Jt(e.length,Oe):[],c=s.length;for(var u in e)!t&&!De.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||wo(u,c))||s.push(u);return s}function Jr(e){var t=e.length;return t?e[Kn(0,t-1)]:i}function Xr(e,t){return Do(Ai(e),cn(t,0,e.length))}function Qr(e){return Do(Ai(e))}function en(e,t,r){(r!==i&&!Za(e[t],r)||r===i&&!(t in e))&&an(e,t,r)}function tn(e,t,r){var n=e[t];De.call(e,t)&&Za(n,r)&&(r!==i||t in e)||an(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(Za(e[r][0],t))return r;return-1}function nn(e,t,r,n){return dn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function on(e,t){return e&&Ii(t,Ls(t),e)}function an(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:ks(e,t[r]);return a}function cn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function un(e,t,r,n,o,a){var s,c=1&t,u=2&t,f=4&t;if(r&&(s=o?r(e,n,o,a):r(e)),s!==i)return s;if(!ts(e))return e;var l=Wa(e);if(l){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!c)return Ai(e,s)}else{var p=mo(e),d=p==E||p==x;if(Ka(e))return xi(e,c);if(p==k||p==y||d&&!o){if(s=u||d?{}:yo(e),!c)return u?function(e,t){return Ii(e,vo(e),t)}(e,function(e,t){return e&&Ii(t,Ps(t),e)}(s,e)):function(e,t){return Ii(e,ho(e),t)}(e,on(s,e))}else{if(!ut[p])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case M:return Ri(e);case w:case _:return new n(+e);case N:return function(e,t){var r=t?Ri(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case D:case j:case U:case B:case F:case Z:case V:case q:case z:return Ti(e,r);case R:return new n;case T:case I:return new n(e);case O:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new n;case L:return i=e,Ur?ke(Ur.call(i)):{}}var i}(e,p,c)}}a||(a=new Kr);var h=a.get(e);if(h)return h;a.set(e,s),ss(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,a))})):ns(e)&&e.forEach((function(n,i){s.set(i,un(n,t,r,i,e,a))}));var v=l?i:(f?u?oo:io:u?Ps:Ls)(e);return Ot(v||e,(function(n,i){v&&(n=e[i=n]),tn(s,i,un(n,t,r,i,e,a))})),s}function fn(e,t,r){var n=r.length;if(null==e)return!n;for(e=ke(e);n--;){var o=r[n],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function ln(e,t,r){if("function"!=typeof e)throw new Ae(o);return Lo((function(){e.apply(i,r)}),t)}function pn(e,t,r,n){var i=-1,o=Pt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;r&&(t=Nt(t,Qt(r))),n?(o=Mt,a=!1):t.length>=200&&(o=tr,a=!1,t=new Hr(t));e:for(;++i<s;){var f=e[i],l=null==r?f:r(f);if(f=n||0!==f?f:0,a&&l==l){for(var p=u;p--;)if(t[p]===l)continue e;c.push(f)}else o(t,l,n)||c.push(f)}return c}Fr.templateSettings={escape:X,evaluate:Q,interpolate:ee,variable:"",imports:{_:Fr}},Fr.prototype=Vr.prototype,Fr.prototype.constructor=Fr,qr.prototype=Zr(Vr.prototype),qr.prototype.constructor=qr,zr.prototype=Zr(Vr.prototype),zr.prototype.constructor=zr,Wr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(Or){var r=t[e];return r===a?i:r}return De.call(t,e)?t[e]:i},Wr.prototype.has=function(e){var t=this.__data__;return Or?t[e]!==i:De.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Or&&t===i?a:t,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,!0)},Gr.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?i:t[r][1]},Gr.prototype.has=function(e){return rn(this.__data__,e)>-1},Gr.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},$r.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Rr||Gr),string:new Wr}},$r.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},$r.prototype.get=function(e){return fo(this,e).get(e)},$r.prototype.has=function(e){return fo(this,e).has(e)},$r.prototype.set=function(e,t){var r=fo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Hr.prototype.add=Hr.prototype.push=function(e){return this.__data__.set(e,a),this},Hr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.clear=function(){this.__data__=new Gr,this.size=0},Kr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Kr.prototype.get=function(e){return this.__data__.get(e)},Kr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!Rr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $r(n)}return r.set(e,t),this.size=r.size,this};var dn=Mi(_n),hn=Mi(Sn,!0);function vn(e,t){var r=!0;return dn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function mn(e,t,r){for(var n=-1,o=e.length;++n<o;){var a=e[n],s=t(a);if(null!=s&&(c===i?s==s&&!us(s):r(s,c)))var c=s,u=a}return u}function gn(e,t){var r=[];return dn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function yn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?yn(s,t-1,r,n,i):Dt(i,s):n||(i[i.length]=s)}return i}var bn=Ni(),wn=Ni(!0);function _n(e,t){return e&&bn(e,t,Ls)}function Sn(e,t){return e&&wn(e,t,Ls)}function En(e,t){return Lt(t,(function(t){return Xa(e[t])}))}function xn(e,t){for(var r=0,n=(t=wi(t,e)).length;null!=e&&r<n;)e=e[Uo(t[r++])];return r&&r==n?e:i}function Rn(e,t,r){var n=t(e);return Wa(e)?n:Dt(n,r(e))}function Tn(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in ke(e)?function(e){var t=De.call(e,Qe),r=e[Qe];try{e[Qe]=i;var n=!0}catch(e){}var o=Be.call(e);n&&(t?e[Qe]=r:delete e[Qe]);return o}(e):function(e){return Be.call(e)}(e)}function kn(e,t){return e>t}function Cn(e,t){return null!=e&&De.call(e,t)}function On(e,t){return null!=e&&t in ke(e)}function An(e,t,r){for(var o=r?Mt:Pt,a=e[0].length,s=e.length,c=s,u=n(s),f=1/0,l=[];c--;){var p=e[c];c&&t&&(p=Nt(p,Qt(t))),f=br(p.length,f),u[c]=!r&&(t||a>=120&&p.length>=120)?new Hr(c&&p):i}p=e[0];var d=-1,h=u[0];e:for(;++d<a&&l.length<f;){var v=p[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(h?tr(h,m):o(l,m,r))){for(c=s;--c;){var g=u[c];if(!(g?tr(g,m):o(e[c],m,r)))continue e}h&&h.push(m),l.push(v)}}return l}function In(e,t,r){var n=null==(e=Oo(e,t=wi(t,e)))?e:e[Uo(Jo(t))];return null==n?i:kt(n,e,r)}function Ln(e){return rs(e)&&Tn(e)==y}function Pn(e,t,r,n,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!=e&&t!=t:function(e,t,r,n,o,a){var s=Wa(e),c=Wa(t),u=s?b:mo(e),f=c?b:mo(t),l=(u=u==y?k:u)==k,p=(f=f==y?k:f)==k,d=u==f;if(d&&Ka(e)){if(!Ka(t))return!1;s=!0,l=!1}if(d&&!l)return a||(a=new Kr),s||fs(e)?ro(e,t,r,n,o,a):function(e,t,r,n,i,o,a){switch(r){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case w:case _:case T:return Za(+e,+t);case S:return e.name==t.name&&e.message==t.message;case O:case I:return e==t+"";case R:var s=cr;case A:var c=1&n;if(s||(s=lr),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var f=ro(s(e),s(t),n,i,o,a);return a.delete(e),f;case L:if(Ur)return Ur.call(e)==Ur.call(t)}return!1}(e,t,u,r,n,o,a);if(!(1&r)){var h=l&&De.call(e,"__wrapped__"),v=p&&De.call(t,"__wrapped__");if(h||v){var m=h?e.value():e,g=v?t.value():t;return a||(a=new Kr),o(m,g,r,n,a)}}if(!d)return!1;return a||(a=new Kr),function(e,t,r,n,o,a){var s=1&r,c=io(e),u=c.length,f=io(t),l=f.length;if(u!=l&&!s)return!1;var p=u;for(;p--;){var d=c[p];if(!(s?d in t:De.call(t,d)))return!1}var h=a.get(e),v=a.get(t);if(h&&v)return h==t&&v==e;var m=!0;a.set(e,t),a.set(t,e);var g=s;for(;++p<u;){var y=e[d=c[p]],b=t[d];if(n)var w=s?n(b,y,d,t,e,a):n(y,b,d,e,t,a);if(!(w===i?y===b||o(y,b,r,n,a):w)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var _=e.constructor,S=t.constructor;_==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,r,n,o,a)}(e,t,r,n,Pn,o))}function Mn(e,t,r,n){var o=r.length,a=o,s=!n;if(null==e)return!a;for(e=ke(e);o--;){var c=r[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=r[o])[0],f=e[u],l=c[1];if(s&&c[2]){if(f===i&&!(u in e))return!1}else{var p=new Kr;if(n)var d=n(f,l,u,e,t,p);if(!(d===i?Pn(l,f,3,n,p):d))return!1}}return!0}function Nn(e){return!(!ts(e)||(t=e,Ue&&Ue in t))&&(Xa(e)?Ve:ye).test(Bo(e));var t}function Dn(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Wa(e)?Vn(e[0],e[1]):Zn(e):dc(e)}function jn(e){if(!Ro(e))return Ht(e);var t=[];for(var r in ke(e))De.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Un(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var r in ke(e))t.push(r);return t}(e);var t=Ro(e),r=[];for(var n in e)("constructor"!=n||!t&&De.call(e,n))&&r.push(n);return r}function Bn(e,t){return e<t}function Fn(e,t){var r=-1,i=$a(e)?n(e.length):[];return dn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Zn(e){var t=lo(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(r){return r===e||Mn(r,e,t)}}function Vn(e,t){return So(e)&&To(t)?ko(Uo(e),t):function(r){var n=ks(r,e);return n===i&&n===t?Cs(r,e):Pn(t,n,3)}}function qn(e,t,r,n,o){e!==t&&bn(t,(function(a,s){if(o||(o=new Kr),ts(a))!function(e,t,r,n,o,a,s){var c=Ao(e,r),u=Ao(t,r),f=s.get(u);if(f)return void en(e,r,f);var l=a?a(c,u,r+"",e,t,s):i,p=l===i;if(p){var d=Wa(u),h=!d&&Ka(u),v=!d&&!h&&fs(u);l=u,d||h||v?Wa(c)?l=c:Ha(c)?l=Ai(c):h?(p=!1,l=xi(u,!0)):v?(p=!1,l=Ti(u,!0)):l=[]:os(u)||za(u)?(l=c,za(c)?l=ys(c):ts(c)&&!Xa(c)||(l=yo(u))):p=!1}p&&(s.set(u,l),o(l,u,n,a,s),s.delete(u));en(e,r,l)}(e,t,s,r,qn,n,o);else{var c=n?n(Ao(e,s),a,s+"",e,t,o):i;c===i&&(c=a),en(e,s,c)}}),Ps)}function zn(e,t){var r=e.length;if(r)return wo(t+=t<0?r:0,r)?e[t]:i}function Wn(e,t,r){t=t.length?Nt(t,(function(e){return Wa(e)?function(t){return xn(t,1===e.length?e[0]:e)}:e})):[ic];var n=-1;t=Nt(t,Qt(uo()));var i=Fn(e,(function(e,r,i){var o=Nt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var c=ki(i[n],o[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Gn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=xn(e,a);r(s,a)&&ei(o,wi(a,e),s)}return o}function $n(e,t,r,n){var i=n?zt:qt,o=-1,a=t.length,s=e;for(e===t&&(t=Ai(t)),r&&(s=Nt(e,Qt(r)));++o<a;)for(var c=0,u=t[o],f=r?r(u):u;(c=i(s,f,c,n))>-1;)s!==e&&Ye.call(s,c,1),Ye.call(e,c,1);return e}function Hn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;wo(i)?Ye.call(e,i,1):pi(e,i)}}return e}function Kn(e,t){return e+mt(Sr()*(t-e+1))}function Yn(e,t){var r="";if(!e||t<1||t>h)return r;do{t%2&&(r+=e),(t=mt(t/2))&&(e+=e)}while(t);return r}function Jn(e,t){return Po(Co(e,t,ic),e+"")}function Xn(e){return Jr(Zs(e))}function Qn(e,t){var r=Zs(e);return Do(r,cn(t,0,r.length))}function ei(e,t,r,n){if(!ts(e))return e;for(var o=-1,a=(t=wi(t,e)).length,s=a-1,c=e;null!=c&&++o<a;){var u=Uo(t[o]),f=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var l=c[u];(f=n?n(l,u,c):i)===i&&(f=ts(l)?l:wo(t[o+1])?[]:{})}tn(c,u,f),c=c[u]}return e}var ti=Ar?function(e,t){return Ar.set(e,t),e}:ic,ri=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ni(e){return Do(Zs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var r;return dn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ai(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!us(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return si(e,t,ic,r)}function si(e,t,r,n){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,c=null===t,u=us(t),f=t===i;o<a;){var l=mt((o+a)/2),p=r(e[l]),d=p!==i,h=null===p,v=p==p,m=us(p);if(s)var g=n||v;else g=f?v&&(n||d):c?v&&d&&(n||!h):u?v&&d&&!h&&(n||!m):!h&&!m&&(n?p<=t:p<t);g?o=l+1:a=l}return br(a,4294967294)}function ci(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Za(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?v:+e}function fi(e){if("string"==typeof e)return e;if(Wa(e))return Nt(e,fi)+"";if(us(e))return Br?Br.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,r){var n=-1,i=Pt,o=e.length,a=!0,s=[],c=s;if(r)a=!1,i=Mt;else if(o>=200){var u=t?null:Yi(e);if(u)return lr(u);a=!1,i=tr,c=new Hr}else c=t?[]:s;e:for(;++n<o;){var f=e[n],l=t?t(f):f;if(f=r||0!==f?f:0,a&&l==l){for(var p=c.length;p--;)if(c[p]===l)continue e;t&&c.push(l),s.push(f)}else i(c,l,r)||(c!==s&&c.push(l),s.push(f))}return s}function pi(e,t){return null==(e=Oo(e,t=wi(t,e)))||delete e[Uo(Jo(t))]}function di(e,t,r,n){return ei(e,t,r(xn(e,t)),n)}function hi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ii(e,n?0:o,n?o+1:i):ii(e,n?o+1:0,n?i:o)}function vi(e,t){var r=e;return r instanceof zr&&(r=r.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),r)}function mi(e,t,r){var i=e.length;if(i<2)return i?li(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=pn(a[o]||s,e[c],t,r));return li(yn(a,1),t,r)}function gi(e,t,r){for(var n=-1,o=e.length,a=t.length,s={};++n<o;){var c=n<a?t[n]:i;r(s,e[n],c)}return s}function yi(e){return Ha(e)?e:[]}function bi(e){return"function"==typeof e?e:ic}function wi(e,t){return Wa(e)?e:So(e,t)?[e]:jo(bs(e))}var _i=Jn;function Si(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ii(e,t,r)}var Ei=it||function(e){return vt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var r=e.length,n=Ge?Ge(r):new e.constructor(r);return e.copy(n),n}function Ri(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var r=t?Ri(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,a=us(e),s=t!==i,c=null===t,u=t==t,f=us(t);if(!c&&!f&&!a&&e>t||a&&s&&u&&!c&&!f||n&&s&&u||!r&&u||!o)return 1;if(!n&&!a&&!f&&e<t||f&&r&&o&&!n&&!a||c&&r&&o||!s&&o||!u)return-1}return 0}function Ci(e,t,r,i){for(var o=-1,a=e.length,s=r.length,c=-1,u=t.length,f=yr(a-s,0),l=n(u+f),p=!i;++c<u;)l[c]=t[c];for(;++o<s;)(p||o<a)&&(l[r[o]]=e[o]);for(;f--;)l[c++]=e[o++];return l}function Oi(e,t,r,i){for(var o=-1,a=e.length,s=-1,c=r.length,u=-1,f=t.length,l=yr(a-c,0),p=n(l+f),d=!i;++o<l;)p[o]=e[o];for(var h=o;++u<f;)p[h+u]=t[u];for(;++s<c;)(d||o<a)&&(p[h+r[s]]=e[o++]);return p}function Ai(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ii(e,t,r,n){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=n?n(r[c],e[c],c,r,e):i;u===i&&(u=e[c]),o?an(r,c,u):tn(r,c,u)}return r}function Li(e,t){return function(r,n){var i=Wa(r)?Ct:nn,o=t?t():{};return i(r,e,uo(n,2),o)}}function Pi(e){return Jn((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:i,s=o>2?r[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&_o(r[0],r[1],s)&&(a=o<3?i:a,o=1),t=ke(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t}))}function Mi(e,t){return function(r,n){if(null==r)return r;if(!$a(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=ke(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Ni(e){return function(t,r,n){for(var i=-1,o=ke(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}function Di(e){return function(t){var r=sr(t=bs(t))?hr(t):i,n=r?r[0]:t.charAt(0),o=r?Si(r,1).join(""):t.slice(1);return n[e]()+o}}function ji(e){return function(t){return jt(Xs(zs(t).replace(et,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Zr(e.prototype),n=e.apply(r,t);return ts(n)?n:r}}function Bi(e){return function(t,r,n){var o=ke(t);if(!$a(t)){var a=uo(r,3);t=Ls(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[a?t[s]:s]:i}}function Fi(e){return no((function(t){var r=t.length,n=r,a=qr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Ae(o);if(a&&!c&&"wrapper"==so(s))var c=new qr([],!0)}for(n=c?n:r;++n<r;){var u=so(s=t[n]),f="wrapper"==u?ao(s):i;c=f&&Eo(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?c[so(f[0])].apply(c,f[3]):1==s.length&&Eo(s)?c[u]():c.thru(s)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Wa(n))return c.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Zi(e,t,r,o,a,s,c,u,f,p){var d=t&l,h=1&t,v=2&t,m=24&t,g=512&t,y=v?i:Ui(e);return function l(){for(var b=arguments.length,w=n(b),_=b;_--;)w[_]=arguments[_];if(m)var S=co(l),E=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(w,S);if(o&&(w=Ci(w,o,a,m)),s&&(w=Oi(w,s,c,m)),b-=E,m&&b<p){var x=fr(w,S);return Hi(e,t,Zi,l.placeholder,r,w,x,u,f,p-b)}var R=h?r:this,T=v?R[e]:e;return b=w.length,u?w=function(e,t){var r=e.length,n=br(t.length,r),o=Ai(e);for(;n--;){var a=t[n];e[n]=wo(a,r)?o[a]:i}return e}(w,u):g&&b>1&&w.reverse(),d&&f<b&&(w.length=f),this&&this!==vt&&this instanceof l&&(T=y||Ui(T)),T.apply(R,w)}}function Vi(e,t){return function(r,n){return function(e,t,r,n){return _n(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function qi(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=fi(r),n=fi(n)):(r=ui(r),n=ui(n)),o=e(r,n)}return o}}function zi(e){return no((function(t){return t=Nt(t,Qt(uo())),Jn((function(r){var n=this;return e(t,(function(e){return kt(e,n,r)}))}))}))}function Wi(e,t){var r=(t=t===i?" ":fi(t)).length;if(r<2)return r?Yn(t,e):t;var n=Yn(t,ht(e/dr(t)));return sr(t)?Si(hr(n),0,e).join(""):n.slice(0,e)}function Gi(e){return function(t,r,o){return o&&"number"!=typeof o&&_o(t,r,o)&&(r=o=i),t=hs(t),r===i?(r=t,t=0):r=hs(r),function(e,t,r,i){for(var o=-1,a=yr(ht((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:hs(o),e)}}function $i(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gs(t),r=gs(r)),e(t,r)}}function Hi(e,t,r,n,o,a,s,c,l,p){var d=8&t;t|=d?u:f,4&(t&=~(d?f:u))||(t&=-4);var h=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,c,l,p],v=r.apply(i,h);return Eo(e)&&Io(v,h),v.placeholder=n,Mo(v,e,t)}function Ki(e){var t=Te[e];return function(e,r){if(e=gs(e),(r=null==r?0:br(vs(r),292))&&wt(e)){var n=(bs(e)+"e").split("e");return+((n=(bs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Yi=kr&&1/lr(new kr([,-0]))[1]==d?function(e){return new kr(e)}:uc;function Ji(e){return function(t){var r=mo(t);return r==R?cr(t):r==A?pr(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,r,a,d,h,v,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Ae(o);var y=a?a.length:0;if(y||(t&=-97,a=d=i),v=v===i?v:yr(vs(v),0),m=m===i?m:vs(m),y-=d?d.length:0,t&f){var b=a,w=d;a=d=i}var _=g?i:ao(e),S=[e,t,r,a,d,b,w,h,v,m];if(_&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=n==l&&8==r||n==l&&r==p&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!a)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Ci(u,c,t[4]):c,e[4]=u?fr(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Oi(u,c,t[6]):c,e[6]=u?fr(e[5],s):t[6]);(c=t[7])&&(e[7]=c);n&l&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(S,_),e=S[0],t=S[1],r=S[2],a=S[3],d=S[4],!(m=S[9]=S[9]===i?g?0:e.length:yr(S[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==c?function(e,t,r){var o=Ui(e);return function a(){for(var s=arguments.length,c=n(s),u=s,f=co(a);u--;)c[u]=arguments[u];var l=s<3&&c[0]!==f&&c[s-1]!==f?[]:fr(c,f);return(s-=l.length)<r?Hi(e,t,Zi,a.placeholder,i,c,l,i,i,r-s):kt(this&&this!==vt&&this instanceof a?o:e,this,c)}}(e,t,m):t!=u&&33!=t||d.length?Zi.apply(i,S):function(e,t,r,i){var o=1&t,a=Ui(e);return function t(){for(var s=-1,c=arguments.length,u=-1,f=i.length,l=n(f+c),p=this&&this!==vt&&this instanceof t?a:e;++u<f;)l[u]=i[u];for(;c--;)l[u++]=arguments[++s];return kt(p,o?r:this,l)}}(e,t,r,a);else var E=function(e,t,r){var n=1&t,i=Ui(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Mo((_?ti:Io)(E,S),e,t)}function Qi(e,t,r,n){return e===i||Za(e,Pe[r])&&!De.call(n,r)?t:e}function eo(e,t,r,n,o,a){return ts(e)&&ts(t)&&(a.set(t,e),qn(e,t,i,eo,a),a.delete(t)),e}function to(e){return os(e)?i:e}function ro(e,t,r,n,o,a){var s=1&r,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var f=a.get(e),l=a.get(t);if(f&&l)return f==t&&l==e;var p=-1,d=!0,h=2&r?new Hr:i;for(a.set(e,t),a.set(t,e);++p<c;){var v=e[p],m=t[p];if(n)var g=s?n(m,v,p,t,e,a):n(v,m,p,e,t,a);if(g!==i){if(g)continue;d=!1;break}if(h){if(!Bt(t,(function(e,t){if(!tr(h,t)&&(v===e||o(v,e,r,n,a)))return h.push(t)}))){d=!1;break}}else if(v!==m&&!o(v,m,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function no(e){return Po(Co(e,i,Go),e+"")}function io(e){return Rn(e,Ls,ho)}function oo(e){return Rn(e,Ps,vo)}var ao=Ar?function(e){return Ar.get(e)}:uc;function so(e){for(var t=e.name+"",r=Ir[t],n=De.call(Ir,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function co(e){return(De.call(Fr,"placeholder")?Fr:e).placeholder}function uo(){var e=Fr.iteratee||oc;return e=e===oc?Dn:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function lo(e){for(var t=Ls(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,To(i)]}return t}function po(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Nn(r)?r:i}var ho=gt?function(e){return null==e?[]:(e=ke(e),Lt(gt(e),(function(t){return Ke.call(e,t)})))}:mc,vo=gt?function(e){for(var t=[];e;)Dt(t,ho(e)),e=$e(e);return t}:mc,mo=Tn;function go(e,t,r){for(var n=-1,i=(t=wi(t,e)).length,o=!1;++n<i;){var a=Uo(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&es(i)&&wo(a,i)&&(Wa(e)||za(e))}function yo(e){return"function"!=typeof e.constructor||Ro(e)?{}:Zr($e(e))}function bo(e){return Wa(e)||za(e)||!!(Je&&e&&e[Je])}function wo(e,t){var r=typeof e;return!!(t=null==t?h:t)&&("number"==r||"symbol"!=r&&we.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,r){if(!ts(r))return!1;var n=typeof t;return!!("number"==n?$a(r)&&wo(t,r.length):"string"==n&&t in r)&&Za(r[t],e)}function So(e,t){if(Wa(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!us(e))||(re.test(e)||!te.test(e)||null!=t&&e in ke(t))}function Eo(e){var t=so(e),r=Fr[t];if("function"!=typeof r||!(t in zr.prototype))return!1;if(e===r)return!0;var n=ao(r);return!!n&&e===n[0]}(xr&&mo(new xr(new ArrayBuffer(1)))!=N||Rr&&mo(new Rr)!=R||Tr&&mo(Tr.resolve())!=C||kr&&mo(new kr)!=A||Cr&&mo(new Cr)!=P)&&(mo=function(e){var t=Tn(e),r=t==k?e.constructor:i,n=r?Bo(r):"";if(n)switch(n){case Lr:return N;case Pr:return R;case Mr:return C;case Nr:return A;case Dr:return P}return t});var xo=Me?Xa:gc;function Ro(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function To(e){return e==e&&!ts(e)}function ko(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in ke(r)))}}function Co(e,t,r){return t=yr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=yr(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(s),kt(e,this,c)}}function Oo(e,t){return t.length<2?e:xn(e,ii(t,0,-1))}function Ao(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Io=No(ti),Lo=dt||function(e,t){return vt.setTimeout(e,t)},Po=No(ri);function Mo(e,t,r){var n=t+"";return Po(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ot(g,(function(r){var n="_."+r[0];t&r[1]&&!Pt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(fe):[]}(n),r)))}function No(e){var t=0,r=0;return function(){var n=wr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var a=Kn(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var jo=function(e){var t=Na(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(de,"$1"):r||e)})),t}));function Uo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fo(e){if(e instanceof zr)return e.clone();var t=new qr(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Zo=Jn((function(e,t){return Ha(e)?pn(e,yn(t,1,Ha,!0)):[]})),Vo=Jn((function(e,t){var r=Jo(t);return Ha(r)&&(r=i),Ha(e)?pn(e,yn(t,1,Ha,!0),uo(r,2)):[]})),qo=Jn((function(e,t){var r=Jo(t);return Ha(r)&&(r=i),Ha(e)?pn(e,yn(t,1,Ha,!0),i,r):[]}));function zo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:vs(r);return i<0&&(i=yr(n+i,0)),Vt(e,uo(t,3),i)}function Wo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=vs(r),o=r<0?yr(n+o,0):br(o,n-1)),Vt(e,uo(t,3),o,!0)}function Go(e){return(null==e?0:e.length)?yn(e,1):[]}function $o(e){return e&&e.length?e[0]:i}var Ho=Jn((function(e){var t=Nt(e,yi);return t.length&&t[0]===e[0]?An(t):[]})),Ko=Jn((function(e){var t=Jo(e),r=Nt(e,yi);return t===Jo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?An(r,uo(t,2)):[]})),Yo=Jn((function(e){var t=Jo(e),r=Nt(e,yi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?An(r,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xo=Jn(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?$n(e,t):e}var ea=no((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Hn(e,Nt(t,(function(e){return wo(e,r)?+e:e})).sort(ki)),n}));function ta(e){return null==e?e:Er.call(e)}var ra=Jn((function(e){return li(yn(e,1,Ha,!0))})),na=Jn((function(e){var t=Jo(e);return Ha(t)&&(t=i),li(yn(e,1,Ha,!0),uo(t,2))})),ia=Jn((function(e){var t=Jo(e);return t="function"==typeof t?t:i,li(yn(e,1,Ha,!0),i,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=Lt(e,(function(e){if(Ha(e))return t=yr(e.length,t),!0})),Jt(t,(function(t){return Nt(e,$t(t))}))}function aa(e,t){if(!e||!e.length)return[];var r=oa(e);return null==t?r:Nt(r,(function(e){return kt(t,i,e)}))}var sa=Jn((function(e,t){return Ha(e)?pn(e,t):[]})),ca=Jn((function(e){return mi(Lt(e,Ha))})),ua=Jn((function(e){var t=Jo(e);return Ha(t)&&(t=i),mi(Lt(e,Ha),uo(t,2))})),fa=Jn((function(e){var t=Jo(e);return t="function"==typeof t?t:i,mi(Lt(e,Ha),i,t)})),la=Jn(oa);var pa=Jn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,aa(e,r)}));function da(e){var t=Fr(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var va=no((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof zr&&wo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:i}),new qr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Li((function(e,t,r){De.call(e,r)?++e[r]:an(e,r,1)}));var ga=Bi(zo),ya=Bi(Wo);function ba(e,t){return(Wa(e)?Ot:dn)(e,uo(t,3))}function wa(e,t){return(Wa(e)?At:hn)(e,uo(t,3))}var _a=Li((function(e,t,r){De.call(e,r)?e[r].push(t):an(e,r,[t])}));var Sa=Jn((function(e,t,r){var i=-1,o="function"==typeof t,a=$a(e)?n(e.length):[];return dn(e,(function(e){a[++i]=o?kt(t,e,r):In(e,t,r)})),a})),Ea=Li((function(e,t,r){an(e,r,t)}));function xa(e,t){return(Wa(e)?Nt:Fn)(e,uo(t,3))}var Ra=Li((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ta=Jn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&_o(e,t[0],t[1])?t=[]:r>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,yn(t,1),[])})),ka=ft||function(){return vt.Date.now()};function Ca(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Xi(e,l,i,i,i,i,t)}function Oa(e,t){var r;if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Aa=Jn((function(e,t,r){var n=1;if(r.length){var i=fr(r,co(Aa));n|=u}return Xi(e,n,t,r,i)})),Ia=Jn((function(e,t,r){var n=3;if(r.length){var i=fr(r,co(Ia));n|=u}return Xi(t,n,e,r,i)}));function La(e,t,r){var n,a,s,c,u,f,l=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new Ae(o);function v(t){var r=n,o=a;return n=a=i,l=t,c=e.apply(o,r)}function m(e){var r=e-f;return f===i||r>=t||r<0||d&&e-l>=s}function g(){var e=ka();if(m(e))return y(e);u=Lo(g,function(e){var r=t-(e-f);return d?br(r,s-(e-l)):r}(e))}function y(e){return u=i,h&&n?v(e):(n=a=i,c)}function b(){var e=ka(),r=m(e);if(n=arguments,a=this,f=e,r){if(u===i)return function(e){return l=e,u=Lo(g,t),p?v(e):c}(f);if(d)return Ei(u),u=Lo(g,t),v(f)}return u===i&&(u=Lo(g,t)),c}return t=gs(t)||0,ts(r)&&(p=!!r.leading,s=(d="maxWait"in r)?yr(gs(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h),b.cancel=function(){u!==i&&Ei(u),l=0,n=f=a=u=i},b.flush=function(){return u===i?c:y(ka())},b}var Pa=Jn((function(e,t){return ln(e,1,t)})),Ma=Jn((function(e,t,r){return ln(e,gs(t)||0,r)}));function Na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Na.Cache||$r),r}function Da(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=$r;var ja=_i((function(e,t){var r=(t=1==t.length&&Wa(t[0])?Nt(t[0],Qt(uo())):Nt(yn(t,1),Qt(uo()))).length;return Jn((function(n){for(var i=-1,o=br(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return kt(e,this,n)}))})),Ua=Jn((function(e,t){var r=fr(t,co(Ua));return Xi(e,u,i,t,r)})),Ba=Jn((function(e,t){var r=fr(t,co(Ba));return Xi(e,f,i,t,r)})),Fa=no((function(e,t){return Xi(e,p,i,i,i,t)}));function Za(e,t){return e===t||e!=e&&t!=t}var Va=$i(kn),qa=$i((function(e,t){return e>=t})),za=Ln(function(){return arguments}())?Ln:function(e){return rs(e)&&De.call(e,"callee")&&!Ke.call(e,"callee")},Wa=n.isArray,Ga=_t?Qt(_t):function(e){return rs(e)&&Tn(e)==M};function $a(e){return null!=e&&es(e.length)&&!Xa(e)}function Ha(e){return rs(e)&&$a(e)}var Ka=bt||gc,Ya=St?Qt(St):function(e){return rs(e)&&Tn(e)==_};function Ja(e){if(!rs(e))return!1;var t=Tn(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Xa(e){if(!ts(e))return!1;var t=Tn(e);return t==E||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==vs(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var ns=Et?Qt(Et):function(e){return rs(e)&&mo(e)==R};function is(e){return"number"==typeof e||rs(e)&&Tn(e)==T}function os(e){if(!rs(e)||Tn(e)!=k)return!1;var t=$e(e);if(null===t)return!0;var r=De.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ne.call(r)==Fe}var as=xt?Qt(xt):function(e){return rs(e)&&Tn(e)==O};var ss=Rt?Qt(Rt):function(e){return rs(e)&&mo(e)==A};function cs(e){return"string"==typeof e||!Wa(e)&&rs(e)&&Tn(e)==I}function us(e){return"symbol"==typeof e||rs(e)&&Tn(e)==L}var fs=Tt?Qt(Tt):function(e){return rs(e)&&es(e.length)&&!!ct[Tn(e)]};var ls=$i(Bn),ps=$i((function(e,t){return e<=t}));function ds(e){if(!e)return[];if($a(e))return cs(e)?hr(e):Ai(e);if(Xe&&e[Xe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Xe]());var t=mo(e);return(t==R?cr:t==A?lr:Zs)(e)}function hs(e){return e?(e=gs(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=hs(e),r=t%1;return t==t?r?t-r:t:0}function ms(e){return e?cn(vs(e),0,m):0}function gs(e){if("number"==typeof e)return e;if(us(e))return v;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var r=ge.test(e);return r||be.test(e)?pt(e.slice(2),r?2:8):me.test(e)?v:+e}function ys(e){return Ii(e,Ps(e))}function bs(e){return null==e?"":fi(e)}var ws=Pi((function(e,t){if(Ro(t)||$a(t))Ii(t,Ls(t),e);else for(var r in t)De.call(t,r)&&tn(e,r,t[r])})),_s=Pi((function(e,t){Ii(t,Ps(t),e)})),Ss=Pi((function(e,t,r,n){Ii(t,Ps(t),e,n)})),Es=Pi((function(e,t,r,n){Ii(t,Ls(t),e,n)})),xs=no(sn);var Rs=Jn((function(e,t){e=ke(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&_o(t[0],t[1],o)&&(n=1);++r<n;)for(var a=t[r],s=Ps(a),c=-1,u=s.length;++c<u;){var f=s[c],l=e[f];(l===i||Za(l,Pe[f])&&!De.call(e,f))&&(e[f]=a[f])}return e})),Ts=Jn((function(e){return e.push(i,eo),kt(Ns,i,e)}));function ks(e,t,r){var n=null==e?i:xn(e,t);return n===i?r:n}function Cs(e,t){return null!=e&&go(e,t,On)}var Os=Vi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=r}),tc(ic)),As=Vi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),De.call(e,t)?e[t].push(r):e[t]=[r]}),uo),Is=Jn(In);function Ls(e){return $a(e)?Yr(e):jn(e)}function Ps(e){return $a(e)?Yr(e,!0):Un(e)}var Ms=Pi((function(e,t,r){qn(e,t,r)})),Ns=Pi((function(e,t,r,n){qn(e,t,r,n)})),Ds=no((function(e,t){var r={};if(null==e)return r;var n=!1;t=Nt(t,(function(t){return t=wi(t,e),n||(n=t.length>1),t})),Ii(e,oo(e),r),n&&(r=un(r,7,to));for(var i=t.length;i--;)pi(r,t[i]);return r}));var js=no((function(e,t){return null==e?{}:function(e,t){return Gn(e,t,(function(t,r){return Cs(e,r)}))}(e,t)}));function Us(e,t){if(null==e)return{};var r=Nt(oo(e),(function(e){return[e]}));return t=uo(t),Gn(e,r,(function(e,r){return t(e,r[0])}))}var Bs=Ji(Ls),Fs=Ji(Ps);function Zs(e){return null==e?[]:er(e,Ls(e))}var Vs=ji((function(e,t,r){return t=t.toLowerCase(),e+(r?qs(t):t)}));function qs(e){return Js(bs(e).toLowerCase())}function zs(e){return(e=bs(e))&&e.replace(_e,ir).replace(tt,"")}var Ws=ji((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Gs=ji((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),$s=Di("toLowerCase");var Hs=ji((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ks=ji((function(e,t,r){return e+(r?" ":"")+Js(t)}));var Ys=ji((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Js=Di("toUpperCase");function Xs(e,t,r){return e=bs(e),(t=r?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Qs=Jn((function(e,t){try{return kt(e,i,t)}catch(e){return Ja(e)?e:new xe(e)}})),ec=no((function(e,t){return Ot(t,(function(t){t=Uo(t),an(e,t,Aa(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Fi(),nc=Fi(!0);function ic(e){return e}function oc(e){return Dn("function"==typeof e?e:un(e,1))}var ac=Jn((function(e,t){return function(r){return In(r,e,t)}})),sc=Jn((function(e,t){return function(r){return In(e,r,t)}}));function cc(e,t,r){var n=Ls(t),i=En(t,n);null!=r||ts(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=En(t,Ls(t)));var o=!(ts(r)&&"chain"in r&&!r.chain),a=Xa(e);return Ot(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Ai(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Dt([this.value()],arguments))})})),e}function uc(){}var fc=zi(Nt),lc=zi(It),pc=zi(Bt);function dc(e){return So(e)?$t(Uo(e)):function(e){return function(t){return xn(t,e)}}(e)}var hc=Gi(),vc=Gi(!0);function mc(){return[]}function gc(){return!1}var yc=qi((function(e,t){return e+t}),0),bc=Ki("ceil"),wc=qi((function(e,t){return e/t}),1),_c=Ki("floor");var Sc,Ec=qi((function(e,t){return e*t}),1),xc=Ki("round"),Rc=qi((function(e,t){return e-t}),0);return Fr.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Fr.ary=Ca,Fr.assign=ws,Fr.assignIn=_s,Fr.assignInWith=Ss,Fr.assignWith=Es,Fr.at=xs,Fr.before=Oa,Fr.bind=Aa,Fr.bindAll=ec,Fr.bindKey=Ia,Fr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Fr.chain=da,Fr.chunk=function(e,t,r){t=(r?_o(e,t,r):t===i)?1:yr(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,c=n(ht(o/t));a<o;)c[s++]=ii(e,a,a+=t);return c},Fr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Fr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Wa(r)?Ai(r):[r],yn(t,1))},Fr.cond=function(e){var t=null==e?0:e.length,r=uo();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[r(e[0]),e[1]]})):[],Jn((function(r){for(var n=-1;++n<t;){var i=e[n];if(kt(i[0],this,r))return kt(i[1],this,r)}}))},Fr.conforms=function(e){return function(e){var t=Ls(e);return function(r){return fn(r,e,t)}}(un(e,1))},Fr.constant=tc,Fr.countBy=ma,Fr.create=function(e,t){var r=Zr(e);return null==t?r:on(r,t)},Fr.curry=function e(t,r,n){var o=Xi(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Fr.curryRight=function e(t,r,n){var o=Xi(t,c,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Fr.debounce=La,Fr.defaults=Rs,Fr.defaultsDeep=Ts,Fr.defer=Pa,Fr.delay=Ma,Fr.difference=Zo,Fr.differenceBy=Vo,Fr.differenceWith=qo,Fr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=r||t===i?1:vs(t))<0?0:t,n):[]},Fr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,0,(t=n-(t=r||t===i?1:vs(t)))<0?0:t):[]},Fr.dropRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0,!0):[]},Fr.dropWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0):[]},Fr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&_o(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=vs(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:vs(n))<0&&(n+=o),n=r>n?0:ms(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Fr.filter=function(e,t){return(Wa(e)?Lt:gn)(e,uo(t,3))},Fr.flatMap=function(e,t){return yn(xa(e,t),1)},Fr.flatMapDeep=function(e,t){return yn(xa(e,t),d)},Fr.flatMapDepth=function(e,t,r){return r=r===i?1:vs(r),yn(xa(e,t),r)},Fr.flatten=Go,Fr.flattenDeep=function(e){return(null==e?0:e.length)?yn(e,d):[]},Fr.flattenDepth=function(e,t){return(null==e?0:e.length)?yn(e,t=t===i?1:vs(t)):[]},Fr.flip=function(e){return Xi(e,512)},Fr.flow=rc,Fr.flowRight=nc,Fr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Fr.functions=function(e){return null==e?[]:En(e,Ls(e))},Fr.functionsIn=function(e){return null==e?[]:En(e,Ps(e))},Fr.groupBy=_a,Fr.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Fr.intersection=Ho,Fr.intersectionBy=Ko,Fr.intersectionWith=Yo,Fr.invert=Os,Fr.invertBy=As,Fr.invokeMap=Sa,Fr.iteratee=oc,Fr.keyBy=Ea,Fr.keys=Ls,Fr.keysIn=Ps,Fr.map=xa,Fr.mapKeys=function(e,t){var r={};return t=uo(t,3),_n(e,(function(e,n,i){an(r,t(e,n,i),e)})),r},Fr.mapValues=function(e,t){var r={};return t=uo(t,3),_n(e,(function(e,n,i){an(r,n,t(e,n,i))})),r},Fr.matches=function(e){return Zn(un(e,1))},Fr.matchesProperty=function(e,t){return Vn(e,un(t,1))},Fr.memoize=Na,Fr.merge=Ms,Fr.mergeWith=Ns,Fr.method=ac,Fr.methodOf=sc,Fr.mixin=cc,Fr.negate=Da,Fr.nthArg=function(e){return e=vs(e),Jn((function(t){return zn(t,e)}))},Fr.omit=Ds,Fr.omitBy=function(e,t){return Us(e,Da(uo(t)))},Fr.once=function(e){return Oa(2,e)},Fr.orderBy=function(e,t,r,n){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(r=n?i:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Fr.over=fc,Fr.overArgs=ja,Fr.overEvery=lc,Fr.overSome=pc,Fr.partial=Ua,Fr.partialRight=Ba,Fr.partition=Ra,Fr.pick=js,Fr.pickBy=Us,Fr.property=dc,Fr.propertyOf=function(e){return function(t){return null==e?i:xn(e,t)}},Fr.pull=Xo,Fr.pullAll=Qo,Fr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?$n(e,t,uo(r,2)):e},Fr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?$n(e,t,i,r):e},Fr.pullAt=ea,Fr.range=hc,Fr.rangeRight=vc,Fr.rearg=Fa,Fr.reject=function(e,t){return(Wa(e)?Lt:gn)(e,Da(uo(t,3)))},Fr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=uo(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Hn(e,i),r},Fr.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Jn(e,t=t===i?t:vs(t))},Fr.reverse=ta,Fr.sampleSize=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:vs(t),(Wa(e)?Xr:Qn)(e,t)},Fr.set=function(e,t,r){return null==e?e:ei(e,t,r)},Fr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:ei(e,t,r,n)},Fr.shuffle=function(e){return(Wa(e)?Qr:ni)(e)},Fr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&_o(e,t,r)?(t=0,r=n):(t=null==t?0:vs(t),r=r===i?n:vs(r)),ii(e,t,r)):[]},Fr.sortBy=Ta,Fr.sortedUniq=function(e){return e&&e.length?ci(e):[]},Fr.sortedUniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Fr.split=function(e,t,r){return r&&"number"!=typeof r&&_o(e,t,r)&&(t=r=i),(r=r===i?m:r>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=fi(t))&&sr(e)?Si(hr(e),0,r):e.split(t,r):[]},Fr.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:yr(vs(t),0),Jn((function(r){var n=r[t],i=Si(r,0,t);return n&&Dt(i,n),kt(e,this,i)}))},Fr.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Fr.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===i?1:vs(t))<0?0:t):[]},Fr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=n-(t=r||t===i?1:vs(t)))<0?0:t,n):[]},Fr.takeRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!1,!0):[]},Fr.takeWhile=function(e,t){return e&&e.length?hi(e,uo(t,3)):[]},Fr.tap=function(e,t){return t(e),e},Fr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return ts(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),La(e,t,{leading:n,maxWait:t,trailing:i})},Fr.thru=ha,Fr.toArray=ds,Fr.toPairs=Bs,Fr.toPairsIn=Fs,Fr.toPath=function(e){return Wa(e)?Nt(e,Uo):us(e)?[e]:Ai(jo(bs(e)))},Fr.toPlainObject=ys,Fr.transform=function(e,t,r){var n=Wa(e),i=n||Ka(e)||fs(e);if(t=uo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ts(e)&&Xa(o)?Zr($e(e)):{}}return(i?Ot:_n)(e,(function(e,n,i){return t(r,e,n,i)})),r},Fr.unary=function(e){return Ca(e,1)},Fr.union=ra,Fr.unionBy=na,Fr.unionWith=ia,Fr.uniq=function(e){return e&&e.length?li(e):[]},Fr.uniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},Fr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},Fr.unset=function(e,t){return null==e||pi(e,t)},Fr.unzip=oa,Fr.unzipWith=aa,Fr.update=function(e,t,r){return null==e?e:di(e,t,bi(r))},Fr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:di(e,t,bi(r),n)},Fr.values=Zs,Fr.valuesIn=function(e){return null==e?[]:er(e,Ps(e))},Fr.without=sa,Fr.words=Xs,Fr.wrap=function(e,t){return Ua(bi(t),e)},Fr.xor=ca,Fr.xorBy=ua,Fr.xorWith=fa,Fr.zip=la,Fr.zipObject=function(e,t){return gi(e||[],t||[],tn)},Fr.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},Fr.zipWith=pa,Fr.entries=Bs,Fr.entriesIn=Fs,Fr.extend=_s,Fr.extendWith=Ss,cc(Fr,Fr),Fr.add=yc,Fr.attempt=Qs,Fr.camelCase=Vs,Fr.capitalize=qs,Fr.ceil=bc,Fr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=gs(r))==r?r:0),t!==i&&(t=(t=gs(t))==t?t:0),cn(gs(e),t,r)},Fr.clone=function(e){return un(e,4)},Fr.cloneDeep=function(e){return un(e,5)},Fr.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:i)},Fr.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:i)},Fr.conformsTo=function(e,t){return null==t||fn(e,t,Ls(t))},Fr.deburr=zs,Fr.defaultTo=function(e,t){return null==e||e!=e?t:e},Fr.divide=wc,Fr.endsWith=function(e,t,r){e=bs(e),t=fi(t);var n=e.length,o=r=r===i?n:cn(vs(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Fr.eq=Za,Fr.escape=function(e){return(e=bs(e))&&J.test(e)?e.replace(K,or):e},Fr.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Fr.every=function(e,t,r){var n=Wa(e)?It:vn;return r&&_o(e,t,r)&&(t=i),n(e,uo(t,3))},Fr.find=ga,Fr.findIndex=zo,Fr.findKey=function(e,t){return Zt(e,uo(t,3),_n)},Fr.findLast=ya,Fr.findLastIndex=Wo,Fr.findLastKey=function(e,t){return Zt(e,uo(t,3),Sn)},Fr.floor=_c,Fr.forEach=ba,Fr.forEachRight=wa,Fr.forIn=function(e,t){return null==e?e:bn(e,uo(t,3),Ps)},Fr.forInRight=function(e,t){return null==e?e:wn(e,uo(t,3),Ps)},Fr.forOwn=function(e,t){return e&&_n(e,uo(t,3))},Fr.forOwnRight=function(e,t){return e&&Sn(e,uo(t,3))},Fr.get=ks,Fr.gt=Va,Fr.gte=qa,Fr.has=function(e,t){return null!=e&&go(e,t,Cn)},Fr.hasIn=Cs,Fr.head=$o,Fr.identity=ic,Fr.includes=function(e,t,r,n){e=$a(e)?e:Zs(e),r=r&&!n?vs(r):0;var i=e.length;return r<0&&(r=yr(i+r,0)),cs(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&qt(e,t,r)>-1},Fr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:vs(r);return i<0&&(i=yr(n+i,0)),qt(e,t,i)},Fr.inRange=function(e,t,r){return t=hs(t),r===i?(r=t,t=0):r=hs(r),function(e,t,r){return e>=br(t,r)&&e<yr(t,r)}(e=gs(e),t,r)},Fr.invoke=Is,Fr.isArguments=za,Fr.isArray=Wa,Fr.isArrayBuffer=Ga,Fr.isArrayLike=$a,Fr.isArrayLikeObject=Ha,Fr.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Tn(e)==w},Fr.isBuffer=Ka,Fr.isDate=Ya,Fr.isElement=function(e){return rs(e)&&1===e.nodeType&&!os(e)},Fr.isEmpty=function(e){if(null==e)return!0;if($a(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||fs(e)||za(e)))return!e.length;var t=mo(e);if(t==R||t==A)return!e.size;if(Ro(e))return!jn(e).length;for(var r in e)if(De.call(e,r))return!1;return!0},Fr.isEqual=function(e,t){return Pn(e,t)},Fr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Pn(e,t,i,r):!!n},Fr.isError=Ja,Fr.isFinite=function(e){return"number"==typeof e&&wt(e)},Fr.isFunction=Xa,Fr.isInteger=Qa,Fr.isLength=es,Fr.isMap=ns,Fr.isMatch=function(e,t){return e===t||Mn(e,t,lo(t))},Fr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Mn(e,t,lo(t),r)},Fr.isNaN=function(e){return is(e)&&e!=+e},Fr.isNative=function(e){if(xo(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nn(e)},Fr.isNil=function(e){return null==e},Fr.isNull=function(e){return null===e},Fr.isNumber=is,Fr.isObject=ts,Fr.isObjectLike=rs,Fr.isPlainObject=os,Fr.isRegExp=as,Fr.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=h},Fr.isSet=ss,Fr.isString=cs,Fr.isSymbol=us,Fr.isTypedArray=fs,Fr.isUndefined=function(e){return e===i},Fr.isWeakMap=function(e){return rs(e)&&mo(e)==P},Fr.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Tn(e)},Fr.join=function(e,t){return null==e?"":Ft.call(e,t)},Fr.kebabCase=Ws,Fr.last=Jo,Fr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=vs(r))<0?yr(n+o,0):br(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Vt(e,Wt,o,!0)},Fr.lowerCase=Gs,Fr.lowerFirst=$s,Fr.lt=ls,Fr.lte=ps,Fr.max=function(e){return e&&e.length?mn(e,ic,kn):i},Fr.maxBy=function(e,t){return e&&e.length?mn(e,uo(t,2),kn):i},Fr.mean=function(e){return Gt(e,ic)},Fr.meanBy=function(e,t){return Gt(e,uo(t,2))},Fr.min=function(e){return e&&e.length?mn(e,ic,Bn):i},Fr.minBy=function(e,t){return e&&e.length?mn(e,uo(t,2),Bn):i},Fr.stubArray=mc,Fr.stubFalse=gc,Fr.stubObject=function(){return{}},Fr.stubString=function(){return""},Fr.stubTrue=function(){return!0},Fr.multiply=Ec,Fr.nth=function(e,t){return e&&e.length?zn(e,vs(t)):i},Fr.noConflict=function(){return vt._===this&&(vt._=Ze),this},Fr.noop=uc,Fr.now=ka,Fr.pad=function(e,t,r){e=bs(e);var n=(t=vs(t))?dr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Wi(mt(i),r)+e+Wi(ht(i),r)},Fr.padEnd=function(e,t,r){e=bs(e);var n=(t=vs(t))?dr(e):0;return t&&n<t?e+Wi(t-n,r):e},Fr.padStart=function(e,t,r){e=bs(e);var n=(t=vs(t))?dr(e):0;return t&&n<t?Wi(t-n,r)+e:e},Fr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),_r(bs(e).replace(ae,""),t||0)},Fr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_o(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hs(e),t===i?(t=e,e=0):t=hs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=Sr();return br(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Kn(e,t)},Fr.reduce=function(e,t,r){var n=Wa(e)?jt:Kt,i=arguments.length<3;return n(e,uo(t,4),r,i,dn)},Fr.reduceRight=function(e,t,r){var n=Wa(e)?Ut:Kt,i=arguments.length<3;return n(e,uo(t,4),r,i,hn)},Fr.repeat=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:vs(t),Yn(bs(e),t)},Fr.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fr.result=function(e,t,r){var n=-1,o=(t=wi(t,e)).length;for(o||(o=1,e=i);++n<o;){var a=null==e?i:e[Uo(t[n])];a===i&&(n=o,a=r),e=Xa(a)?a.call(e):a}return e},Fr.round=xc,Fr.runInContext=e,Fr.sample=function(e){return(Wa(e)?Jr:Xn)(e)},Fr.size=function(e){if(null==e)return 0;if($a(e))return cs(e)?dr(e):e.length;var t=mo(e);return t==R||t==A?e.size:jn(e).length},Fr.snakeCase=Hs,Fr.some=function(e,t,r){var n=Wa(e)?Bt:oi;return r&&_o(e,t,r)&&(t=i),n(e,uo(t,3))},Fr.sortedIndex=function(e,t){return ai(e,t)},Fr.sortedIndexBy=function(e,t,r){return si(e,t,uo(r,2))},Fr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ai(e,t);if(n<r&&Za(e[n],t))return n}return-1},Fr.sortedLastIndex=function(e,t){return ai(e,t,!0)},Fr.sortedLastIndexBy=function(e,t,r){return si(e,t,uo(r,2),!0)},Fr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ai(e,t,!0)-1;if(Za(e[r],t))return r}return-1},Fr.startCase=Ks,Fr.startsWith=function(e,t,r){return e=bs(e),r=null==r?0:cn(vs(r),0,e.length),t=fi(t),e.slice(r,r+t.length)==t},Fr.subtract=Rc,Fr.sum=function(e){return e&&e.length?Yt(e,ic):0},Fr.sumBy=function(e,t){return e&&e.length?Yt(e,uo(t,2)):0},Fr.template=function(e,t,r){var n=Fr.templateSettings;r&&_o(e,t,r)&&(t=i),e=bs(e),t=Ss({},t,n,Qi);var o,a,s=Ss({},t.imports,n.imports,Qi),c=Ls(s),u=er(s,c),f=0,l=t.interpolate||Se,p="__p += '",d=Ce((t.escape||Se).source+"|"+l.source+"|"+(l===ee?he:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),h="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(d,(function(t,r,n,i,s,c){return n||(n=i),p+=e.slice(f,c).replace(Ee,ar),r&&(o=!0,p+="' +\n__e("+r+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=c+t.length,t})),p+="';\n";var v=De.call(t,"variable")&&t.variable;if(v){if(pe.test(v))throw new xe("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(W,""):p).replace(G,"$1").replace($,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Qs((function(){return Re(c,h+"return "+p).apply(i,u)}));if(m.source=p,Ja(m))throw m;return m},Fr.times=function(e,t){if((e=vs(e))<1||e>h)return[];var r=m,n=br(e,m);t=uo(t),e-=m;for(var i=Jt(n,t);++r<e;)t(r);return i},Fr.toFinite=hs,Fr.toInteger=vs,Fr.toLength=ms,Fr.toLower=function(e){return bs(e).toLowerCase()},Fr.toNumber=gs,Fr.toSafeInteger=function(e){return e?cn(vs(e),-9007199254740991,h):0===e?e:0},Fr.toString=bs,Fr.toUpper=function(e){return bs(e).toUpperCase()},Fr.trim=function(e,t,r){if((e=bs(e))&&(r||t===i))return Xt(e);if(!e||!(t=fi(t)))return e;var n=hr(e),o=hr(t);return Si(n,rr(n,o),nr(n,o)+1).join("")},Fr.trimEnd=function(e,t,r){if((e=bs(e))&&(r||t===i))return e.slice(0,vr(e)+1);if(!e||!(t=fi(t)))return e;var n=hr(e);return Si(n,0,nr(n,hr(t))+1).join("")},Fr.trimStart=function(e,t,r){if((e=bs(e))&&(r||t===i))return e.replace(ae,"");if(!e||!(t=fi(t)))return e;var n=hr(e);return Si(n,rr(n,hr(t))).join("")},Fr.truncate=function(e,t){var r=30,n="...";if(ts(t)){var o="separator"in t?t.separator:o;r="length"in t?vs(t.length):r,n="omission"in t?fi(t.omission):n}var a=(e=bs(e)).length;if(sr(e)){var s=hr(e);a=s.length}if(r>=a)return e;var c=r-dr(n);if(c<1)return n;var u=s?Si(s,0,c).join(""):e.slice(0,c);if(o===i)return u+n;if(s&&(c+=u.length-c),as(o)){if(e.slice(c).search(o)){var f,l=u;for(o.global||(o=Ce(o.source,bs(ve.exec(o))+"g")),o.lastIndex=0;f=o.exec(l);)var p=f.index;u=u.slice(0,p===i?c:p)}}else if(e.indexOf(fi(o),c)!=c){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+n},Fr.unescape=function(e){return(e=bs(e))&&Y.test(e)?e.replace(H,mr):e},Fr.uniqueId=function(e){var t=++je;return bs(e)+t},Fr.upperCase=Ys,Fr.upperFirst=Js,Fr.each=ba,Fr.eachRight=wa,Fr.first=$o,cc(Fr,(Sc={},_n(Fr,(function(e,t){De.call(Fr.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),Fr.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fr[e].placeholder=Fr})),Ot(["drop","take"],(function(e,t){zr.prototype[e]=function(r){r=r===i?1:yr(vs(r),0);var n=this.__filtered__&&!t?new zr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,m),type:e+(n.__dir__<0?"Right":"")}),n},zr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;zr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ot(["head","last"],(function(e,t){var r="take"+(t?"Right":"");zr.prototype[e]=function(){return this[r](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");zr.prototype[e]=function(){return this.__filtered__?new zr(this):this[r](1)}})),zr.prototype.compact=function(){return this.filter(ic)},zr.prototype.find=function(e){return this.filter(e).head()},zr.prototype.findLast=function(e){return this.reverse().find(e)},zr.prototype.invokeMap=Jn((function(e,t){return"function"==typeof e?new zr(this):this.map((function(r){return In(r,e,t)}))})),zr.prototype.reject=function(e){return this.filter(Da(uo(e)))},zr.prototype.slice=function(e,t){e=vs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new zr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=vs(t))<0?r.dropRight(-t):r.take(t-e)),r)},zr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zr.prototype.toArray=function(){return this.take(m)},_n(zr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Fr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);o&&(Fr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,c=t instanceof zr,u=s[0],f=c||Wa(t),l=function(e){var t=o.apply(Fr,Dt([e],s));return n&&p?t[0]:t};f&&r&&"function"==typeof u&&1!=u.length&&(c=f=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,v=c&&!d;if(!a&&f){t=v?t:new zr(this);var m=e.apply(t,s);return m.__actions__.push({func:ha,args:[l],thisArg:i}),new qr(m,p)}return h&&v?e.apply(this,s):(m=this.thru(l),h?n?m.value()[0]:m.value():m)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Fr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Wa(i)?i:[],e)}return this[r]((function(r){return t.apply(Wa(r)?r:[],e)}))}})),_n(zr.prototype,(function(e,t){var r=Fr[t];if(r){var n=r.name+"";De.call(Ir,n)||(Ir[n]=[]),Ir[n].push({name:t,func:r})}})),Ir[Zi(i,2).name]=[{name:"wrapper",func:i}],zr.prototype.clone=function(){var e=new zr(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},zr.prototype.reverse=function(){if(this.__filtered__){var e=new zr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Wa(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=br(t,e+a);break;case"takeRight":e=yr(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=n?s:a-1,f=this.__iteratees__,l=f.length,p=0,d=br(c,this.__takeCount__);if(!r||!n&&i==c&&d==c)return vi(e,this.__actions__);var h=[];e:for(;c--&&p<d;){for(var v=-1,m=e[u+=t];++v<l;){var g=f[v],y=g.iteratee,b=g.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}h[p++]=m}return h},Fr.prototype.at=va,Fr.prototype.chain=function(){return da(this)},Fr.prototype.commit=function(){return new qr(this.value(),this.__chain__)},Fr.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Fr.prototype.plant=function(e){for(var t,r=this;r instanceof Vr;){var n=Fo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Fr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zr){var t=e;return this.__actions__.length&&(t=new zr(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:i}),new qr(t,this.__chain__)}return this.thru(ta)},Fr.prototype.toJSON=Fr.prototype.valueOf=Fr.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Fr.prototype.first=Fr.prototype.head,Xe&&(Fr.prototype[Xe]=function(){return this}),Fr}();vt._=gr,(n=function(){return gr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},88306:(e,t,r)=>{var n=r(83369),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},82492:(e,t,r)=>{var n=r(42980),i=r(21463)((function(e,t,r){n(e,t,r)}));e.exports=i},30236:(e,t,r)=>{var n=r(42980),i=r(21463)((function(e,t,r,i){n(e,t,r,i)}));e.exports=i},50308:e=>{e.exports=function(){}},7771:(e,t,r)=>{var n=r(55639);e.exports=function(){return n.Date.now()}},82723:(e,t,r)=>{var n=r(29932),i=r(85990),o=r(57406),a=r(71811),s=r(98363),c=r(60696),u=r(99021),f=r(46904),l=u((function(e,t){var r={};if(null==e)return r;var u=!1;t=n(t,(function(t){return t=a(t,e),u||(u=t.length>1),t})),s(e,f(e),r),u&&(r=i(r,7,c));for(var l=t.length;l--;)o(r,t[l]);return r}));e.exports=l},51463:(e,t,r)=>{var n=r(89567);e.exports=function(e){return n(2,e)}},53131:(e,t,r)=>{var n=r(5976),i=r(97727),o=r(20893),a=r(46460),s=n((function(e,t){var r=a(t,o(s));return i(e,32,void 0,t,r)}));s.placeholder={},e.exports=s},78718:(e,t,r)=>{var n=r(25970),i=r(99021)((function(e,t){return null==e?{}:n(e,t)}));e.exports=i},58613:(e,t,r)=>{var n=r(71811),i=r(23560),o=r(40327);e.exports=function(e,t,r){var a=-1,s=(t=n(t,e)).length;for(s||(s=1,e=void 0);++a<s;){var c=null==e?void 0:e[o(t[a])];void 0===c&&(a=s,c=r),e=i(c)?c.call(e):c}return e}},36968:(e,t,r)=>{var n=r(10611);e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},18601:(e,t,r)=>{var n=r(14841),i=1/0,o=17976931348623157e292;e.exports=function(e){return e?(e=n(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},40554:(e,t,r)=>{var n=r(18601);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},14841:(e,t,r)=>{var n=r(27561),i=r(13218),o=r(33448),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=c.test(e);return r||u.test(e)?f(e.slice(2),r?2:8):s.test(e)?a:+e}},59881:(e,t,r)=>{var n=r(98363),i=r(81704);e.exports=function(e){return n(e,i(e))}},79833:(e,t,r)=>{var n=r(80531);e.exports=function(e){return null==e?"":n(e)}},93386:(e,t,r)=>{var n=r(21078),i=r(5976),o=r(45652),a=r(29246),s=i((function(e){return o(n(e,1,a,!0))}));e.exports=s},73955:(e,t,r)=>{var n=r(79833),i=0;e.exports=function(e){var t=++i;return n(e)+t}},98601:(e,t,r)=>{var n=r(57406);e.exports=function(e,t){return null==e||n(e,t)}},52628:(e,t,r)=>{var n=r(47415),i=r(3674);e.exports=function(e){return null==e?[]:n(e,i(e))}},90359:(e,t,r)=>{var n=r(54290),i=r(53131);e.exports=function(e,t){return i(n(t),e)}},8111:(e,t,r)=>{var n=r(96425),i=r(7548),o=r(9435),a=r(1469),s=r(37005),c=r(21913),u=Object.prototype.hasOwnProperty;function f(e){if(s(e)&&!a(e)&&!(e instanceof n)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return c(e)}return new i(e)}f.prototype=o.prototype,f.prototype.constructor=f,e.exports=f},39593:(e,t,r)=>{"use strict";const n=r(34411),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),f=Symbol("noDisposeOnSet"),l=Symbol("lruList"),p=Symbol("cache"),d=Symbol("updateAgeOnGet"),h=()=>1;const v=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(m(e,t)){if(y(e,n),!e[s])return}else r&&(e[d]&&(n.value.now=Date.now()),e[l].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},g=e=>{if(e[o]>e[i])for(let t=e[l].tail;e[o]>e[i]&&null!==t;){const r=t.prev;y(e,t),t=r}},y=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[o]-=r.length,e[p].delete(r.key),e[l].removeNode(t)}};class b{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const w=(e,t,r,n)=>{let i=r.value;m(e,i)&&(y(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||h;if(this[a]="function"!=typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[f]=e.noDisposeOnSet||!1,this[d]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[a]&&(this[a]=e,this[o]=0,this[l].forEach((e=>{e.length=this[a](e.value,e.key),this[o]+=e.length}))),g(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[l].length}rforEach(e,t){t=t||this;for(let r=this[l].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[l].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[l].toArray().map((e=>e.key))}values(){return this[l].toArray().map((e=>e.value))}reset(){this[u]&&this[l]&&this[l].length&&this[l].forEach((e=>this[u](e.key,e.value))),this[p]=new Map,this[l]=new n,this[o]=0}dump(){return this[l].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[l]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](t,e);if(this[p].has(e)){if(s>this[i])return y(this,this[p].get(e)),!1;const a=this[p].get(e).value;return this[u]&&(this[f]||this[u](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),g(this),!0}const d=new b(e,t,s,n,r);return d.length>this[i]?(this[u]&&this[u](e,t),!1):(this[o]+=d.length,this[l].unshift(d),this[p].set(e,this[l].head),g(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[l].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach(((e,t)=>v(this,t,!1)))}}},57824:e=>{var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i,a=365.25*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,c){c=c||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return c.long?function(e){var o=Math.abs(e);if(o>=i)return s(e,o,i,"day");if(o>=n)return s(e,o,n,"hour");if(o>=r)return s(e,o,r,"minute");if(o>=t)return s(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=n)return Math.round(e/n)+"h";if(o>=r)return Math.round(e/r)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},70631:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,f=s&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,v=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,x=Array.prototype.join,R=Array.prototype.slice,T=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,I="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A||"symbol")?Symbol.toStringTag:null,L=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-T(-e):T(e);if(n!==e){var i=String(n),o=y.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var N=r(24654),D=N.custom,j=V(D)?D:null;function U(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function B(e){return b.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==W(e)||I&&"object"==typeof e&&I in e)}function Z(e){return!("[object RegExp]"!==W(e)||I&&"object"==typeof e&&I in e)}function V(e){if(A)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,i){var s=r||{};if(z(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!z(s,"customInspect")||s.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return $(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return v?M(t,w):w}if("bigint"==typeof t){var S=String(t)+"n";return v?M(t,S):S}var T=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=T&&T>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var C=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=x.call(Array(e.indent+1)," ")}return{base:r,prev:x.call(Array(t+1),r)}}(s,n);if(void 0===i)i=[];else if(G(i,t)>=0)return"[Circular]";function D(t,r,o){if(r&&(i=R.call(i)).push(r),o){var a={depth:s.depth};return z(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,n+1,i)}return e(t,s,n+1,i)}if("function"==typeof t&&!Z(t)){var q=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),H=Q(t,D);return"[Function"+(q?": "+q:" (anonymous)")+"]"+(H.length>0?" { "+x.call(H,", ")+" }":"")}if(V(t)){var ee=A?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!=typeof t||A?ee:K(ee)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var te="<"+_.call(String(t.nodeName)),re=t.attributes||[],ne=0;ne<re.length;ne++)te+=" "+re[ne].name+"="+U(B(re[ne].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+_.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var ie=Q(t,D);return C&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(ie)?"["+X(ie,C)+"]":"[ "+x.call(ie,", ")+" ]"}if(function(e){return!("[object Error]"!==W(e)||I&&"object"==typeof e&&I in e)}(t)){var oe=Q(t,D);return"cause"in Error.prototype||!("cause"in t)||L.call(t,"cause")?0===oe.length?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(oe,", ")+" }":"{ ["+String(t)+"] "+x.call(E.call("[cause]: "+D(t.cause),oe),", ")+" }"}if("object"==typeof t&&c){if(j&&"function"==typeof t[j]&&N)return N(t,{depth:T-n});if("symbol"!==c&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return a&&a.call(t,(function(e,r){ae.push(D(r,t,!0)+" => "+D(e,t))})),J("Map",o.call(t),ae,C)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var se=[];return f&&f.call(t,(function(e){se.push(D(e,t))})),J("Set",u.call(t),se,C)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e,l);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{l.call(e,l)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{return d.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if(function(e){return!("[object Number]"!==W(e)||I&&"object"==typeof e&&I in e)}(t))return K(D(Number(t)));if(function(e){if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}(t))return K(D(k.call(t)));if(function(e){return!("[object Boolean]"!==W(e)||I&&"object"==typeof e&&I in e)}(t))return K(h.call(t));if(function(e){return!("[object String]"!==W(e)||I&&"object"==typeof e&&I in e)}(t))return K(D(String(t)));if(!function(e){return!("[object Date]"!==W(e)||I&&"object"==typeof e&&I in e)}(t)&&!Z(t)){var ce=Q(t,D),ue=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",le=!ue&&I&&Object(t)===t&&I in t?y.call(W(t),8,-1):fe?"Object":"",pe=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(le||fe?"["+x.call(E.call([],le||[],fe||[]),": ")+"] ":"");return 0===ce.length?pe+"{}":C?pe+"{"+X(ce,C)+"}":pe+"{ "+x.call(ce,", ")+" }"}return String(t)};var q=Object.prototype.hasOwnProperty||function(e){return e in this};function z(e,t){return q.call(e,t)}function W(e){return v.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function $(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return $(y.call(e,0,t.maxStringLength),t)+n}return U(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,H),"single",t)}function H(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function K(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function J(e,t,r,n){return e+" ("+t+") {"+(n?X(r,n):x.call(r,", "))+"}"}function X(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+x.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=z(e,i)?t(e[i],e):""}var o,a="function"==typeof C?C(e):[];if(A){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in e)z(e,c)&&(r&&String(Number(c))===c&&c<e.length||A&&o["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof C)for(var u=0;u<a.length;u++)L.call(e,a[u])&&n.push("["+t(a[u])+"]: "+t(e[a[u]],e));return n}},24753:(e,t,r)=>{e.exports=r(24753)},4947:e=>{var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var r,n={},i=t(e).split("\n"),o=0;o<i.length;o++){var a=i[o],s=a.indexOf(":"),c=t(a.slice(0,s)).toLowerCase(),u=t(a.slice(s+1));void 0===n[c]?n[c]=u:(r=n[c],"[object Array]"===Object.prototype.toString.call(r)?n[c].push(u):n[c]=[n[c],u])}return n}},28985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;t.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}},37279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=r},56654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;const n=r(37279),i=r(28985);var o=r(37279);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}});t.StreamReader=class{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new n.EndOfStreamError))),this.s.once("error",(e=>this.reject(e))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(e,t,r){const n=await this.read(e,t,r);return this.peekQueue.push(e.subarray(t,t+n)),n}async read(e,t,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new n.EndOfStreamError;let i=r,o=0;for(;this.peekQueue.length>0&&i>0;){const r=this.peekQueue.pop();if(!r)throw new Error("peekData should be defined");const n=Math.min(r.length,i);e.set(r.subarray(0,n),t+o),o+=n,i-=n,n<r.length&&this.peekQueue.push(r.subarray(n))}for(;i>0&&!this.endOfStream;){const r=Math.min(i,1048576),n=await this.readFromStream(e,t+o,r);if(o+=n,n<r)break;i-=n}return o}async readFromStream(e,t,r){const n=this.s.read(r);if(n)return e.set(n,t),n.length;{const n={buffer:e,offset:t,length:r,deferred:new i.Deferred};return this.deferred=n.deferred,this.s.once("readable",(()=>{this.readDeferred(n)})),n.deferred.promise}}readDeferred(e){const t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(e)}))}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}},55167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var n=r(37279);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});var i=r(56654);Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return i.StreamReader}})},31795:function(e,t,r){var n;e=r.nmd(e),function(){"use strict";var i={function:!0,object:!0},o=i[typeof window]&&window||this,a=i[typeof t]&&t,s=i.object&&e&&!e.nodeType&&e,c=a&&s&&"object"==typeof r.g&&r.g;!c||c.global!==c&&c.window!==c&&c.self!==c||(o=c);var u=Math.pow(2,53)-1,f=/\bOpera/,l=Object.prototype,p=l.hasOwnProperty,d=l.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function v(e){return e=w(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function m(e,t){for(var r in e)p.call(e,r)&&t(e[r],r,e)}function g(e){return null==e?h(e):d.call(e).slice(8,-1)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var r=null;return function(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=u)for(;++r<n;)t(e[r],r,e);else m(e,t)}(e,(function(n,i){r=t(r,n,i,e)})),r}function w(e){return String(e).replace(/^ +| +$/g,"")}var _=function e(t){var r=o,n=t&&"object"==typeof t&&"String"!=g(t);n&&(r=t,t=null);var i=r.navigator||{},a=i.userAgent||"";t||(t=a);var s,c,u,l,p,h=n?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(d.toString()),_="Object",S=n?_:"ScriptBridgingProxyObject",E=n?_:"Environment",x=n&&r.java?"JavaPackage":g(r.java),R=n?_:"RuntimeObject",T=/\bJava/.test(x)&&r.java,k=T&&g(r.environment)==E,C=T?"a":"α",O=T?"b":"β",A=r.document||{},I=r.operamini||r.opera,L=f.test(L=n&&I?I["[[Class]]"]:g(I))?L:I=null,P=t,M=[],N=null,D=t==a,j=D&&I&&"function"==typeof I.version&&I.version(),U=b([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,r){return e||RegExp("\\b"+(r.pattern||y(r))+"\\b","i").exec(t)&&(r.label||r)})),B=function(e){return b(e,(function(e,r){return e||RegExp("\\b"+(r.pattern||y(r))+"\\b","i").exec(t)&&(r.label||r)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),F=q([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),Z=function(e){return b(e,(function(e,r,n){return e||(r[F]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+y(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),V=function(e){return b(e,(function(e,r){var n=r.pattern||y(r);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),v(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,r.label||r)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function q(e){return b(e,(function(e,r){var n=r.pattern||y(r);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),r=r.label||r,e=v(e[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function z(e){return b(e,(function(e,r){return e||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(U&&(U=[U]),/\bAndroid\b/.test(V)&&!F&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(F=w(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),Z&&!F?F=q([Z]):Z&&F&&(F=F.replace(RegExp("^("+y(Z)+")[-_.\\s]","i"),Z+" ").replace(RegExp("^("+y(Z)+")[-_.]?(\\w)","i"),Z+" $2")),(s=/\bGoogle TV\b/.exec(F))&&(F=s[0]),/\bSimulator\b/i.test(t)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==B&&/\bOPiOS\b/.test(t)&&M.push("running in Turbo/Uncompressed mode"),"IE"==B&&/\blike iPhone OS\b/.test(t)?(Z=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,F=s.product):/^iP/.test(F)?(B||(B="Safari"),V="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==B&&/^Linux\b/i.test(V)?V="Kubuntu":Z&&"Google"!=Z&&(/Chrome/.test(B)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(F))||/\bAndroid\b/.test(V)&&/^Chrome/.test(B)&&/\bVersion\//i.test(t)?(B="Android Browser",V=/\bAndroid\b/.test(V)?V:"Android"):"Silk"==B?(/\bMobi/i.test(t)||(V="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&M.unshift("accelerated")):"UC Browser"==B&&/\bUCWEB\b/.test(t)?M.push("speed mode"):"PaleMoon"==B&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?M.push("identifying as Firefox "+s[1]):"Firefox"==B&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(V||(V="Firefox OS"),F||(F=s[1])):!B||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(B))?(B&&!F&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(B=null),(s=F||Z||V)&&(F||Z||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(V))&&(B=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(V)?V:s)+" Browser")):"Electron"==B&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&M.push("Chromium "+s),j||(j=z(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(B),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==U&&parseFloat(j)>3?"WebKit":/\bOpera\b/.test(B)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(U)&&"WebKit"||!U&&/\bMSIE\b/i.test(t)&&("Mac OS"==V?"Tasman":"Trident")||"WebKit"==U&&/\bPlayStation\b(?! Vita\b)/i.test(B)&&"NetFront")&&(U=[s]),"IE"==B&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(B+=" Mobile",V="Windows Phone "+(/\+$/.test(s)?s:s+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(B="IE Mobile",V="Windows Phone 8.x",M.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=B&&"Trident"==U&&(s=/\brv:([\d.]+)/.exec(t))&&(B&&M.push("identifying as "+B+(j?" "+j:"")),B="IE",j=s[1]),D){if(l="global",p=null!=(u=r)?typeof u[l]:"number",/^(?:boolean|number|string|undefined)$/.test(p)||"object"==p&&!u[l])g(s=r.runtime)==S?(B="Adobe AIR",V=s.flash.system.Capabilities.os):g(s=r.phantom)==R?(B="PhantomJS",j=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof A.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(j=[j,A.documentMode],(s=+s[1]+4)!=j[1]&&(M.push("IE "+j[1]+" mode"),U&&(U[1]=""),j[1]=s),j="IE"==B?String(j[1].toFixed(1)):j[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(B)&&(M.push("masking as "+B+" "+j),B="IE",j="11.0",U=["Trident"],V="Windows");else if(T&&(P=(s=T.lang.System).getProperty("os.arch"),V=V||s.getProperty("os.name")+" "+s.getProperty("os.version")),k){try{j=r.require("ringo/engine").version.join("."),B="RingoJS"}catch(e){(s=r.system)&&s.global.system==r.system&&(B="Narwhal",V||(V=s[0].os||null))}B||(B="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(s=r.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(M.push("Node "+s.versions.node),B="Electron",j=s.versions.electron):"string"==typeof s.versions.nw&&(M.push("Chromium "+j,"Node "+s.versions.node),B="NW.js",j=s.versions.nw)),B||(B="Node.js",P=s.arch,V=s.platform,j=(j=/[\d.]+/.exec(s.version))?j[0]:null));V=V&&v(V)}if(j&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(D&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(N=/b/i.test(s)?"beta":"alpha",j=j.replace(RegExp(s+"\\+?$"),"")+("beta"==N?O:C)+(/\d+\+?/.exec(s)||"")),"Fennec"==B||"Firefox"==B&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(V))B="Firefox Mobile";else if("Maxthon"==B&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(V=null),"Xbox 360"==F&&/\bIEMobile\b/.test(t)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(B)&&(!B||F||/Browser|Mobi/.test(B))||"Windows CE"!=V&&!/Mobi/i.test(t))if("IE"==B&&D)try{null===r.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(t))&&(s=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||j)?(V=((s=[s,/BB10/.test(t)])[1]?(F=null,Z="BlackBerry"):"Device Software")+" "+s[0],j=null):this!=m&&"Wii"!=F&&(D&&I||/Opera/.test(B)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==B&&/\bOS X (?:\d+\.){2,}/.test(V)||"IE"==B&&(V&&!/^Win/.test(V)&&j>5.5||/\bWindows XP\b/.test(V)&&j>8||8==j&&!/\bTrident\b/.test(t)))&&!f.test(s=e.call(m,t.replace(f,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),f.test(B)?(/\bIE\b/.test(s)&&"Mac OS"==V&&(V=null),s="identify"+s):(s="mask"+s,B=L?v(L.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(V=null),D||(j=null)),U=["Presto"],M.push(s));else B+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==B&&"+"==s[1].slice(-1)?(B="WebKit Nightly",N="alpha",j=s[1].slice(0,-1)):j!=s[1]&&j!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(j=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==U&&(U=["Blink"]),D&&(h||s[1])?(U&&(U[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=U?"27":"28")):(U&&(U[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),U&&(U[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==B&&(!j||parseInt(j)>45)?j=s:"Chrome"==B&&/\bHeadlessChrome/i.test(t)&&M.unshift("headless")),"Opera"==B&&(s=/\bzbov|zvav$/.exec(V))?(B+=" ",M.unshift("desktop mode"),"zvav"==s?(B+="Mini",j=null):B+="Mobile",V=V.replace(RegExp(" *"+s+"$"),"")):"Safari"==B&&/\bChrome\b/.exec(U&&U[1])?(M.unshift("desktop mode"),B="Chrome Mobile",j=null,/\bOS X\b/.test(V)?(Z="Apple",V="iOS 4.3+"):V=null):/\bSRWare Iron\b/.test(B)&&!j&&(j=z("Chrome")),j&&0==j.indexOf(s=/[\d.]+$/.exec(V))&&t.indexOf("/"+s+"-")>-1&&(V=w(V.replace(s,""))),V&&-1!=V.indexOf(B)&&!RegExp(B+" OS").test(V)&&(V=V.replace(RegExp(" *"+y(B)+" *"),"")),U&&!/\b(?:Avant|Nook)\b/.test(B)&&(/Browser|Lunascape|Maxthon/.test(B)||"Safari"!=B&&/^iOS/.test(V)&&/\bSafari\b/.test(U[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(B)&&U[1])&&(s=U[U.length-1])&&M.push(s),M.length&&(M=["("+M.join("; ")+")"]),Z&&F&&F.indexOf(Z)<0&&M.push("on "+Z),F&&M.push((/^on /.test(M[M.length-1])?"":"on ")+F),V&&(s=/ ([\d.+]+)$/.exec(V),c=s&&"/"==V.charAt(V.length-s[0].length-1),V={architecture:32,family:s&&!c?V.replace(s[0],""):V,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!c?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P))&&!/\bi686\b/i.test(P)?(V&&(V.architecture=64,V.family=V.family.replace(RegExp(" *"+s),"")),B&&(/\bWOW64\b/i.test(t)||D&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&M.unshift("32-bit")):V&&/^OS X/.test(V.family)&&"Chrome"==B&&parseFloat(j)>=39&&(V.architecture=64),t||(t=null);var W={};return W.description=t,W.layout=U&&U[0],W.manufacturer=Z,W.name=B,W.prerelease=N,W.product=F,W.ua=t,W.version=B&&j,W.os=V||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=e,W.toString=function(){return this.description||""},W.version&&M.unshift(j),W.name&&M.unshift(B),V&&B&&(V!=String(V).split(" ")[0]||V!=B.split(" ")[0]&&!F)&&M.push(F?"("+V+")":"on "+V),M.length&&(W.description=M.join(" ")),W}();o.platform=_,void 0===(n=function(){return _}.call(t,r,t,e))||(e.exports=n)}.call(this)},3814:(e,t,r)=>{e.exports=r(91361)},91361:(e,t,r)=>{var n=r(89539),i=e.exports=r(73984);function o(e,t,r,i){r=r||"";var o=new e(n.format.apply(this,[r].concat(i)));throw Error.captureStackTrace(o,t),o}function a(e,t,r){o(i.IllegalArgumentError,e,t,r)}function s(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function c(e){return function(t,r){var n=s(t);if(n==e)return t;a(arguments.callee,r||'Expected "'+e+'" but got "'+n+'".',Array.prototype.slice.call(arguments,2))}}e.exports.checkArgument=function(e,t){e||a(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkState=function(e,t){e||function(e,t,r){o(i.IllegalStateError,e,t,r)}(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkIsDef=function(e,t){if(void 0!==e)return e;a(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},e.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;a(arguments.callee,t||'Expected value to be defined and not null but got "'+s(e)+'".',Array.prototype.slice.call(arguments,2))},e.exports.checkIsString=c("string"),e.exports.checkIsArray=c("array"),e.exports.checkIsNumber=c("number"),e.exports.checkIsBoolean=c("boolean"),e.exports.checkIsFunction=c("function"),e.exports.checkIsObject=c("object")},73984:(e,t,r)=>{var n=r(89539);function i(e){Error.call(this,e),this.message=e}function o(e){Error.call(this,e),this.message=e}n.inherits(i,Error),i.prototype.name="IllegalArgumentError",n.inherits(o,Error),o.prototype.name="IllegalStateError",e.exports.IllegalStateError=o,e.exports.IllegalArgumentError=i},34155:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],u=!1,f=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!u){var e=a(l);u=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},55798:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:n,RFC3986:i}},80129:(e,t,r)=>{"use strict";var n=r(58261),i=r(55235),o=r(55798);e.exports={formats:o,parse:i,stringify:n}},55235:(e,t,r)=>{"use strict";var n=r(12769),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,f=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;f.push(u)}for(var l=0;r.depth>0&&null!==(s=a.exec(o))&&l<r.depth;){if(l+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(s[1])}return s&&f.push("["+o.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:c(t,r),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,f=parseInt(u,10);r.parseArrays||""!==u?!isNaN(f)&&s!==u&&String(f)===u&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(a=[])[f]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(f,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var f="string"==typeof e?function(e,t){var r,u={__proto__:null},f=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,p=f.split(t.delimiter,l),d=-1,h=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?h="utf-8":"utf8=%26%2310003%3B"===p[r]&&(h="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var v,m,g=p[r],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(v=t.decoder(g,a.decoder,h,"key"),m=t.strictNullHandling?null:""):(v=t.decoder(g.slice(0,b),a.decoder,h,"key"),m=n.maybeMap(c(g.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===h&&(m=s(m)),g.indexOf("[]=")>-1&&(m=o(m)?[m]:m),i.call(u,v)?u[v]=n.combine(u[v],m):u[v]=m}return u}(e,r):e,l=r.plainObjects?Object.create(null):{},p=Object.keys(f),d=0;d<p.length;++d){var h=p[d],v=u(h,f[h],r,"string"==typeof e);l=n.merge(l,v,r)}return!0===r.allowSparse?l:n.compact(l)}},58261:(e,t,r)=>{"use strict";var n=r(37478),i=r(12769),o=r(55798),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=Array.prototype.push,f=function(e,t){u.apply(e,c(t)?t:[t])},l=Date.prototype.toISOString,p=o.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},h={},v=function e(t,r,o,a,s,u,l,p,v,m,g,y,b,w,_,S){for(var E,x=t,R=S,T=0,k=!1;void 0!==(R=R.get(h))&&!k;){var C=R.get(t);if(T+=1,void 0!==C){if(C===T)throw new RangeError("Cyclic object value");k=!0}void 0===R.get(h)&&(T=0)}if("function"==typeof p?x=p(r,x):x instanceof Date?x=g(x):"comma"===o&&c(x)&&(x=i.maybeMap(x,(function(e){return e instanceof Date?g(e):e}))),null===x){if(s)return l&&!w?l(r,d.encoder,_,"key",y):r;x=""}if("string"==typeof(E=x)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||i.isBuffer(x))return l?[b(w?r:l(r,d.encoder,_,"key",y))+"="+b(l(x,d.encoder,_,"value",y))]:[b(r)+"="+b(String(x))];var O,A=[];if(void 0===x)return A;if("comma"===o&&c(x))w&&l&&(x=i.maybeMap(x,l)),O=[{value:x.length>0?x.join(",")||null:void 0}];else if(c(p))O=p;else{var I=Object.keys(x);O=v?I.sort(v):I}for(var L=a&&c(x)&&1===x.length?r+"[]":r,P=0;P<O.length;++P){var M=O[P],N="object"==typeof M&&void 0!==M.value?M.value:x[M];if(!u||null!==N){var D=c(x)?"function"==typeof o?o(L,M):L:L+(m?"."+M:"["+M+"]");S.set(t,T);var j=n();j.set(h,S),f(A,e(N,D,o,a,s,u,"comma"===o&&w&&c(x)?null:l,p,v,m,g,y,b,w,_,j))}}return A};e.exports=function(e,t){var r,i=e,u=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],i=d.filter;return("function"==typeof e.filter||c(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"==typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(r=u.filter);var l,p=[];if("object"!=typeof i||null===i)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[l];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m="comma"===h&&t&&t.commaRoundTrip;r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var g=n(),y=0;y<r.length;++y){var b=r[y];u.skipNulls&&null===i[b]||f(p,v(i[b],b,h,m,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,g))}var w=p.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),w.length>0?_+w:""}},12769:(e,t,r)=>{"use strict";var n=r(55798),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],f=a[u];"object"==typeof f&&null!==f&&-1===r.indexOf(f)&&(t.push({obj:a,prop:u}),r.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var f=s.charCodeAt(u);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||o===n.RFC1738&&(40===f||41===f)?c+=s.charAt(u):f<128?c+=a[f]:f<2048?c+=a[192|f>>6]+a[128|63&f]:f<55296||f>=57344?c+=a[224|f>>12]+a[128|f>>6&63]+a[128|63&f]:(u+=1,f=65536+((1023&f)<<10|1023&s.charCodeAt(u)),c+=a[240|f>>18]+a[128|f>>12&63]+a[128|f>>6&63]+a[128|63&f])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return o(t)&&!o(r)&&(a=s(t,n)),o(t)&&o(r)?(r.forEach((function(r,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&r&&"object"==typeof r?t[o]=e(a,r,n):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var a=r[o];return i.call(t,o)?t[o]=e(t[o],a,n):t[o]=a,t}),a)}}},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var f,l,p,d,h=e[u].replace(a,"%20"),v=h.indexOf(n);v>=0?(f=h.substr(0,v),l=h.substr(v+1)):(f=h,l=""),p=decodeURIComponent(f),d=decodeURIComponent(l),t(o,p)?Array.isArray(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(r):o+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},17673:(e,t,r)=>{"use strict";t.decode=t.parse=r(62587),t.encode=t.stringify=r(12361)},94281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s;if("string"==typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return s+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56753:(e,t,r)=>{"use strict";var n=r(34155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(79481),a=r(64229);r(35717)(f,o);for(var s=i(a.prototype),c=0;c<s.length;c++){var u=s[c];f.prototype[u]||(f.prototype[u]=a.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:(e,t,r)=>{"use strict";e.exports=i;var n=r(74605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(35717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},79481:(e,t,r)=>{"use strict";var n,i=r(34155);e.exports=R,R.ReadableState=x;r(17187).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=r(22503),s=r(48764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,f=r(94616);u=f&&f.debuglog?f.debuglog("stream"):function(){};var l,p,d,h=r(57327),v=r(61195),m=r(82457).getHighWaterMark,g=r(94281).q,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(R,a);var S=v.errorOrDestroy,E=["error","close","destroy","pause","resume"];function x(e,t,i){n=n||r(56753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(32553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function R(e){if(n=n||r(56753),!(this instanceof R))return new R(e);var t=this instanceof n;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function T(e,t,r,n,i){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}(e,a);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)a.endEmitted?S(e,new _):k(e,a,t,!0);else if(a.ended)S(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?k(e,a,t,!1):L(e,a)):k(e,a,t,!1)}else n||(a.reading=!1,L(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),L(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=v.destroy,R.prototype._undestroy=v.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},R.prototype.unshift=function(e){return T(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){l||(l=r(32553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(I,e))}function I(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function L(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){u("readable nexttick read 0"),e.read(0)}function D(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):A(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(r,t))),null===(n=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){S(this,new w("_read()"))},R.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,u("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:m;function s(t,i){u("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",h),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",d),e.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function c(){u("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",s);var f=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",f);var l=!1;function p(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==Z(n.pipes,e))&&!l&&(u("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){u("onerror",t),m(),e.removeListener("error",d),0===o(e,"error")&&S(e,t)}function h(){e.removeListener("finish",v),m()}function v(){u("onfinish"),e.removeListener("close",h),m()}function m(){u("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",v),e.emit("pipe",r),n.flowing||(u("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,u("on readable",n.length,n.reading),n.length?A(this):n.reading||i.nextTick(N,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(M,this),r},R.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(M,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(D,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=r(45850)),p(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=U,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===d&&(d=r(15167)),d(R,e,t)})},74605:(e,t,r)=>{"use strict";e.exports=f;var n=r(94281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(56753);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,r){p(e,t,r)}))}function p(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(35717)(f,c),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},64229:(e,t,r)=>{"use strict";var n,i=r(34155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=R,R.WritableState=x;var a={deprecate:r(94927)},s=r(22503),c=r(48764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var f,l=r(61195),p=r(82457).getHighWaterMark,d=r(94281).q,h=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;function E(){}function x(e,t,a){n=n||r(56753),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(I,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),I(e,t))}(e,r,n,t,o);else{var a=O(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||C(e,r),n?i.nextTick(k,e,r,a,o):k(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(e){var t=this instanceof(n=n||r(56753));if(!t&&!f.call(R,this))return new R(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function T(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function C(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,T(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,l=r.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=O(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(35717)(R,s),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===R&&(e&&e._writableState instanceof x)}})):f=function(e){return e instanceof this},R.prototype.pipe=function(){S(this,new g)},R.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new b:"string"==typeof r||t.objectMode||(o=new h("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||C(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,r){r(new v("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=l.destroy,R.prototype._undestroy=l.undestroy,R.prototype._destroy=function(e,t){t(e)}},45850:(e,t,r)=>{"use strict";var n,i=r(34155);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(8610),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function v(e){var t=e[s];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[s]=null,e[c]=null,t(h(r,!1)))}}function m(e){i.nextTick(v,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[u]?r(e[u]):t(h(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[f]?r(h(void 0,!0)):t[p](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[p])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(y,(o(t={},d,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,f,{value:e._readableState.endEmitted,writable:!0}),o(t,p,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[s]=null,r[c]=null,e(h(n,!1))):(r[s]=e,r[c]=t)},writable:!0}),t));return r[l]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[l]=null,r[s]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[c]=null,n(h(void 0,!0))),r[f]=!0})),e.on("readable",m.bind(null,r)),r}},57327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=r(48764).Buffer,u=r(52361).inspect,f=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,c.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:f,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},61195:(e,t,r)=>{"use strict";var n=r(34155);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(94281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||f()},u=t._writableState&&t._writableState.finished,f=function(){s=!1,u=!0,a||o.call(t)},l=t._readableState&&t._readableState.endEmitted,p=function(){a=!1,l=!0,s||o.call(t)},d=function(e){o.call(t,e)},h=function(){var e;return a&&!l?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},v=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",f),t.on("abort",h),t.req?v():t.on("request",v)),t.on("end",p),t.on("finish",f),!1!==r.error&&t.on("error",d),t.on("close",h),function(){t.removeListener("complete",f),t.removeListener("abort",h),t.removeListener("request",v),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",d),t.removeListener("close",h)}}},15167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},59946:(e,t,r)=>{"use strict";var n;var i=r(94281).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var f,l=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var p=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,i>0,(function(e){f||(f=e),e&&p.forEach(c),o||(p.forEach(c),l(f))}))}));return t.reduce(u)}},82457:(e,t,r)=>{"use strict";var n=r(94281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},22503:(e,t,r)=>{e.exports=r(17187).EventEmitter},89509:(e,t,r)=>{var n=r(48764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},22257:(e,t,r)=>{const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new f(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new l(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new l(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||o&&a||s||u}}e.exports=i;const o=r(12893),{re:a,t:s}=r(55765),c=r(7539),u=r(74225),f=r(26376),l=r(66902)},66902:(e,t,r)=>{class n{constructor(e,t){if(t=o(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!h(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=i.get(t);if(r)return r;const n=this.options.loose,o=n?u[f.HYPHENRANGELOOSE]:u[f.HYPHENRANGE];e=e.replace(o,k(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(u[f.COMPARATORTRIM],l),s("comparator trim",e);let c=(e=(e=(e=e.replace(u[f.TILDETRIM],p)).replace(u[f.CARETTRIM],d)).split(/\s+/).join(" ")).split(" ").map((e=>g(e,this.options))).join(" ").split(/\s+/).map((e=>T(e,this.options)));n&&(c=c.filter((e=>(s("loose invalid filter",e,this.options),!!e.match(u[f.COMPARATORLOOSE]))))),s("range list",c);const v=new Map,m=c.map((e=>new a(e,this.options)));for(const e of m){if(h(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");const y=[...v.values()];return i.set(t,y),y}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>m(r,t)&&e.set.some((e=>m(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(C(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const i=new(r(39593))({max:1e3}),o=r(12893),a=r(22257),s=r(74225),c=r(26376),{re:u,t:f,comparatorTrimReplace:l,tildeTrimReplace:p,caretTrimReplace:d}=r(55765),h=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,m=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},g=(e,t)=>(s("comp",e,t),e=_(e,t),s("caret",e),e=b(e,t),s("tildes",e),e=E(e,t),s("xrange",e),e=R(e,t),s("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const r=t.loose?u[f.TILDELOOSE]:u[f.TILDE];return e.replace(r,((t,r,n,i,o)=>{let a;return s("tilde",e,t,r,n,i,o),y(r)?a="":y(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:y(i)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(s("replaceTilde pr",o),a=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,s("tilde return",a),a}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{s("caret",e,t);const r=t.loose?u[f.CARETLOOSE]:u[f.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,o,a)=>{let c;return s("caret",e,t,r,i,o,a),y(r)?c="":y(i)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:y(o)?c="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:a?(s("replaceCaret pr",a),c="0"===r?"0"===i?`>=${r}.${i}.${o}-${a} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${a} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${a} <${+r+1}.0.0-0`):(s("no pr"),c="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),s("caret return",c),c}))},E=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>x(e,t))).join(" ")),x=(e,t)=>{e=e.trim();const r=t.loose?u[f.XRANGELOOSE]:u[f.XRANGE];return e.replace(r,((r,n,i,o,a,c)=>{s("xRange",e,r,n,i,o,a,c);const u=y(i),f=u||y(o),l=f||y(a),p=l;return"="===n&&p&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(f&&(o=0),a=0,">"===n?(n=">=",f?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===n&&(n="<",f?i=+i+1:o=+o+1),"<"===n&&(c="-0"),r=`${n+i}.${o}.${a}${c}`):f?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:l&&(r=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),s("xRange return",r),r}))},R=(e,t)=>(s("replaceStars",e,t),e.trim().replace(u[f.STAR],"")),T=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?f.GTE0PRE:f.GTE0],"")),k=e=>(t,r,n,i,o,a,s,c,u,f,l,p,d)=>`${r=y(n)?"":y(i)?`>=${n}.0.0${e?"-0":""}`:y(o)?`>=${n}.${i}.0${e?"-0":""}`:a?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=y(u)?"":y(f)?`<${+u+1}.0.0-0`:y(l)?`<${u}.${+f+1}.0-0`:p?`<=${u}.${f}.${l}-${p}`:e?`<${u}.${f}.${+l+1}-0`:`<=${c}`}`.trim(),C=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(s(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},26376:(e,t,r)=>{const n=r(74225),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(83295),{re:a,t:s}=r(55765),c=r(12893),{compareIdentifiers:u}=r(86742);class f{constructor(e,t){if(t=c(t),e instanceof f){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof f)){if("string"==typeof e&&e===this.version)return 0;e=new f(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof f||(e=new f(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++t)}compareBuild(e){e instanceof f||(e=new f(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=f},13507:(e,t,r)=>{const n=r(33959);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},7539:(e,t,r)=>{const n=r(58718),i=r(81194),o=r(71312),a=r(25903),s=r(21544),c=r(12056);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return i(e,r,u);case">":return o(e,r,u);case">=":return a(e,r,u);case"<":return s(e,r,u);case"<=":return c(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},99038:(e,t,r)=>{const n=r(26376),i=r(33959),{re:o,t:a}=r(55765);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=o[a.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),o[a.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[a.COERCERTL].lastIndex=-1}else r=e.match(o[a.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},88880:(e,t,r)=>{const n=r(26376);e.exports=(e,t,r)=>{const i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},27880:(e,t,r)=>{const n=r(46269);e.exports=(e,t)=>n(e,t,!0)},46269:(e,t,r)=>{const n=r(26376);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},62378:(e,t,r)=>{const n=r(33959),i=r(58718);e.exports=(e,t)=>{if(i(e,t))return null;{const r=n(e),i=n(t),o=r.prerelease.length||i.prerelease.length,a=o?"pre":"",s=o?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==i[e])return a+e;return s}}},58718:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>0===n(e,t,r)},71312:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)>0},25903:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)>=0},20253:(e,t,r)=>{const n=r(26376);e.exports=(e,t,r,i)=>{"string"==typeof r&&(i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i).version}catch(e){return null}}},21544:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)<0},12056:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)<=0},38679:(e,t,r)=>{const n=r(26376);e.exports=(e,t)=>new n(e,t).major},87789:(e,t,r)=>{const n=r(26376);e.exports=(e,t)=>new n(e,t).minor},81194:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>0!==n(e,t,r)},33959:(e,t,r)=>{const{MAX_LENGTH:n}=r(83295),{re:i,t:o}=r(55765),a=r(26376),s=r(12893);e.exports=(e,t)=>{if(t=s(t),e instanceof a)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new a(e,t)}catch(e){return null}}},52358:(e,t,r)=>{const n=r(26376);e.exports=(e,t)=>new n(e,t).patch},57559:(e,t,r)=>{const n=r(33959);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},79795:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(t,e,r)},63657:(e,t,r)=>{const n=r(88880);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},45712:(e,t,r)=>{const n=r(66902);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},21100:(e,t,r)=>{const n=r(88880);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},76397:(e,t,r)=>{const n=r(33959);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},81249:(e,t,r)=>{const n=r(55765),i=r(83295),o=r(26376),a=r(86742),s=r(33959),c=r(76397),u=r(13507),f=r(20253),l=r(62378),p=r(38679),d=r(87789),h=r(52358),v=r(57559),m=r(46269),g=r(79795),y=r(27880),b=r(88880),w=r(21100),_=r(63657),S=r(71312),E=r(21544),x=r(58718),R=r(81194),T=r(25903),k=r(12056),C=r(7539),O=r(99038),A=r(22257),I=r(66902),L=r(45712),P=r(51042),M=r(85775),N=r(71657),D=r(95316),j=r(89042),U=r(6826),B=r(97606),F=r(50032),Z=r(82937),V=r(17908),q=r(50799);e.exports={parse:s,valid:c,clean:u,inc:f,diff:l,major:p,minor:d,patch:h,prerelease:v,compare:m,rcompare:g,compareLoose:y,compareBuild:b,sort:w,rsort:_,gt:S,lt:E,eq:x,neq:R,gte:T,lte:k,cmp:C,coerce:O,Comparator:A,Range:I,satisfies:L,toComparators:P,maxSatisfying:M,minSatisfying:N,minVersion:D,validRange:j,outside:U,gtr:B,ltr:F,intersects:Z,simplifyRange:V,subset:q,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},83295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},74225:(e,t,r)=>{const n="object"==typeof r(34155)&&{ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.NODE_DEBUG&&/\bsemver\b/i.test({ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n},86742:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},12893:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},55765:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(83295),i=r(74225),o=(t=e.exports={}).re=[],a=t.src=[],s=t.t={};let c=0;const u=(e,t,r)=>{const n=c++;i(e,n,t),s[e]=n,a[n]=t,o[n]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${a[s.NUMERICIDENTIFIER]})\\.(${a[s.NUMERICIDENTIFIER]})\\.(${a[s.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${a[s.NUMERICIDENTIFIERLOOSE]})\\.(${a[s.NUMERICIDENTIFIERLOOSE]})\\.(${a[s.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${a[s.NUMERICIDENTIFIER]}|${a[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${a[s.NUMERICIDENTIFIERLOOSE]}|${a[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${a[s.PRERELEASEIDENTIFIER]}(?:\\.${a[s.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${a[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[s.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${a[s.BUILDIDENTIFIER]}(?:\\.${a[s.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${a[s.MAINVERSION]}${a[s.PRERELEASE]}?${a[s.BUILD]}?`),u("FULL",`^${a[s.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${a[s.MAINVERSIONLOOSE]}${a[s.PRERELEASELOOSE]}?${a[s.BUILD]}?`),u("LOOSE",`^${a[s.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${a[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${a[s.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${a[s.XRANGEIDENTIFIER]})(?:\\.(${a[s.XRANGEIDENTIFIER]})(?:\\.(${a[s.XRANGEIDENTIFIER]})(?:${a[s.PRERELEASE]})?${a[s.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:${a[s.PRERELEASELOOSE]})?${a[s.BUILD]}?)?)?`),u("XRANGE",`^${a[s.GTLT]}\\s*${a[s.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${a[s.GTLT]}\\s*${a[s.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",a[s.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${a[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${a[s.LONETILDE]}${a[s.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${a[s.LONETILDE]}${a[s.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${a[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${a[s.LONECARET]}${a[s.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${a[s.LONECARET]}${a[s.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${a[s.GTLT]}\\s*(${a[s.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]}|${a[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${a[s.XRANGEPLAIN]})\\s+-\\s+(${a[s.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${a[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[s.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},97606:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,">",r)},82937:(e,t,r)=>{const n=r(66902);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},50032:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,"<",r)},85775:(e,t,r)=>{const n=r(26376),i=r(66902);e.exports=(e,t,r)=>{let o=null,a=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(o&&-1!==a.compare(e)||(o=e,a=new n(o,r)))})),o}},71657:(e,t,r)=>{const n=r(26376),i=r(66902);e.exports=(e,t,r)=>{let o=null,a=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(o&&1!==a.compare(e)||(o=e,a=new n(o,r)))})),o}},95316:(e,t,r)=>{const n=r(26376),i=r(66902),o=r(71312);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let a=null;i.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":a&&!o(t,a)||(a=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!a||r&&!o(r,a)||(r=a)}return r&&e.test(r)?r:null}},6826:(e,t,r)=>{const n=r(26376),i=r(22257),{ANY:o}=i,a=r(66902),s=r(45712),c=r(71312),u=r(21544),f=r(12056),l=r(25903);e.exports=(e,t,r,p)=>{let d,h,v,m,g;switch(e=new n(e,p),t=new a(t,p),r){case">":d=c,h=f,v=u,m=">",g=">=";break;case"<":d=u,h=l,v=c,m="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let a=null,s=null;if(n.forEach((e=>{e.semver===o&&(e=new i(">=0.0.0")),a=a||e,s=s||e,d(e.semver,a.semver,p)?a=e:v(e.semver,s.semver,p)&&(s=e)})),a.operator===m||a.operator===g)return!1;if((!s.operator||s.operator===m)&&h(e,s.semver))return!1;if(s.operator===g&&v(e,s.semver))return!1}return!0}},17908:(e,t,r)=>{const n=r(45712),i=r(46269);e.exports=(e,t,r)=>{const o=[];let a=null,s=null;const c=e.sort(((e,t)=>i(e,t,r)));for(const e of c){n(e,t,r)?(s=e,a||(a=e)):(s&&o.push([a,s]),s=null,a=null)}a&&o.push([a,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const f=u.join(" || "),l="string"==typeof t.raw?t.raw:String(t);return f.length<l.length?f:t}},50799:(e,t,r)=>{const n=r(66902),i=r(22257),{ANY:o}=i,a=r(45712),s=r(46269),c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?[new i(">=0.0.0-0")]:[new i(">=0.0.0")]}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=[new i(">=0.0.0")]}const n=new Set;let c,l,p,d,h,v,m;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,r):"<"===t.operator||"<="===t.operator?l=f(l,t,r):n.add(t.semver);if(n.size>1)return null;if(c&&l){if(p=s(c.semver,l.semver,r),p>0)return null;if(0===p&&(">="!==c.operator||"<="!==l.operator))return null}for(const e of n){if(c&&!a(e,String(c),r))return null;if(l&&!a(e,String(l),r))return null;for(const n of t)if(!a(e,String(n),r))return!1;return!0}let g=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,y=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;g&&1===g.prerelease.length&&"<"===l.operator&&0===g.prerelease[0]&&(g=!1);for(const e of t){if(m=m||">"===e.operator||">="===e.operator,v=v||"<"===e.operator||"<="===e.operator,c)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(d=u(c,e,r),d===e&&d!==c)return!1}else if(">="===c.operator&&!a(c.semver,String(e),r))return!1;if(l)if(g&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch&&(g=!1),"<"===e.operator||"<="===e.operator){if(h=f(l,e,r),h===e&&h!==l)return!1}else if("<="===l.operator&&!a(l.semver,String(e),r))return!1;if(!e.operator&&(l||c)&&0!==p)return!1}return!(c&&v&&!l&&0!==p)&&(!(l&&m&&!c&&0!==p)&&(!y&&!g))},u=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},f=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(const n of e.set){for(const e of t.set){const t=c(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},51042:(e,t,r)=>{const n=r(66902);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},89042:(e,t,r)=>{const n=r(66902);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},37478:(e,t,r)=>{"use strict";var n=r(40210),i=r(21924),o=r(70631),a=n("%TypeError%"),s=n("%WeakMap%",!0),c=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),f=i("WeakMap.prototype.set",!0),l=i("WeakMap.prototype.has",!0),p=i("Map.prototype.get",!0),d=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),v=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+o(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(c){if(t)return p(t,n)}else if(r)return function(e,t){var r=v(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return l(e,n)}else if(c){if(t)return h(t,n)}else if(r)return function(e,t){return!!v(e,t)}(r,n);return!1},set:function(n,i){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),f(e,n,i)):c?(t||(t=new c),d(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=v(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},42830:(e,t,r)=>{e.exports=i;var n=r(17187).EventEmitter;function i(){n.call(this)}r(35717)(i,n),i.Readable=r(79481),i.Writable=r(64229),i.Duplex=r(56753),i.Transform=r(74605),i.PassThrough=r(82725),i.finished=r(8610),i.pipeline=r(59946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",u),e.on("error",u),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},32553:(e,t,r)=>{"use strict";var n=r(89509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},80842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const n=r(55167);t.AbstractTokenizer=class{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){const r=Buffer.alloc(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new n.EndOfStreamError;return e.get(r,0)}async peekToken(e,t=this.position){const r=Buffer.alloc(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new n.EndOfStreamError;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}},30778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const n=r(55167),i=r(80842);class o extends i.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),i=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&i<r.length)throw new n.EndOfStreamError;return e.set(this.uint8Array.subarray(r.position,r.position+i),r.offset),i}async close(){}}t.BufferTokenizer=o},27859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromFile=t.FileTokenizer=void 0;const n=r(80842),i=r(55167),o=r(77209);class a extends n.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,t){const r=this.normalizeOptions(e,t);this.position=r.position;const n=await o.read(this.fd,e,r.offset,r.length,r.position);if(this.position+=n.bytesRead,n.bytesRead<r.length&&(!t||!t.mayBeLess))throw new i.EndOfStreamError;return n.bytesRead}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),n=await o.read(this.fd,e,r.offset,r.length,r.position);if(!r.mayBeLess&&n.bytesRead<r.length)throw new i.EndOfStreamError;return n.bytesRead}async close(){return o.close(this.fd)}}t.FileTokenizer=a,t.fromFile=async function(e){const t=await o.stat(e);if(!t.isFile)throw new Error(`File not a file: ${e}`);const r=await o.open(e,"r");return new a(r,{path:e,size:t.size})}},77209:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFile=t.writeFileSync=t.writeFile=t.read=t.open=t.close=t.stat=t.createReadStream=t.pathExists=void 0;const n=r(4059);t.pathExists=n.existsSync,t.createReadStream=n.createReadStream,t.stat=async function(e){return new Promise(((t,r)=>{n.stat(e,((e,n)=>{e?r(e):t(n)}))}))},t.close=async function(e){return new Promise(((t,r)=>{n.close(e,(e=>{e?r(e):t()}))}))},t.open=async function(e,t){return new Promise(((r,i)=>{n.open(e,t,((e,t)=>{e?i(e):r(t)}))}))},t.read=async function(e,t,r,i,o){return new Promise(((a,s)=>{n.read(e,t,r,i,o,((e,t,r)=>{e?s(e):a({bytesRead:t,buffer:r})}))}))},t.writeFile=async function(e,t){return new Promise(((r,i)=>{n.writeFile(e,t,(e=>{e?i(e):r()}))}))},t.writeFileSync=function(e,t){n.writeFileSync(e,t)},t.readFile=async function(e){return new Promise(((t,r)=>{n.readFile(e,((e,n)=>{e?r(e):t(n)}))}))}},20599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const n=r(80842),i=r(55167);class o extends n.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const r=this.normalizeOptions(e,t),n=r.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(e,t);if(n<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;const o=await this.streamReader.read(e,r.offset,r.length);if(this.position+=o,(!t||!t.mayBeLess)&&o<r.length)throw new i.EndOfStreamError;return o}async peekBuffer(e,t){const r=this.normalizeOptions(e,t);let n=0;if(r.position){const t=r.position-this.position;if(t>0){const i=new Uint8Array(r.length+t);return n=await this.peekBuffer(i,{mayBeLess:r.mayBeLess}),e.set(i.subarray(t),r.offset),n-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{n=await this.streamReader.peek(e,r.offset,r.length)}catch(e){if(t&&t.mayBeLess&&e instanceof i.EndOfStreamError)return 0;throw e}if(!r.mayBeLess&&n<r.length)throw new i.EndOfStreamError}return n}async ignore(e){const t=Math.min(256e3,e),r=new Uint8Array(t);let n=0;for(;n<e;){const i=e-n,o=await this.readBuffer(r,{length:Math.min(t,i)});if(o<0)return o;n+=o}return n}}t.ReadStreamTokenizer=o},35849:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const n=r(20599),i=r(30778);var o=r(55167);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new n.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},26597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromStream=t.fromBuffer=t.EndOfStreamError=t.fromFile=void 0;const n=r(77209),i=r(35849);var o=r(27859);Object.defineProperty(t,"fromFile",{enumerable:!0,get:function(){return o.fromFile}});var a=r(35849);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),Object.defineProperty(t,"fromBuffer",{enumerable:!0,get:function(){return a.fromBuffer}}),t.fromStream=async function(e,t){if(t=t||{},e.path){const r=await n.stat(e.path);t.path=e.path,t.size=r.size}return i.fromStream(e,t)}},83416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;const n=r(80645);function i(e){return new DataView(e.buffer,e.byteOffset)}t.UINT8={len:1,get:(e,t)=>i(e).getUint8(t),put:(e,t,r)=>(i(e).setUint8(t,r),t+1)},t.UINT16_LE={len:2,get:(e,t)=>i(e).getUint16(t,!0),put:(e,t,r)=>(i(e).setUint16(t,r,!0),t+2)},t.UINT16_BE={len:2,get:(e,t)=>i(e).getUint16(t),put:(e,t,r)=>(i(e).setUint16(t,r),t+2)},t.UINT24_LE={len:3,get(e,t){const r=i(e);return r.getUint8(t)+(r.getUint16(t+1,!0)<<8)},put(e,t,r){const n=i(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.UINT24_BE={len:3,get(e,t){const r=i(e);return(r.getUint16(t)<<8)+r.getUint8(t+2)},put(e,t,r){const n=i(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.UINT32_LE={len:4,get:(e,t)=>i(e).getUint32(t,!0),put:(e,t,r)=>(i(e).setUint32(t,r,!0),t+4)},t.UINT32_BE={len:4,get:(e,t)=>i(e).getUint32(t),put:(e,t,r)=>(i(e).setUint32(t,r),t+4)},t.INT8={len:1,get:(e,t)=>i(e).getInt8(t),put:(e,t,r)=>(i(e).setInt8(t,r),t+1)},t.INT16_BE={len:2,get:(e,t)=>i(e).getInt16(t),put:(e,t,r)=>(i(e).setInt16(t,r),t+2)},t.INT16_LE={len:2,get:(e,t)=>i(e).getInt16(t,!0),put:(e,t,r)=>(i(e).setInt16(t,r,!0),t+2)},t.INT24_LE={len:3,get(e,r){const n=t.UINT24_LE.get(e,r);return n>8388607?n-16777216:n},put(e,t,r){const n=i(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.INT24_BE={len:3,get(e,r){const n=t.UINT24_BE.get(e,r);return n>8388607?n-16777216:n},put(e,t,r){const n=i(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.INT32_BE={len:4,get:(e,t)=>i(e).getInt32(t),put:(e,t,r)=>(i(e).setInt32(t,r),t+4)},t.INT32_LE={len:4,get:(e,t)=>i(e).getInt32(t,!0),put:(e,t,r)=>(i(e).setInt32(t,r,!0),t+4)},t.UINT64_LE={len:8,get:(e,t)=>i(e).getBigUint64(t,!0),put:(e,t,r)=>(i(e).setBigUint64(t,r,!0),t+8)},t.INT64_LE={len:8,get:(e,t)=>i(e).getBigInt64(t,!0),put:(e,t,r)=>(i(e).setBigInt64(t,r,!0),t+8)},t.UINT64_BE={len:8,get:(e,t)=>i(e).getBigUint64(t),put:(e,t,r)=>(i(e).setBigUint64(t,r),t+8)},t.INT64_BE={len:8,get:(e,t)=>i(e).getBigInt64(t),put:(e,t,r)=>(i(e).setBigInt64(t,r),t+8)},t.Float16_BE={len:2,get(e,t){return n.read(e,t,!1,10,this.len)},put(e,t,r){return n.write(e,r,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get(e,t){return n.read(e,t,!0,10,this.len)},put(e,t,r){return n.write(e,r,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:(e,t)=>i(e).getFloat32(t),put:(e,t,r)=>(i(e).setFloat32(t,r),t+4)},t.Float32_LE={len:4,get:(e,t)=>i(e).getFloat32(t,!0),put:(e,t,r)=>(i(e).setFloat32(t,r,!0),t+4)},t.Float64_BE={len:8,get:(e,t)=>i(e).getFloat64(t),put:(e,t,r)=>(i(e).setFloat64(t,r),t+8)},t.Float64_LE={len:8,get:(e,t)=>i(e).getFloat64(t,!0),put:(e,t,r)=>(i(e).setFloat64(t,r,!0),t+8)},t.Float80_BE={len:10,get(e,t){return n.read(e,t,!1,63,this.len)},put(e,t,r){return n.write(e,r,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get(e,t){return n.read(e,t,!0,63,this.len)},put(e,t,r){return n.write(e,r,t,!0,63,this.len),t+this.len}};t.IgnoreType=class{constructor(e){this.len=e}get(e,t){}};t.Uint8ArrayType=class{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}};t.BufferType=class{constructor(e){this.len=e}get(e,t){return Buffer.from(e.subarray(t,t+this.len))}};t.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return Buffer.from(e).toString(this.encoding,t,t+this.len)}};class o{constructor(e){this.len=e}static decode(e,t,r){let n="";for(let i=t;i<r;++i)n+=o.codePointToString(o.singleByteDecoder(e[i]));return n}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(o.inRange(e,0,127))return e;const t=o.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return o.decode(e,t,t+this.len)}}t.AnsiStringType=o,o.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},52511:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,c=36,u=1,f=26,l=38,p=700,d=72,h=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-u,_=Math.floor,S=String.fromCharCode;function E(e){throw RangeError(b[e])}function x(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function R(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+x((e=e.replace(y,".")).split("."),t).join(".")}function T(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function k(e){return x(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,r){var n=0;for(e=r?_(e/p):e>>1,e+=_(e/t);e>w*f>>1;n+=c)e=_(e/w);return _(n+(w+1)*e/(e+l))}function A(e){var t,r,n,i,o,a,l,p,m,g,y,b=[],w=e.length,S=0,x=h,R=d;for((r=e.lastIndexOf(v))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&E("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=S,a=1,l=c;i>=w&&E("invalid-input"),((p=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||p>_((s-S)/a))&&E("overflow"),S+=p*a,!(p<(m=l<=R?u:l>=R+f?f:l-R));l+=c)a>_(s/(g=c-m))&&E("overflow"),a*=g;R=O(S-o,t=b.length+1,0==o),_(S/t)>s-x&&E("overflow"),x+=_(S/t),S%=t,b.splice(S++,0,x)}return k(b)}function I(e){var t,r,n,i,o,a,l,p,m,g,y,b,w,x,R,k=[];for(b=(e=T(e)).length,t=h,r=0,o=d,a=0;a<b;++a)(y=e[a])<128&&k.push(S(y));for(n=i=k.length,i&&k.push(v);n<b;){for(l=s,a=0;a<b;++a)(y=e[a])>=t&&y<l&&(l=y);for(l-t>_((s-r)/(w=n+1))&&E("overflow"),r+=(l-t)*w,t=l,a=0;a<b;++a)if((y=e[a])<t&&++r>s&&E("overflow"),y==t){for(p=r,m=c;!(p<(g=m<=o?u:m>=o+f?f:m-o));m+=c)R=p-g,x=c-g,k.push(S(C(g+R%x,0))),p=_(R/x);k.push(S(C(p,0))),o=O(r,w,n==i),r=0,++n}++r,++t}return k.join("")}a={version:"1.3.2",ucs2:{decode:T,encode:k},decode:A,encode:I,toASCII:function(e){return R(e,(function(e){return g.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return R(e,(function(e){return m.test(e)?A(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()},8575:(e,t,r)=>{"use strict";var n=r(52511),i=r(62502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(u),l=["%","/","?",";","#"].concat(f),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(17673);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(E||_&&!g[_])){for(var x,R,T=-1,k=0;k<p.length;k++){-1!==(C=b.indexOf(p[k]))&&(-1===T||C<T)&&(T=C)}-1!==(R=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(x=b.slice(0,R),b=b.slice(R+1),this.auth=decodeURIComponent(x)),T=-1;for(k=0;k<l.length;k++){var C;-1!==(C=b.indexOf(l[k]))&&(-1===T||C<T)&&(T=C)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var A=this.hostname.split(/\./),I=(k=0,A.length);k<I;k++){var L=A[k];if(L&&!L.match(d)){for(var P="",M=0,N=L.length;M<N;M++)L.charCodeAt(M)>127?P+="x":P+=L[M];if(!P.match(d)){var D=A.slice(0,k),j=A.slice(k+1),U=L.match(h);U&&(D.push(U[1]),j.unshift(U[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[S])for(k=0,I=f.length;k<I;k++){var Z=f[k];if(-1!==b.indexOf(Z)){var V=encodeURIComponent(Z);V===Z&&(V=escape(Z)),b=b.split(Z).join(V)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var f=c[u];"protocol"!==f&&(r[f]=e[f])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var l=Object.keys(e),p=0;p<l.length;p++){var d=l[p];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||r.host&&e.pathname,S=_,E=r.pathname&&r.pathname.split("/")||[],x=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),_=_&&(""===h[0]||""===E[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=h;else if(h.length)E||(E=[]),E.pop(),E=E.concat(h),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(x)r.hostname=r.host=E.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var R=E.slice(-1)[0],T=(r.host||e.host||E.length>1)&&("."===R||".."===R)||""===R,k=0,C=E.length;C>=0;C--)"."===(R=E[C])?E.splice(C,1):".."===R?(E.splice(C,1),k++):k&&(E.splice(C,1),k--);if(!_&&!S)for(;k--;k)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),T&&"/"!==E.join("/").substr(-1)&&E.push("");var O,A=""===E[0]||E[0]&&"/"===E[0].charAt(0);x&&(r.hostname=r.host=A?"":E.length?E.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift()));return(_=_||r.host&&E.length)&&!A&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},83031:(e,t,r)=>{e.exports=r(32482)},32482:(e,t)=>{t.version="1.0.0",t.encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},t.decode=function(e){return e=(e+=Array(5-e.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new Buffer(e,"base64")},t.validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)}},94927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},20384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},55955:(e,t,r)=>{"use strict";var n=r(82584),i=r(48662),o=r(86430),a=r(85692);function s(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,f=s(Object.prototype.toString),l=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(c)var h=s(BigInt.prototype.valueOf);if(u)var v=s(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===f(e)}function y(e){return"[object Set]"===f(e)}function b(e){return"[object WeakMap]"===f(e)}function w(e){return"[object WeakSet]"===f(e)}function _(e){return"[object ArrayBuffer]"===f(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===f(e)}function x(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||x(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},g.working="undefined"!=typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(y.working?y(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=x;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function T(e){return"[object SharedArrayBuffer]"===f(e)}function k(e){return void 0!==R&&(void 0===T.working&&(T.working=T(new R)),T.working?T(e):e instanceof R)}function C(e){return m(e,l)}function O(e){return m(e,p)}function A(e){return m(e,d)}function I(e){return c&&m(e,h)}function L(e){return u&&m(e,v)}t.isSharedArrayBuffer=k,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===f(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===f(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===f(e)},t.isGeneratorObject=function(e){return"[object Generator]"===f(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===f(e)},t.isNumberObject=C,t.isStringObject=O,t.isBooleanObject=A,t.isBigIntObject=I,t.isSymbolObject=L,t.isBoxedPrimitive=function(e){return C(e)||O(e)||A(e)||I(e)||L(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},89539:(e,t,r)=>{var n=r(34155),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])g(s)||!S(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var a={},s=/^$/;if({ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.NODE_DEBUG){var c={ATLAS_SERVICE_URL:"https://atlas-a.wbx2.com/admin/api/v1",CONVERSATION_SERVICE:"https://conv-a.wbx2.com/conversation/api/v1",ENCRYPTION_SERVICE_URL:"https://encryption-a.wbx2.com",HYDRA_SERVICE_URL:"https://api.ciscospark.com/v1",IDBROKER_BASE_URL:"https://idbroker.webex.com",IDENTITY_BASE_URL:"https://identity.webex.com",U2C_SERVICE_URL:"https://u2c.wbx2.com/u2c/api/v1",WDM_SERVICE_URL:"https://wdm-a.wbx2.com/wdm/api/v1",WHISTLER_API_SERVICE_URL:"https://whistler-prod.allnint.ciscospark.com/api/v1"}.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+c+"$","i")}function u(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),p(n,e,n.depth)}function f(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function p(e,r,n){if(e.customInspect&&r&&R(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return b(i)||(i=p(e,i,n)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),x(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(R(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return d(r)}var u,f="",l=!1,S=["{","}"];(v(r)&&(l=!0,S=["[","]"]),R(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(f=" "+RegExp.prototype.toString.call(r)),E(r)&&(f=" "+Date.prototype.toUTCString.call(r)),x(r)&&(f=" "+d(r)),0!==a.length||l&&0!=r.length?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=l?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,l)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,f,S)):S[0]+f+S[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),O(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function v(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return void 0===e}function _(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function E(e){return S(e)&&"[object Date]"===T(e)}function x(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function R(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(s.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(55955),t.isArray=v,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=_,t.types.isRegExp=_,t.isObject=S,t.isDate=E,t.types.isDate=E,t.isError=x,t.types.isNativeError=x,t.isFunction=R,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(20384);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(35717),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=A,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(I.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},55877:(e,t,r)=>{var n=r(23570),i=r(71171),o=i;o.v1=n,o.v4=i,e.exports=o},45327:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,i=t;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},85217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},23570:(e,t,r)=>{var n,i,o=r(85217),a=r(45327),s=0,c=0;e.exports=function(e,t,r){var u=t&&r||0,f=t||[],l=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var d=o();null==l&&(l=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:c+1,m=h-s+(v-c)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=v,i=p;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;f[u++]=g>>>24&255,f[u++]=g>>>16&255,f[u++]=g>>>8&255,f[u++]=255&g;var y=h/4294967296*1e4&268435455;f[u++]=y>>>8&255,f[u++]=255&y,f[u++]=y>>>24&15|16,f[u++]=y>>>16&255,f[u++]=p>>>8|128,f[u++]=255&p;for(var b=0;b<6;++b)f[u+b]=l[b];return t||a(f)}},71171:(e,t,r)=>{var n=r(85217),i=r(45327);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},86430:(e,t,r)=>{"use strict";var n=r(94029),i=r(63083),o=r(21924),a=r(27296),s=o("Object.prototype.toString"),c=r(96410)(),u="undefined"==typeof globalThis?r.g:globalThis,f=i(),l=o("String.prototype.slice"),p={},d=Object.getPrototypeOf;c&&a&&d&&n(f,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=d(t),n=a(r,Symbol.toStringTag);if(!n){var i=d(r);n=a(i,Symbol.toStringTag)}p[e]=n.get}}}));var h=r(85692);e.exports=function(e){return!!h(e)&&(c&&Symbol.toStringTag in e?function(e){var t=!1;return n(p,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(s(e),8,-1))}},47529:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var a=[];for(n=0;o&&n<t;n++)a.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<r.length;n++)o=i(this,o,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(49602)(n)}catch(e){}},42480:()=>{},66507:()=>{},86035:()=>{},24654:()=>{},52361:()=>{},94616:()=>{},4059:()=>{},27921:(e,t,r)=>{e.exports=r(50176)},78149:(e,t,r)=>{e.exports=r(70964)},66130:(e,t,r)=>{e.exports=r(76216)},8450:(e,t,r)=>{e.exports=r(23565)},18281:(e,t,r)=>{e.exports=r(94175)},7520:(e,t,r)=>{e.exports=r(68080)},53804:(e,t,r)=>{e.exports=r(7153)},18428:(e,t,r)=>{e.exports=r(68207)},5940:(e,t,r)=>{e.exports=r(25380)},93364:(e,t,r)=>{e.exports=r(99848)},26771:(e,t,r)=>{e.exports=r(82624)},43562:(e,t,r)=>{e.exports=r(88058)},27392:(e,t,r)=>{e.exports=r(36759)},95366:(e,t,r)=>{e.exports=r(44221)},6919:(e,t,r)=>{e.exports=r(22991)},21986:(e,t,r)=>{e.exports=r(65162)},62680:(e,t,r)=>{e.exports=r(72818)},62962:(e,t,r)=>{e.exports=r(87595)},26243:(e,t,r)=>{e.exports=r(15297)},22863:(e,t,r)=>{e.exports=r(21900)},18433:(e,t,r)=>{e.exports=r(42837)},62207:(e,t,r)=>{e.exports=r(97186)},79529:(e,t,r)=>{e.exports=r(16111)},73473:(e,t,r)=>{e.exports=r(89448)},71544:(e,t,r)=>{e.exports=r(58564)},63755:(e,t,r)=>{e.exports=r(98401)},79873:(e,t,r)=>{e.exports=r(53268)},67857:(e,t,r)=>{e.exports=r(76409)},39907:(e,t,r)=>{e.exports=r(46383)},66411:(e,t,r)=>{e.exports=r(42437)},19031:(e,t,r)=>{e.exports=r(19414)},90487:(e,t,r)=>{e.exports=r(98828)},85579:(e,t,r)=>{e.exports=r(71922)},22013:(e,t,r)=>{e.exports=r(72974)},64233:(e,t,r)=>{e.exports=r(90446)},66282:(e,t,r)=>{e.exports=r(53868)},83977:(e,t,r)=>{e.exports=r(69488)},11996:(e,t,r)=>{var n=r(63207).default,i=r(26771),o=r(85579),a=r(5940),s=r(62962),c=r(22863),u=r(73473);function f(){"use strict";e.exports=f=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,l=r.hasOwnProperty,p=i||function(e,t,r){e[t]=r.value},d="function"==typeof o?o:{},h=d.iterator||"@@iterator",v=d.asyncIterator||"@@asyncIterator",m=d.toStringTag||"@@toStringTag";function g(e,t,r){return i(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{g({},"")}catch(e){g=function(e,t,r){return e[t]=r}}function y(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=a(i.prototype),s=new P(n||[]);return p(o,"_invoke",{value:O(e,r,s)}),o}function b(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=y;var w={};function _(){}function S(){}function E(){}var x={};g(x,h,(function(){return this}));var R=s&&s(s(M([])));R&&R!==r&&l.call(R,h)&&(x=R);var T=E.prototype=_.prototype=a(x);function k(e){["next","throw","return"].forEach((function(t){g(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(i,o,a,s){var c=b(e[i],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==n(f)&&l.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;p(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function O(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return N()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===w)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=b(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===w)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function A(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var i=b(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,w;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,w):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function M(e){if(e){var t=e[h];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(l.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:N}}function N(){return{value:void 0,done:!0}}return S.prototype=E,p(T,"constructor",{value:E,configurable:!0}),p(E,"constructor",{value:S,configurable:!0}),S.displayName=g(E,m,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return c?c(e,E):(e.__proto__=E,g(e,m,"GeneratorFunction")),e.prototype=a(T),e},t.awrap=function(e){return{__await:e}},k(C.prototype),g(C.prototype,v,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=u);var a=new C(y(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(T),g(T,m,"Generator"),g(T,h,(function(){return this})),g(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),w}},t}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},63207:(e,t,r)=>{var n=r(85579),i=r(22013);function o(t){return e.exports=o="function"==typeof n&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof n&&e.constructor===n&&e!==n.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},33453:(e,t,r)=>{var n=r(11996)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},63083:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},2313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(26243),i=r(26771);function o(e,t,r,o,a){var s={};return n(o).forEach((function(e){s[e]=o[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),a&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),void 0===s.initializer&&(i(e,t,s),s=null),s}},80759:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:()=>n})},23710:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:()=>n})},66250:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(73473);function i(e,t,r,i,o,a,s){try{var c=e[a](s),u=c.value}catch(e){return void r(e)}c.done?t(u):n.resolve(u).then(i,o)}function o(e){return function(){var t=this,r=arguments;return new n((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}},8167:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:()=>n})},956:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(63755),i=r(35148);function o(e,t,r){return o=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?n.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&(0,i.Z)(o,r.prototype),o},o.apply(null,arguments)}},31314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(26771),i=r(44660);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),n(e,(0,i.Z)(o.key),o)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),n(e,"prototype",{writable:!1}),e}},77193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(26771),i=r(44660);function o(e,t,r){return(t=(0,i.Z)(t))in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},35002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(22863),i=r(62962);function o(e){return o=n?i.bind():function(e){return e.__proto__||i(e)},o(e)}},69678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(5940),i=r(26771),o=r(35148);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=n(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),i(e,"prototype",{writable:!1}),t&&(0,o.Z)(e,t)}},26305:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(13682),i=r(23710);function o(e,t){if(t&&("object"===(0,n.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},35148:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(22863);function i(e,t){return i=n?n.bind():function(e,t){return e.__proto__=t,e},i(e,t)}},14917:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(78149);var i=r(85579),o=r(22013);var a=r(33422);function s(e,t){return function(e){if(n(e))return e}(e)||function(e,t){var r=null==e?null:void 0!==i&&e[o]||e["@@iterator"];if(null!=r){var n,a,s,c,u=[],f=!0,l=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(e){l=!0,a=e}finally{try{if(!f&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw a}}return u}}(e,t)||(0,a.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},21882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(78149),i=r(80759);var o=r(85579),a=r(22013),s=r(27921);var c=r(33422);function u(e){return function(e){if(n(e))return(0,i.Z)(e)}(e)||function(e){if(void 0!==o&&null!=e[a]||null!=e["@@iterator"])return s(e)}(e)||(0,c.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},44660:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(13682),i=r(64233);function o(e){var t=function(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[i];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==(0,n.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},13682:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(85579),i=r(22013);function o(e){return o="function"==typeof n&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof n&&e.constructor===n&&e!==n.prototype?"symbol":typeof e},o(e)}},33422:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(27921),i=r(80759);function o(e,t){if(e){if("string"==typeof e)return(0,i.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?n(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,i.Z)(e,t):void 0}}},67097:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(18281),i=r(5940),o=r(35002),a=r(35148);var s=r(956);function c(e){var t="function"==typeof n?new n:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,s.Z)(e,arguments,(0,o.Z)(this).constructor)}return n.prototype=i(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,a.Z)(n,e)},c(e)}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Calling:()=>zd});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ActiveSpeakerInfo:()=>ad,CodecInfo:()=>pd,ConnectionState:()=>io,ErrorType:()=>Mu,Errors:()=>bd,Event:()=>Lu,H264Codec:()=>dd,LocalCameraTrack:()=>$i,LocalDisplayTrack:()=>Hi,LocalMicrophoneTrack:()=>Ki,LocalTrack:()=>Wi,LocalTrackEvents:()=>qi,Media:()=>_d,MediaFamily:()=>sd,MediaRequest:()=>Ka,MediaStreamTrackKind:()=>la,MediaType:()=>fd,MultistreamRoapMediaConnection:()=>yd,PeerConnection:()=>va,Policy:()=>ud,ReceiveSlot:()=>ru,ReceiveSlotEvents:()=>eu,ReceiverSelectedInfo:()=>hd,RemoteTrackType:()=>Pu,RoapMediaConnection:()=>ed,WcmeError:()=>Yi,createCameraTrack:()=>Ji,createDisplayTrack:()=>Qi,createMicrophoneTrack:()=>Xi,getAudioInputDevices:()=>to,getAudioOutputDevices:()=>ro,getDevices:()=>eo,getErrorDescription:()=>sn,getLogger:()=>an,getMediaFamily:()=>vd,getVideoInputDevices:()=>no,isBrowserSupported:()=>wd,setLogger:()=>on,setOnDeviceChangeHandler:()=>ao});var t={};__webpack_require__.r(t);var r,n,i=__webpack_require__(8167),o=__webpack_require__(31314),a=(__webpack_require__(66250),__webpack_require__(77193)),s=__webpack_require__(33453),c=__webpack_require__.n(s),u=__webpack_require__(27392),f=__webpack_require__.n(u),l=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"setWebex",value:function(e){if(r)throw new Error("You cannot set the SDKConnector instance more than once");var t=function(e){return e.canAuthorize?e.ready?e.internal.mercury?{error:void 0,success:!0}:{error:new Error("webex.internal.mercury is not available"),success:!1}:{error:new Error("webex.ready is not true"),success:!1}:{error:new Error("webex.canAuthorize is not true"),success:!1}}(e),i=t.error,o=t.success;if(i)throw i;if(!o)throw new Error("An unknown error occurred setting up the webex instance.");n=e,r=this}},{key:"get",value:function(){return r}},{key:"getWebex",value:function(){return n}},{key:"request",value:function(e){return r.getWebex().request(e)}},{key:"registerListener",value:function(e,t){r.getWebex().internal.mercury.on(e,(function(e){t(e)}))}},{key:"unregisterListener",value:function(e){r.getWebex().internal.mercury.off(e)}}]),e}();f()(new l);var p,d,h,v="1.66.0",m="web-calling-sdk";"".concat(m,"/").concat(v," (").concat("web-calling",")");!function(e){e.MAIN="CALLING_SDK",e.FILE="file",e.METHOD="method",e.EVENT="event",e.MESSAGE="message",e.ERROR="error"}(p||(p={})),function(e){e[e.error=1]="error",e[e.warn=2]="warn",e[e.log=3]="log",e[e.info=4]="info",e[e.trace=5]="trace"}(d||(d={})),function(e){e.ERROR="error",e.WARN="warn",e.INFO="info",e.LOG="log",e.TRACE="trace"}(h||(h={}));var g=d.error,y=function(e,t){switch(t){case h.INFO:case h.LOG:console.log(e);break;case h.WARN:console.warn(e);break;case h.ERROR:console.error(e);break;case h.TRACE:console.trace(e)}},b=function(e,t){var r=(new Date).toUTCString();return"".concat(m,": ").concat(r,": ").concat(t,": ").concat(p.FILE,":").concat(e.file," - ").concat(p.METHOD,":").concat(e.method)};const w={log:function(e,t){g>=d.log&&y("".concat(b(t,"[LOG]")," - ").concat(p.MESSAGE,":").concat(e),h.LOG)},error:function(e,t){g>=d.error&&y("".concat(b(t,"[ERROR]")," - !").concat(p.ERROR,"!").concat(p.MESSAGE,":").concat(e.message),h.ERROR)},info:function(e,t){g>=d.info&&y("".concat(b(t,"[INFO]")," - ").concat(p.MESSAGE,":").concat(e),h.INFO)},warn:function(e,t){g>=d.warn&&y("".concat(b(t,"[WARN]")," - ").concat(p.MESSAGE,":").concat(e),h.WARN)},trace:function(e,t){g>=d.trace&&y("".concat(b(t,"[TRACE]")," - ").concat(p.MESSAGE,":").concat(e),h.TRACE)},setLogger:function(e){switch(e){case h.WARN:g=d.warn;break;case h.LOG:g=d.log;break;case h.INFO:g=d.info;break;case h.TRACE:g=d.trace;break;default:g=d.error}var t="Logger initialized for SDK version: ".concat(v," with level: ").concat(g);y("".concat(b({file:"logger.ts",method:"setLogger"},""),"  - ").concat(p.MESSAGE,":").concat(t),h.INFO)},getLogLevel:function(){var e;switch(g){case d.warn:e=h.WARN;break;case d.log:e=h.LOG;break;case d.info:e=h.INFO;break;case d.trace:e=h.TRACE;break;default:e=h.ERROR}return e}};var _,S,E,x,R,T,k,C,O;!function(e){e.MOBIUS="mobius",e.JANUS="janus"}(_||(_={})),function(e){e.GET="GET",e.POST="POST",e.PATCH="PATCH",e.PUT="PUT",e.DELETE="DELETE"}(S||(S={})),function(e){e.ACTIVE="active",e.DEFAULT="default"}(E||(E={})),function(e){e.URI="uri",e.TEL="tel"}(x||(x={})),function(e){e.INBOUND="inbound",e.OUTBOUND="outbound"}(R||(R={})),function(e){e.ASC="ASC",e.DESC="DESC",e.DEFAULT="DESC"}(T||(T={})),function(e){e.END_TIME="endTime",e.DEFAULT="endTime",e.START_TIME="startTime"}(k||(k={})),function(e){e.CALLING="calling",e.CONTACT_CENTER="contactcenter"}(C||(C={})),function(e){e.PEOPLE="PEOPLE",e.ORGANIZATION="ORGANIZATION"}(O||(O={}));var A,I,L,P,M=__webpack_require__(26243),N=__webpack_require__.n(M),D=__webpack_require__(8450),j=__webpack_require__.n(D),U=__webpack_require__(73473),B=__webpack_require__.n(U);__webpack_require__(31795);!function(e){e.OPERATIONAL="operational",e.BEHAVIORAL="behavioral"}(A||(A={})),function(e){e.CALL="web-calling-sdk-callcontrol",e.CALL_ERROR="web-calling-sdk-callcontrol-error",e.MEDIA="web-calling-sdk-media",e.MEDIA_ERROR="web-calling-sdk-media-error",e.REGISTRATION="web-calling-sdk-registration",e.REGISTRATION_ERROR="web-calling-sdk-registration-error"}(I||(I={})),function(e){e.REGISTER="register",e.DEREGISTER="deregister",e.KEEPALIVE_FAILURE="keepaliveFailure"}(L||(L={})),function(e){e.BLIND_TRANSFER="Blind Transfer",e.CONSULT_TRANSFER="Consult Transfer"}(P||(P={}));var F,Z,V,q,z,W=__webpack_require__(63755),G=__webpack_require__.n(W),$=__webpack_require__(23710),H=__webpack_require__(69678),K=__webpack_require__(26305),Y=__webpack_require__(35002),J=__webpack_require__(67097);function X(e){var t=function(){if("undefined"==typeof Reflect||!G())return!1;if(G().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(G()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,Y.Z)(e);if(t){var i=(0,Y.Z)(this).constructor;r=G()(n,arguments,i)}else r=n.apply(this,arguments);return(0,K.Z)(this,r)}}!function(e){e.CALL_CONTROL="call_control",e.MEDIA="media"}(F||(F={})),function(e){e.CALL_ERROR="call_error",e.DEFAULT="default_error",e.FORBIDDEN_ERROR="forbidden",e.NOT_FOUND="not_found",e.REGISTRATION_ERROR="registration_error",e.SERVICE_UNAVAILABLE="service_unavailable",e.TIMEOUT="timeout",e.TOKEN_ERROR="token_error",e.SERVER_ERROR="server_error"}(Z||(Z={})),function(e){e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.DEVICE_NOT_FOUND=404]="DEVICE_NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS"}(V||(V={})),function(e){e[e.INVALID_STATUS_UPDATE=111]="INVALID_STATUS_UPDATE",e[e.DEVICE_NOT_REGISTERED=112]="DEVICE_NOT_REGISTERED",e[e.CALL_NOT_FOUND=113]="CALL_NOT_FOUND",e[e.ERROR_PROCESSING=114]="ERROR_PROCESSING",e[e.USER_BUSY=115]="USER_BUSY",e[e.PARSING_ERROR=116]="PARSING_ERROR",e[e.TIMEOUT_ERROR=117]="TIMEOUT_ERROR",e[e.NOT_ACCEPTABLE=118]="NOT_ACCEPTABLE",e[e.CALL_REJECTED=119]="CALL_REJECTED",e[e.NOT_AVAILABLE=120]="NOT_AVAILABLE"}(q||(q={})),function(e){e[e.DEVICE_LIMIT_EXCEEDED=101]="DEVICE_LIMIT_EXCEEDED",e[e.DEVICE_CREATION_DISABLED=102]="DEVICE_CREATION_DISABLED",e[e.DEVICE_CREATION_FAILED=103]="DEVICE_CREATION_FAILED"}(z||(z={}));Error;var Q,ee,te,re,ne,ie,oe,ae;!function(e){e.ALERTING="call:alerting",e.CALL_ERROR="call:error",e.CALLER_ID="call:caller_id",e.CONNECT="call:connect",e.CONNECTING="callingClient: connecting",e.DISCONNECT="call:disconnect",e.ERROR="callingClient:error",e.ESTABLISHED="call:established",e.HELD="call:held",e.HOLD_ERROR="call:hold_error",e.INCOMING_CALL="callingClient:incoming_call",e.OUTGOING_CALL="callingClient:outgoing_call",e.PROGRESS="call:progress",e.RECONNECTED="callingClient:reconnected",e.RECONNECTING="callingClient:reconnecting",e.REGISTERED="callingClient:registered",e.REMOTE_MEDIA="call:remote_media",e.RESUME_ERROR="call:resume_error",e.RESUMED="call:resumed",e.TRANSFER_ERROR="call:transfer_error",e.UNREGISTERED="callingClient:unregistered",e.USER_SESSION_INFO="callingClient:user_recent_sessions",e.CB_VOICEMESSAGE_CONTENT_GET="call_back_voicemail_content_get",e.CALL_HISTORY_USER_SESSION_INFO="callHistory:user_recent_sessions",e.ALL_CALLS_CLEARED="callingClient:all_calls_cleared"}(Q||(Q={})),function(e){e.HOLD="hold",e.RESUME="resume",e.DIVERT="divert",e.TRANSFER="transfer",e.PARK="park"}(ee||(ee={})),function(e){e.HELD="HELD",e.CONNECTED="CONNECTED"}(te||(te={})),function(e){e.ANSWERED="Answered",e.CANCELED="Canceled",e.INITIATED="Initiated",e.MISSED="MISSED"}(re||(re={})),function(e){e.SPARK="SPARK",e.WEBEX_CALLING="WEBEXCALLING"}(ne||(ne={})),function(e){e.SERVER_EVENT_INCLUSIVE="event:mobius",e.CALL_SESSION_EVENT_INCLUSIVE="event:janus.user_recent_sessions"}(ie||(ie={})),function(e){e.ROAP_MESSAGE_TO_SEND="roap:messageToSend",e.MEDIA_TYPE_AUDIO="audio"}(oe||(oe={})),function(e){e.HELD="held",e.REMOTE_HELD="remoteheld",e.CONNECTED="connected"}(ae||(ae={}));var se;!function(e){e.CALL_PROGRESS="callprogress",e.CALL_CONNECTED="callconnected",e.CALL_DISCONNECTED="callconnected",e.CALL_INFO="callinfo",e.CALL="call",e.ROAP="ROAP"}(se||(se={}));var ce;!function(e){e.WXC="WEBEX_CALLING",e.BWRKS="BROADWORKS_CALLING",e.UCM="UCM_CALLING",e.INVALID="Calling backend is currently not supported"}(ce||(ce={}));var ue,fe=__webpack_require__(21882),le=__webpack_require__(14917),pe=__webpack_require__(43562),de=__webpack_require__.n(pe);!function(e){e.CUSTOM="CUSTOM",e.CLOUD="CLOUD"}(ue||(ue={}));var he=__webpack_require__(27921),ve=__webpack_require__.n(he),me=__webpack_require__(85579),ge=__webpack_require__.n(me),ye=__webpack_require__(22013),be=__webpack_require__.n(ye),we=__webpack_require__(78149),_e=__webpack_require__.n(we),Se=(__webpack_require__(18433),__webpack_require__(66130)),Ee=__webpack_require__.n(Se),xe=__webpack_require__(66411),Re=__webpack_require__(95366),Te=__webpack_require__.n(Re);function ke(){return ke="undefined"!=typeof Reflect&&xe?xe.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Y.Z)(e)););return e}(e,t);if(n){var i=Re(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},ke.apply(this,arguments)}var Ce=__webpack_require__(13682),Oe=__webpack_require__(26771),Ae=__webpack_require__.n(Oe),Ie=__webpack_require__(62207),Le=__webpack_require__.n(Ie),Pe=__webpack_require__(79529),Me=__webpack_require__.n(Pe),Ne=__webpack_require__(5940),De=__webpack_require__.n(Ne),je=__webpack_require__(62962),Ue=__webpack_require__.n(je),Be=__webpack_require__(19031),Fe=__webpack_require__.n(Be),Ze=__webpack_require__(83977),Ve=__webpack_require__.n(Ze),qe=__webpack_require__(90487),ze=__webpack_require__.n(qe),We=__webpack_require__(62680),Ge=__webpack_require__.n(We),$e=__webpack_require__(6919),He=__webpack_require__.n($e),Ke=__webpack_require__(93364),Ye=__webpack_require__.n(Ke),Je=__webpack_require__(18281),Xe=__webpack_require__.n(Je),Qe=__webpack_require__(71544),et=__webpack_require__.n(Qe),tt=__webpack_require__(21986),rt=__webpack_require__.n(tt),nt=__webpack_require__(7520),it=__webpack_require__.n(nt),ot=__webpack_require__(18428),at=__webpack_require__.n(ot),st=__webpack_require__(53804),ct=__webpack_require__.n(st),ut=__webpack_require__(66282),ft=__webpack_require__.n(ut);function lt(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function pt(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){lt(o,n,i,a,s,"next",e)}function s(e){lt(o,n,i,a,s,"throw",e)}a(void 0)}))}}function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ht(e){var t=function(e,t){if("object"!==dt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dt(t)?t:String(t)}function vt(e,t,r){return(t=ht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mt(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function gt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,mt(e,t,"get"))}function yt(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,mt(e,t,"set"),r),r}function bt(e,t){var r=void 0!==ge()&&e[be()]||e["@@iterator"];if(!r){if(_e()(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return ve()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _t(e){var t=function(){if("undefined"==typeof Reflect||!G())return!1;if(G().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(G()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,Y.Z)(e);if(t){var i=(0,Y.Z)(this).constructor;r=G()(n,arguments,i)}else r=n.apply(this,arguments);return(0,K.Z)(this,r)}}function St(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!_e()(t)&&N()(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Te()(t,r);Ae()(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),f()(e)}var Et=void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function xt(){throw new Error("setTimeout has not been defined")}function Rt(){throw new Error("clearTimeout has not been defined")}var Tt=xt,kt=Rt;function Ct(e){if(Tt===setTimeout)return setTimeout(e,0);if((Tt===xt||!Tt)&&setTimeout)return Tt=setTimeout,setTimeout(e,0);try{return Tt(e,0)}catch(t){try{return Tt.call(null,e,0)}catch(t){return Tt.call(this,e,0)}}}"function"==typeof Et.setTimeout&&(Tt=setTimeout),"function"==typeof Et.clearTimeout&&(kt=clearTimeout);var Ot,At=[],It=!1,Lt=-1;function Pt(){It&&Ot&&(It=!1,Ot.length?At=Ot.concat(At):Lt=-1,At.length&&Mt())}function Mt(){if(!It){var e=Ct(Pt);It=!0;for(var t=At.length;t;){for(Ot=At,At=[];++Lt<t;)Ot&&Ot[Lt].run();Lt=-1,t=At.length}Ot=null,It=!1,function(e){if(kt===clearTimeout)return clearTimeout(e);if((kt===Rt||!kt)&&clearTimeout)return kt=clearTimeout,clearTimeout(e);try{return kt(e)}catch(t){try{return kt.call(null,e)}catch(t){return kt.call(this,e)}}}(e)}}function Nt(e,t){this.fun=e,this.array=t}Nt.prototype.run=function(){this.fun.apply(null,this.array)};function Dt(){}var jt=Dt,Ut=Dt,Bt=Dt,Ft=Dt,Zt=Dt,Vt=Dt,qt=Dt;var zt=Et.performance||{},Wt=zt.now||zt.mozNow||zt.msNow||zt.oNow||zt.webkitNow||function(){return(new Date).getTime()};var Gt=new Date;var $t={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];At.push(new Nt(e,t)),1!==At.length||It||Ct(Mt)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:jt,addListener:Ut,once:Bt,off:Ft,removeListener:Zt,removeAllListeners:Vt,emit:qt,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Wt.call(zt),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Gt)/1e3}},Ht="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},Kt={exports:{}};!function(e){!function(){var t,r="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(b="object"===(0,Ce.Z)($t)&&"object"===(0,Ce.Z)($t.versions)&&$t.versions.node&&!$t.browser){var n=$t.versions.node.toString().replace("v","");r="Nodejs/"+n+" (NodeOS) AppleWebKit/"+n+" (KHTML, like Gecko) Nodejs/"+n+" Nodejs/"+n}t=void 0!==Ht?Ht:window,"undefined"==typeof window&&("undefined"==typeof window&&void 0!==Ht&&(Ht.navigator={userAgent:r,getUserMedia:function(){}},t.window=Ht),"undefined"==typeof location&&(t.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(t.screen={width:0,height:0}));var i=window.navigator;void 0!==i?(void 0!==i.webkitGetUserMedia&&(i.getUserMedia=i.webkitGetUserMedia),void 0!==i.mozGetUserMedia&&(i.getUserMedia=i.mozGetUserMedia)):i={getUserMedia:function(){},userAgent:r};var o=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(i.userAgent||""),a=!(-1===i.userAgent.indexOf("Edge")||!i.msSaveOrOpenBlob&&!i.msSaveBlob),s=!!window.opera||i.userAgent.indexOf(" OPR/")>=0,c=i.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(i.userAgent),u=/^((?!chrome|android).)*safari/i.test(i.userAgent),f=!!window.chrome&&!s,l="undefined"!=typeof document&&!!document.documentMode&&!a;function p(e,t){var r=0,n=!1,i=window.setInterval((function(){e()&&(window.clearInterval(i),t(n)),r++>50&&(window.clearInterval(i),t(n=!0))}),10)}var d={Android:function(){return i.userAgent.match(/Android/i)},BlackBerry:function(){return i.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return i.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return i.userAgent.match(/Opera Mini/i)},Windows:function(){return i.userAgent.match(/IEMobile/i)},any:function(){return d.Android()||d.BlackBerry()||d.iOS()||d.Opera()||d.Windows()},getOsName:function(){var e="Unknown OS";return d.Android()&&(e="Android"),d.BlackBerry()&&(e="BlackBerry"),d.iOS()&&(e="iOS"),d.Opera()&&(e="Opera Mini"),d.Windows()&&(e="Windows"),e}};var h="Unknown OS",v="Unknown OS Version";var m,g,y=function(){for(var e,t=i.appVersion,r=i.userAgent,n="-",o=[{s:"Chrome OS",r:/CrOS/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],a=0;e=o[a];a++)if(e.r.test(r)){n=e.s;break}var s="-";switch(/Windows/.test(n)&&(/Windows (.*)/.test(n)&&(s=/Windows (.*)/.exec(n)[1]),n="Windows"),n){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(r)&&(s=/Mac OS X (10[\.\_\d]+)/.exec(r)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(r)&&(s=/Android ([\.\_\d]+)/.exec(r)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(r)&&(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))&&s.length>3&&(s=s[1]+"."+s[2]+"."+(0|s[3]))}return{osName:n,osVersion:s}}();y&&y.osName&&"-"!=y.osName?(h=y.osName,v=y.osVersion):d.any()&&"Android"==(h=d.getOsName())&&(v=!!(g=(m=(m||i.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&g[1]);var b="object"===(0,Ce.Z)($t)&&"object"===(0,Ce.Z)($t.versions)&&$t.versions.node;"Unknown OS"===h&&b&&(h="Nodejs",v=$t.versions.node.toString().replace("v",""));var w=!1,_=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!w&&e in document.createElement("canvas")&&(w=!0),!_&&e in document.createElement("video")&&(_=!0))}));var S=/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/,E=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,x=/[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/;var R=[],T=[],k=[],C=[];i.mediaDevices&&i.mediaDevices.enumerateDevices&&(i.enumerateDevices=function(e){var t=i.mediaDevices.enumerateDevices();t&&t.then?i.mediaDevices.enumerateDevices().then(e).catch((function(){e([])})):e([])});var O=!1;("undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||i.mediaDevices&&i.mediaDevices.enumerateDevices)&&(O=!0);var A=!1,I=!1,L=!1,P=!1,M=!1;var D=window.DetectRTC||{};D.browser=function(){i.appVersion;var e,t,r,n=i.userAgent,o=i.appName,p=""+Le()(i.appVersion),d=Me()(i.appVersion,10);if(s){o="Opera";try{d=(p=i.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(e){p="0.0.0.0",d=0}}else l?((t=n.indexOf("rv:"))>0?p=n.substring(t+3):(t=n.indexOf("MSIE"),p=n.substring(t+5)),o="IE"):f?(t=n.indexOf("Chrome"),o="Chrome",p=n.substring(t+7)):u?-1!==n.indexOf("CriOS")?(t=n.indexOf("CriOS"),o="Chrome",p=n.substring(t+6)):-1!==n.indexOf("FxiOS")?(t=n.indexOf("FxiOS"),o="Firefox",p=n.substring(t+6)):(t=n.indexOf("Safari"),o="Safari",p=n.substring(t+7),-1!==(t=n.indexOf("Version"))&&(p=n.substring(t+8)),-1!==i.userAgent.indexOf("Version/")&&(p=i.userAgent.split("Version/")[1].split(" ")[0])):c?(t=n.indexOf("Firefox"),o="Firefox",p=n.substring(t+8)):(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))&&(o=n.substring(e,t),p=n.substring(t+1),o.toLowerCase()===o.toUpperCase()&&(o=i.appName));return a&&(o="Edge",p=i.userAgent.split("Edge/")[1]),-1!==(r=p.search(/[; \)]/))&&(p=p.substring(0,r)),d=Me()(""+p,10),isNaN(d)&&(p=""+Le()(i.appVersion),d=Me()(i.appVersion,10)),{fullVersion:p,version:d,name:o,isPrivateBrowsing:!1}}(),function(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,(function(){t=!1}),(function(e){t=!0}));else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var r;try{(r=window.indexedDB.open("test")).onerror=function(){return!0}}catch(e){t=!0}void 0===t&&p((function(){return"done"===r.readyState}),(function(e){e||(t=!r.result)}))}else if(function(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var r=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(r&&Me()(r[1],10)>=10)}(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(e){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){t=!0}void 0===t&&(t=!1,window.localStorage.removeItem("test"))}}catch(e){t=!1}p((function(){return void 0!==t}),(function(r){e(t)}))}((function(e){D.browser.isPrivateBrowsing=!!e})),D.browser["is"+D.browser.name]=!0,D.osName=h,D.osVersion=v,"object"===(0,Ce.Z)($t)&&"object"===(0,Ce.Z)($t.versions)&&$t.versions["node-webkit"];var j=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach((function(e){j||e in window&&(j=!0)})),D.isWebRTCSupported=j,D.isORTCSupported="undefined"!=typeof RTCIceGatherer;var U=!1;((D.browser.isChrome&&D.browser.version>=35||D.browser.isFirefox&&D.browser.version>=34||D.browser.isEdge&&D.browser.version>=17||"Android"===D.osName&&D.browser.isChrome)&&(U=!0),(i.getDisplayMedia||i.mediaDevices&&i.mediaDevices.getDisplayMedia)&&(U=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||""))||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(D.browser.isChrome||D.browser.isEdge||D.browser.isOpera)||D.browser.isFirefox)&&(U=!1);D.isScreenCapturingSupported=U;var B={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach((function(e){B.isSupported||e in window&&(B.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(B.isCreateMediaStreamSourceSupported=!0))})),D.isAudioContextSupported=B.isSupported,D.isCreateMediaStreamSourceSupported=B.isCreateMediaStreamSourceSupported;var F=!1;D.browser.isChrome&&D.browser.version>31&&(F=!0),D.isRtpDataChannelsSupported=F;var Z=!1;(D.browser.isFirefox&&D.browser.version>28||D.browser.isChrome&&D.browser.version>25||D.browser.isOpera&&D.browser.version>=11)&&(Z=!0),D.isSctpDataChannelsSupported=Z,D.isMobileDevice=o;var V=!1;(i.getUserMedia||i.mediaDevices&&i.mediaDevices.getUserMedia)&&(V=!0),D.browser.isChrome&&D.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(V="Requires HTTPs"),"Nodejs"===D.osName&&(V=!1),D.isGetUserMediaSupported=V;var q,z,W,G="";screen.width&&(G+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));D.displayResolution=G,D.displayAspectRatio=(q=screen.width,z=screen.height,W=function e(t,r){return 0==r?t:e(r,t%r)}(q,z),q/W/(z/W)).toFixed(2),D.isCanvasSupportsStreamCapturing=w,D.isVideoSupportsStreamCapturing=_,"Chrome"==D.browser.name&&D.browser.version>=53&&(D.isCanvasSupportsStreamCapturing||(D.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),D.isVideoSupportsStreamCapturing||(D.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),D.DetectLocalIPAddress=function(e,t){if(D.isWebRTCSupported){var r=!0,n=!0;!function(e,t){if("undefined"==typeof document||"function"!=typeof document.getElementById)return;var r={},n=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!n){var i=document.getElementById("iframe");if(!i)return;var o=i.contentWindow;n=o.RTCPeerConnection||o.mozRTCPeerConnection||o.webkitRTCPeerConnection}if(!n)return;var a=null;"Chrome"===D.browser&&D.browser.version<58&&(a={optional:[{RtpDataChannels:!0}]});var s=new n({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},a);t&&(s.addStream?s.addStream(t):s.addTrack&&t.getTracks()[0]&&s.addTrack(t.getTracks()[0],t));function c(t){if(t){var n=E.exec(t);if(n){var i=n[1],o=t.match(S),a=!0;void 0===r[i]&&e(i,o,a),r[i]=!0}}else e()}if(s.onicecandidate=function(e){e.candidate&&e.candidate.candidate?c(e.candidate.candidate):c()},!t)try{s.createDataChannel("sctp",{})}catch(e){}D.isPromisesSupported?s.createOffer().then((function(e){s.setLocalDescription(e).then(u)})):s.createOffer((function(e){s.setLocalDescription(e,u,(function(){}))}),(function(){}));function u(){s.localDescription.sdp.split("\n").forEach((function(e){e&&0===e.indexOf("a=candidate:")&&c(e)}))}}((function(t){t?t.match(S)?e("Local: "+t,r=!1,n):t.match(x)?e("Public: "+t,r,n=!1):e("Public: "+t,r,n):e()}),t)}},D.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,D.isWebSocketsBlocked=!D.isWebSocketsSupported,"Nodejs"===D.osName&&(D.isWebSocketsSupported=!0,D.isWebSocketsBlocked=!1),D.checkWebSocketsSupport=function(e){e=e||function(){};try{var t,r=new WebSocket("wss://echo.websocket.org:443/");r.onopen=function(){D.isWebSocketsBlocked=!1,t=(new Date).getTime(),r.send("ping")},r.onmessage=function(){D.WebsocketLatency=(new Date).getTime()-t+"ms",e(),r.close(),r=null},r.onerror=function(){D.isWebSocketsBlocked=!0,e()}}catch(t){D.isWebSocketsBlocked=!0,e()}},D.load=function(e){!function(e){if(O)if(!i.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(i.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!i.enumerateDevices&&i.enumerateDevices&&(i.enumerateDevices=i.enumerateDevices.bind(i)),i.enumerateDevices){R=[],T=[],k=[],C=[],A=!1,I=!1,L=!1,P=!1,M=!1;var t={};i.enumerateDevices((function(r){R=[],T=[],k=[],C=[],r.forEach((function(e){var r={};for(var n in e)try{"function"!=typeof e[n]&&(r[n]=e[n])}catch(e){}t[r.deviceId+r.label+r.kind]||("audio"===r.kind&&(r.kind="audioinput"),"video"===r.kind&&(r.kind="videoinput"),r.deviceId||(r.deviceId=r.id),r.id||(r.id=r.deviceId),r.label?("videoinput"!==r.kind||M||(M=!0),"audioinput"!==r.kind||P||(P=!0)):(r.isCustomLabel=!0,"videoinput"===r.kind?r.label="Camera "+(C.length+1):"audioinput"===r.kind?r.label="Microphone "+(T.length+1):"audiooutput"===r.kind?r.label="Speaker "+(k.length+1):r.label="Please invoke getUserMedia once.",void 0!==D&&D.browser.isChrome&&D.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(r.label="HTTPs is required to get label of this "+r.kind+" device.")),"audioinput"===r.kind&&(A=!0,-1===T.indexOf(r)&&T.push(r)),"audiooutput"===r.kind&&(I=!0,-1===k.indexOf(r)&&k.push(r)),"videoinput"===r.kind&&(L=!0,-1===C.indexOf(r)&&C.push(r)),R.push(r),t[r.deviceId+r.label+r.kind]=r)})),void 0!==D&&(D.MediaDevices=R,D.hasMicrophone=A,D.hasSpeakers=I,D.hasWebcam=L,D.isWebsiteHasWebcamPermissions=M,D.isWebsiteHasMicrophonePermissions=P,D.audioInputDevices=T,D.audioOutputDevices=k,D.videoInputDevices=C),e&&e()}))}else e&&e();else e&&e()}(e=e||function(){})},D.MediaDevices=void 0!==R?R:[],D.hasMicrophone=A,D.hasSpeakers=I,D.hasWebcam=L,D.isWebsiteHasWebcamPermissions=M,D.isWebsiteHasMicrophonePermissions=P,D.audioInputDevices=T,D.audioOutputDevices=k,D.videoInputDevices=C;var $=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&($=!0),D.isSetSinkIdSupported=$;var H=!1;D.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(H=!0):D.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(H=!0),D.isRTPSenderReplaceTracksSupported=H;var K=!1;D.browser.isFirefox&&D.browser.version>38&&(K=!0),D.isRemoteStreamProcessingSupported=K;var Y=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(Y=!0),D.isApplyConstraintsSupported=Y;var J=!1;D.browser.isFirefox&&D.browser.version>=43&&(J=!0),D.isMultiMonitorScreenCapturingSupported=J,D.isPromisesSupported=!!("Promise"in window),D.version="1.4.1",void 0===D&&(window.DetectRTC={});var X=window.MediaStream;void 0===X&&"undefined"!=typeof webkitMediaStream&&(X=webkitMediaStream),D.MediaStream=void 0!==X&&"function"==typeof X&&N()(X.prototype),"undefined"!=typeof MediaStreamTrack?D.MediaStreamTrack=N()(MediaStreamTrack.prototype):D.MediaStreamTrack=!1;var Q=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;D.RTCPeerConnection=void 0!==Q&&N()(Q.prototype),window.DetectRTC=D,e.exports=D}()}(Kt);for(var Yt,Jt="MEDIA",Xt="DEVICE",Qt="MEDIA_STREAM_TRACK",er={error:1,warn:2,info:3,debug:4},tr="error",rr=function(e,t){er[e]<=er[tr]&&console.log(function(e,t){var r=t.ID,n=t.mediaType,i=t.action,o=t.description,a=t.error,s=(new Date).toISOString(),c=a?a.stack?"".concat(a.message,": ").concat(a.stack):"".concat(a):"";return"".concat(s," ").concat(e," ").concat(r||""," ").concat(n," ").concat(i," ").concat(o," ").concat(c).replace(/\s+/g," ").trim()}(e,t))},nr={info:function(e){return rr("info",e)},warn:function(e){return rr("warn",e)},error:function(e){return rr("error",e)},debug:function(e){return rr("debug",e)}},ir=function(e){nr[e]=function(t){var r=t.ID,n=t.mediaType,i=t.action,o=t.description,a=t.error;return tr=e,rr(e,{ID:r,mediaType:n,action:i,description:o,error:a})}},or=0,ar=["info","warn","error","debug"];or<ar.length;or++){ir(ar[or])}function sr(){}function cr(){cr.init.call(this)}function ur(e){return void 0===e._maxListeners?cr.defaultMaxListeners:e._maxListeners}function fr(e,t,r,n){var i,o,a,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]):(o=e._events=new sr,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(i=ur(e))&&i>0&&a.length>i){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,"function"==typeof console.warn?console.warn(s):console.log(s)}}else a=o[t]=r,++e._eventsCount;return e}function lr(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function pr(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function dr(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function hr(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}sr.prototype=De()(null),cr.EventEmitter=cr,cr.usingDomains=!1,cr.prototype.domain=void 0,cr.prototype._events=void 0,cr.prototype._maxListeners=void 0,cr.defaultMaxListeners=10,cr.init=function(){this.domain=null,cr.usingDomains&&undefined.active,this._events&&this._events!==Ue()(this)._events||(this._events=new sr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},cr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},cr.prototype.getMaxListeners=function(){return ur(this)},cr.prototype.emit=function(e){var t,r,n,i,o,a,s,c="error"===e;if(a=this._events)c=c&&null==a.error;else if(!c)return!1;if(s=this.domain,c){if(t=arguments[1],!s){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(r=a[e]))return!1;var f="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=dr(e,n),o=0;o<n;++o)i[o].call(r)}(r,f,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=dr(e,i),a=0;a<i;++a)o[a].call(r,n)}(r,f,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,a=dr(e,o),s=0;s<o;++s)a[s].call(r,n,i)}(r,f,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var a=e.length,s=dr(e,a),c=0;c<a;++c)s[c].call(r,n,i,o)}(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=dr(e,i),a=0;a<i;++a)o[a].apply(r,n)}(r,f,this,i)}return!0},cr.prototype.addListener=function(e,t){return fr(this,e,t,!1)},cr.prototype.on=cr.prototype.addListener,cr.prototype.prependListener=function(e,t){return fr(this,e,t,!0)},cr.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,lr(this,e,t)),this},cr.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,lr(this,e,t)),this},cr.prototype.removeListener=function(e,t){var r,n,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new sr:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new sr,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,a||t)}return this},cr.prototype.off=function(e,t){return this.removeListener(e,t)},cr.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new sr,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new sr:delete r[e]),this;if(0===arguments.length){for(var n,i=N()(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new sr,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},cr.prototype.listeners=function(e){var t,r,n=this._events;return r=n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[],r},cr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):pr.call(e,t)},cr.prototype.listenerCount=pr,cr.prototype.eventNames=function(){return this._eventsCount>0?Fe()(this._events):[]},function(e){e.AUDIO_INPUT="audioinput",e.AUDIO_OUTPUT="audiooutput",e.VIDEO_INPUT="videoinput"}(Yt||(Yt={}));var vr,mr,gr=new(Ve()),yr=(0,o.Z)((function e(t){(0,i.Z)(this,e),vt(this,"ID",void 0),vt(this,"groupID",void 0),vt(this,"label",void 0),vt(this,"kind",void 0),hr(this,gr,{writable:!0,value:void 0}),yt(this,gr,t),this.ID=gt(this,gr).deviceId,this.groupID=gt(this,gr).groupId,this.label=gt(this,gr).label,this.kind=gt(this,gr).kind}));function br(e){nr.debug({ID:e.id,mediaType:Qt,action:"getTrackSettings()",description:"Called"});var t=e.getSettings();if(t)return nr.debug({ID:e.id,mediaType:Qt,action:"getTrackSettings()",description:"Returning track settings ".concat(j()(t))}),t;var r=new Error("Unable to get track settings");return nr.info({ID:e.id,mediaType:Qt,action:"getTrackSettings()",description:r.message,error:r}),{}}function wr(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}!function(e){e.ENDED="ended",e.LIVE="live"}(vr||(vr={})),function(e){e.AUDIO="audio",e.VIDEO="video"}(mr||(mr={}));var _r=new(Ve()),Sr=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this),vt((0,$.Z)(n),"ID",void 0),vt((0,$.Z)(n),"kind",void 0),vt((0,$.Z)(n),"status",void 0),vt((0,$.Z)(n),"muted",void 0),vt((0,$.Z)(n),"label",void 0),wr((0,$.Z)(n),_r,{writable:!0,value:void 0}),n.ID=e.id,n.kind=e.kind,n.status=e.readyState,n.muted=e.muted,n.label=e.label,yt((0,$.Z)(n),_r,e),gt((0,$.Z)(n),_r).onmute=function(){var e=gt((0,$.Z)(n),_r).enabled?"muted":"unmuted";n.emit("track:mute",{action:e})},n}return(0,o.Z)(r,[{key:"stop",value:function(){gt(this,_r).stop(),this.status=vr.ENDED}},{key:"applyConstraints",value:function(e){var t=this;return pt(c().mark((function r(){var n,i,o,a,s,u,f,l,p,d;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(nr.debug({ID:null==e||null===(n=e.deviceId)||void 0===n?void 0:n.toString(),mediaType:Xt,action:"applyConstraints()",description:"Called with ".concat(j()(e))}),nr.info({ID:null==e||null===(i=e.deviceId)||void 0===i?void 0:i.toString(),mediaType:Xt,action:"applyConstraints()",description:"Applying constraints to track objects"}),a=navigator.mediaDevices.getSupportedConstraints(),s=[],u=0,f=N()(e);u<f.length;u++)l=f[u],a[l]||(nr.debug({ID:null==e||null===(p=e.deviceId)||void 0===p?void 0:p.toString(),mediaType:Xt,action:"applyConstraints()",description:"Not suported constraint tracked ".concat(l)}),s.push(l));if(!(s.length>0)){r.next=9;break}return console.warn("#TrackObject Unsupported constraints - ".concat(s.join(", "))),nr.debug({ID:null==e||null===(d=e.deviceId)||void 0===d?void 0:d.toString(),mediaType:Xt,action:"applyConstraints()",description:"Constraints not applied"}),r.abrupt("return",!1);case 9:return r.next=11,gt(t,_r).applyConstraints(e);case 11:return nr.debug({ID:null==e||null===(o=e.deviceId)||void 0===o?void 0:o.toString(),mediaType:Xt,action:"applyConstraints()",description:"Constraints applied successfully"}),r.abrupt("return",!0);case 13:case"end":return r.stop()}}),r)})))()}},{key:"getSettings",value:function(){nr.debug({mediaType:Jt,action:"getSettings()",description:"Called"}),nr.info({mediaType:Jt,action:"getSettings()",description:"Fetching constraints properties for the current media stream track"});var e=br(gt(this,_r));return nr.debug({mediaType:Jt,action:"getSettings()",description:"Received settings ".concat(j()(e))}),e}},{key:"getMediaStreamTrack",value:function(){nr.debug({mediaType:Jt,action:"getMediaStreamTrack()",description:"Called"});var e=gt(this,_r);return nr.debug({mediaType:Jt,action:"getMediaStreamTrack()",description:"Received media stream track ".concat(j()(e))}),e}}]),r}(cr),Er=new cr,xr=[],Rr=function(){var e=pt(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr.debug({mediaType:Xt,action:"getDevices()",description:"Called"}),null!==(t=navigator.mediaDevices)&&void 0!==t&&t.enumerateDevices){e.next=4;break}return console.warn("navigator.mediaDevices.enumerateDevices() is not supported."),e.abrupt("return",[]);case 4:return nr.info({mediaType:Xt,action:"getDevices()",description:"Requesting list of available media input and output devices"}),e.abrupt("return",navigator.mediaDevices.enumerateDevices());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tr=function(){var e=pt(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr.debug({mediaType:Xt,action:"getCameras()",description:"Called"}),e.next=3,Rr();case 3:return t=e.sent,nr.info({mediaType:Xt,action:"getCameras()",description:"Filtering camera devices from all available media devices"}),e.abrupt("return",t.filter((function(e){return e.kind===Yt.VIDEO_INPUT})).map((function(e){return nr.debug({ID:e.deviceId,mediaType:Xt,action:"getCameras()",description:"Received camera device ".concat(j()(e))}),new yr(e)})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kr=function(){var e=pt(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr.debug({mediaType:Xt,action:"getMicrophones()",description:"Called"}),e.next=3,Rr();case 3:return t=e.sent,nr.info({mediaType:Xt,action:"getMicrophones()",description:"Filtering microphones devices from all available media devices"}),e.abrupt("return",t.filter((function(e){return e.kind===Yt.AUDIO_INPUT})).map((function(e){return nr.debug({ID:e.deviceId,mediaType:Xt,action:"getMicrophones()",description:"Received microphone device ".concat(j()(e))}),new yr(e)})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cr=function(){var e=pt(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr.debug({mediaType:Xt,action:"getSpeakers()",description:"Called"}),e.next=3,Rr();case 3:return t=e.sent,nr.info({mediaType:Xt,action:"getSpeakers()",description:"Filtering speaker devices from all available media devices"}),e.abrupt("return",t.filter((function(e){return e.kind===Yt.AUDIO_OUTPUT})).map((function(e){return nr.debug({ID:e.deviceId,mediaType:Xt,action:"getSpeakers()",description:"Received speaker device ".concat(j()(e))}),new yr(e)})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Or(e){nr.debug({mediaType:Jt,action:"getUnsupportedConstraints()",description:"Called with ".concat(j()(e))}),nr.info({mediaType:Jt,action:"getUnsupportedConstraints()",description:"Filtering list of media track unsupported constraints"});var t=navigator.mediaDevices.getSupportedConstraints(),r=[];return N()(e).forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)&&t[e]||r.push(e)})),nr.debug({mediaType:Jt,action:"getUnsupportedConstraints()",description:"Received unsupported constraints ".concat(r)}),r}function Ar(){return(Ar=pt(c().mark((function e(t){var r,n,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr.debug({ID:null==t?void 0:t.ID,mediaType:Xt,action:"createAudioTrack()",description:"Called ".concat(t?"with ".concat(j()(t)):""," ")}),!t||t.kind===Yt.AUDIO_INPUT){e.next=5;break}throw r=new Error("Device ".concat(t.ID," is not of kind AUDIO_INPUT")),nr.error({ID:t.ID,mediaType:"DEVICE",action:"createAudioTrack()",description:r.message,error:r}),r;case 5:return nr.info({ID:null==t?void 0:t.ID,mediaType:Xt,action:"createAudioTrack()",description:"Creating audio track"}),n=t?{audio:{deviceId:{exact:t.ID}}}:{audio:!0,video:!1},e.next=9,navigator.mediaDevices.getUserMedia(n);case 9:if(i=e.sent,!(o=i.getAudioTracks()[0])){e.next=14;break}return nr.debug({ID:null==t?void 0:t.ID,mediaType:Xt,action:"createAudioTrack()",description:"Received audio track ".concat(j()(o))}),e.abrupt("return",new Sr(o));case 14:throw a=new Error("Device could not obtain an audio track of kind ".concat(null==t?void 0:t.kind)),nr.error({ID:null==t?void 0:t.ID,mediaType:"DEVICE",action:"createAudioTrack()",description:a.message,error:a}),a;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(){return(Ir=pt(c().mark((function e(t){var r,n,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr.debug({ID:null==t?void 0:t.ID,mediaType:Xt,action:"createVideoTrack()",description:"Called ".concat(t?"with ".concat(j()(t)):""," ")}),!t||t.kind===Yt.VIDEO_INPUT){e.next=5;break}throw r=new Error("Device ".concat(t.ID," is not of kind VIDEO_INPUT")),nr.error({ID:t.ID,mediaType:"DEVICE",action:"createVideoTrack()",description:r.message,error:r}),r;case 5:return nr.info({ID:null==t?void 0:t.ID,mediaType:Xt,action:"createVideoTrack()",description:"Creating video track"}),n=t?{video:{deviceId:{exact:t.ID}}}:{audio:!1,video:!0},e.next=9,navigator.mediaDevices.getUserMedia(n);case 9:if(i=e.sent,!(o=i.getVideoTracks()[0])){e.next=14;break}return nr.debug({ID:null==t?void 0:t.ID,mediaType:Xt,action:"createVideoTrack()",description:"Received video track ".concat(j()(o))}),e.abrupt("return",new Sr(o));case 14:throw a=new Error("Device could not obtain a video track of kind ".concat(null==t?void 0:t.kind)),nr.error({ID:null==t?void 0:t.ID,mediaType:"DEVICE",action:"createVideoTrack()",description:a.message,error:a}),a;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lr(){return(Lr=pt(c().mark((function e(t){var r,n,i,o,a,s,u,f,l,p,d,h,v,m,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr.debug({ID:null==t||null===(r=t.deviceId)||void 0===r?void 0:r.toString(),mediaType:Xt,action:"createContentTrack()",description:"Called ".concat(t?"with ".concat(j()(t)):""," ")}),nr.info({ID:null==t||null===(n=t.deviceId)||void 0===n?void 0:n.toString(),mediaType:Jt,action:"createContentTrack()",description:"Creating content track"}),o={audio:!1,video:!0},e.prev=3,e.next=6,navigator.mediaDevices.getDisplayMedia(o);case 6:s=e.sent,u=s.getVideoTracks(),f=(0,le.Z)(u,1),a=f[0],e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(3),e.t0 instanceof Error&&nr.error({ID:null==t||null===(l=t.deviceId)||void 0===l?void 0:l.toString(),mediaType:"DEVICE",action:"createContentTrack()",description:e.t0.message,error:e.t0}),e.t0;case 16:if(!t){e.next=26;break}if(!((p=Or(t)).length<=0)){e.next=23;break}a.applyConstraints(t),nr.debug({ID:null==t||null===(d=t.deviceId)||void 0===d?void 0:d.toString(),mediaType:Xt,action:"createContentTrack()",description:"Applied media constraints to fetched content track"}),e.next=26;break;case 23:throw v=new Error("".concat(p.join(", ")," constraint is not supported by browser")),nr.error({ID:null==t||null===(h=t.deviceId)||void 0===h?void 0:h.toString(),mediaType:"DEVICE",action:"createContentTrack()",description:v.message,error:v}),v;case 26:if(!a){e.next=29;break}return nr.debug({ID:null==t||null===(m=t.deviceId)||void 0===m?void 0:m.toString(),mediaType:Xt,action:"createContentTrack()",description:"Received content track ".concat(j()(a))}),e.abrupt("return",new Sr(a));case 29:throw g=new Error("Could not obtain a content track"),nr.error({ID:null==t||null===(i=t.deviceId)||void 0===i?void 0:i.toString(),mediaType:"DEVICE",action:"createContentTrack()",description:g.message,error:g}),g;case 32:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function Pr(){return Mr.apply(this,arguments)}function Mr(){return(Mr=pt(c().mark((function e(){var t,r,n,i,o,a,s,u,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr.debug({mediaType:Xt,action:"deviceChangePublisher()",description:"Called"}),null!==(t=navigator.mediaDevices)&&void 0!==t&&t.enumerateDevices){e.next=4;break}return console.warn("navigator.mediaDevices.enumerateDevices() is not supported."),e.abrupt("return");case 4:return nr.info({mediaType:Xt,action:"deviceChangePublisher()",description:"Calling individual subscription listener obtained by device change event"}),e.next=7,navigator.mediaDevices.enumerateDevices();case 7:r=e.sent,n=[],i=[],o=[],a="changed",s=new(ze()),r.length!==xr.length&&(u=r.length<xr.length?[r,xr,"removed"]:[xr,r,"added"],f=(0,le.Z)(u,3),i=f[0],o=f[1],a=f[2],i.forEach((function(e){s.add(e.groupId)})),n=o.filter((function(e){return!s.has(e.groupId)})),xr.splice(0,xr.length),xr.push.apply(xr,(0,fe.Z)(r)),Er.emit("device:changed",{action:a,devices:n}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(){return(Nr=pt(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr.debug({mediaType:Jt,action:"on()",description:"Subscribing to an ".concat(t,",").concat(r)}),Er.on(t,r),"device:changed"!==t){e.next=8;break}return e.next=5,Rr();case 5:n=e.sent,xr.push.apply(xr,(0,fe.Z)(n)),navigator.mediaDevices.addEventListener("devicechange",Pr);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dr,jr={isModuleAdded:!1,workletProcessorUrl:"https://models.intelligence.webex.com/bnr/1.1.0/noise-reduction-effect.worklet.js"};function Ur(e){if(navigator.mediaDevices.getSupportedConstraints().sampleRate){var t=br(e).sampleRate;if(t&&![16e3,32e3,48e3].includes(t)){var r=new Error("Sample rate of ".concat(t," is not supported."));throw nr.error({ID:e.id,mediaType:Qt,action:"isValidTrack()",description:r.message,error:r}),r}return!0}var n=new Error("Not supported");return nr.info({ID:e.id,mediaType:Qt,action:"isValidTrack()",description:n.message,error:n}),!0}function Br(){return Fr.apply(this,arguments)}function Fr(){return(Fr=pt(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr.info({mediaType:Qt,action:"loadProcessor()",description:"Creating and loading BNR module"}),t=new AudioContext,jr.isModuleAdded=!0,jr.audioContext=t,e.next=6,t.audioWorklet.addModule(jr.workletProcessorUrl);case 6:return jr.workletNode=new AudioWorkletNode(t,"noise-reduction-worklet-processor"),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(){return(Zr=pt(c().mark((function e(t){var r,n,i,o,a,s,u,f,l,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr.debug({ID:t.id,mediaType:Qt,action:"enableBNR()",description:"Called"}),e.prev=1,Ur(t),(r=new MediaStream).addTrack(t),nr.info({ID:t.id,mediaType:Qt,action:"enableBNR()",description:"Checking if BNR module is present already"}),!(i=jr.destinationTrack)||t.id!==i.id){e.next=12;break}throw o="BNR is enabled on the track already",a=new Error(o),nr.error({ID:t.id,mediaType:Qt,action:"enableBNR()",description:o,error:a}),a;case 12:return jr.isModuleAdded&&(nr.debug({ID:t.id,mediaType:Qt,action:"enableBNR()",description:"Disposing existing BNR module"}),(n=jr.workletNode).port.postMessage("DISPOSE")),nr.info({ID:t.id,mediaType:Qt,action:"enableBNR()",description:"Creating worklet node, connecting source and destination streams"}),e.next=16,Br();case 16:return s=e.sent,(n=jr.workletNode).port.postMessage("ENABLE"),jr.sourceNode=s.createMediaStreamSource(r),jr.sourceNode.connect(n),jr.destinationStream=s.createMediaStreamDestination(),n.connect(jr.destinationStream),nr.info({ID:t.id,mediaType:Qt,action:"enableBNR()",description:"Obtaining noise reduced track and returning"}),u=jr.destinationStream.stream,f=u.getAudioTracks(),l=(0,le.Z)(f,1),p=l[0],jr.destinationTrack=p,e.abrupt("return",p);case 30:throw e.prev=30,e.t0=e.catch(1),nr.error({ID:t.id,mediaType:Qt,action:"enableBNR()",description:"Error in enableBNR",error:e.t0}),e.t0;case 34:case"end":return e.stop()}}),e,null,[[1,30]])})))).apply(this,arguments)}!function(e){e[e.MediaConnectionError=30001]="MediaConnectionError",e[e.SdpError=30002]="SdpError",e[e.IceGatheringError=30003]="IceGatheringError",e[e.SdpAnswerHandlingError=30004]="SdpAnswerHandlingError",e[e.SdpOfferCreationError=30005]="SdpOfferCreationError",e[e.SdpOfferHandlingError=30006]="SdpOfferHandlingError"}(Dr||(Dr={}));var Vr=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;(0,i.Z)(this,r);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=t.call(this,e),vt((0,$.Z)(n),"code",void 0),n.name=o.name||"MediaConnectionError",n.cause=o.cause,n.code=o.code||Dr.MediaConnectionError,n}return(0,o.Z)(r)}((0,J.Z)(Error));function qr(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}var zr=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){(0,i.Z)(this,r);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.call(this,e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):qr(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}({code:Dr.SdpError,name:"SdpError"},n))}return(0,o.Z)(r)}(Vr);function Wr(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}var Gr=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){(0,i.Z)(this,r);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.call(this,e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):Wr(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}({code:Dr.IceGatheringError,name:"IceGatheringError"},n))}return(0,o.Z)(r)}(zr);function $r(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}var Hr=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){(0,i.Z)(this,r);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.call(this,e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):$r(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}({code:Dr.SdpAnswerHandlingError,name:"SdpAnswerHandlingError"},n))}return(0,o.Z)(r)}(zr);function Kr(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}var Yr=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){(0,i.Z)(this,r);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.call(this,e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):Kr(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}({code:Dr.SdpOfferCreationError,name:"SdpOfferCreationError"},n))}return(0,o.Z)(r)}(zr);function Jr(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}var Xr,Qr=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){(0,i.Z)(this,r);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.call(this,e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):Jr(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}({code:Dr.SdpOfferHandlingError,name:"SdpOfferHandlingError"},n))}return(0,o.Z)(r)}(zr),en=f()({__proto__:null,get ErrorCode(){return Dr},IceGatheringError:Gr,MediaConnectionError:Vr,SdpAnswerHandlingError:Hr,SdpError:zr,SdpOfferCreationError:Yr,SdpOfferHandlingError:Qr}),tn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(cr),rn={info:function(){var e;return(e=console).info.apply(e,arguments)},log:function(){var e;return(e=console).log.apply(e,arguments)},error:function(){var e;return(e=console).error.apply(e,arguments)},warn:function(){var e;return(e=console).warn.apply(e,arguments)},trace:function(){var e;return(e=console).trace.apply(e,arguments)},debug:function(){var e;return(e=console).debug.apply(e,arguments)}},nn=rn,on=function(e){nn=e||rn},an=function(){return nn},sn=function(e){return e?e.stack?"".concat(e.message,": ").concat(e.stack):"".concat(e):""},cn="\\d+",un="[!#$%&'*+\\-.^_`{|}~a-zA-Z0-9]+",fn="\\S+",ln=".+",pn=(0,o.Z)((function e(){(0,i.Z)(this,e)})),dn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).bandwidthType=e,o.bandwidth=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"b=".concat(this.bandwidthType,":").concat(this.bandwidth)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],Me()(t[2],10))}}}]),r}(pn);Xr=dn,dn.BW_TYPE_REGEX="CT|AS|TIAS",dn.regex=new RegExp("^(".concat(Xr.BW_TYPE_REGEX,"):(").concat(cn,")"));var hn,vn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).mids=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=group:BUNDLE ".concat(this.mids.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1].split(" "))}}]),r}(pn);vn.regex=new RegExp("^group:BUNDLE (".concat(ln,")"));var mn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a,s,c,u,f,l,p){var d;return(0,i.Z)(this,r),(d=t.call(this)).foundation=e,d.componentId=n,d.transport=o,d.priority=a,d.connectionAddress=s,d.port=c,d.candidateType=u,d.relAddr=f,d.relPort=l,d.candidateExtensions=p,d}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=candidate:".concat(this.foundation," ").concat(this.componentId," ").concat(this.transport," ").concat(this.priority," ").concat(this.connectionAddress," ").concat(this.port," typ ").concat(this.candidateType),this.relAddr&&(e+=" raddr ".concat(this.relAddr)),this.relPort&&(e+=" rport ".concat(this.relPort)),this.candidateExtensions&&(e+=" ".concat(this.candidateExtensions)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],Me()(t[2],10),t[3],Me()(t[4],10),t[5],Me()(t[6],10),t[7],t[8],t[9]?Me()(t[9],10):void 0,t[10])}}}]),r}(pn);hn=mn,mn.ICE_CHARS="[a-zA-Z0-9+/]+",mn.regex=new RegExp("^candidate:(".concat(hn.ICE_CHARS,") (").concat(cn,") (").concat(fn,") (").concat(cn,") (").concat(fn,") (").concat(cn,") typ (").concat(fn,")(?: raddr (").concat(fn,"))?(?: rport (").concat(cn,"))?(?: (").concat(ln,"))?"));var gn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o){var a;return(0,i.Z)(this,r),(a=t.call(this)).netType=e,a.addrType=n,a.ipAddr=o,a}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"c=".concat(this.netType," ").concat(this.addrType," ").concat(this.ipAddr)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2],t[3])}}}]),r}(pn);gn.regex=new RegExp("^(".concat(fn,") (").concat(fn,") (").concat(fn,")"));var yn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).values=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=content:".concat(this.values.join(","))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1].split(","))}}]),r}(pn);yn.regex=new RegExp("^content:(".concat(ln,")$"));var bn,wn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).direction=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=".concat(this.direction)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);wn.regex=/^(sendrecv|sendonly|recvonly|inactive)$/;var _n=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this)).id=e,s.uri=n,s.direction=o,s.extensionAttributes=a,s}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=extmap:".concat(this.id),this.direction&&(e+="/".concat(this.direction)),e+=" ".concat(this.uri),this.extensionAttributes&&(e+=" ".concat(this.extensionAttributes)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex),n=Me()(t[1],10),i=t[2];return new r(n,t[3],i,t[4])}}}]),r}(pn);bn=_n,_n.EXTMAP_DIRECTION="sendonly|recvonly|sendrecv|inactive",_n.regex=new RegExp("^extmap:(".concat(cn,")(?:/(").concat(bn.EXTMAP_DIRECTION,"))? (").concat(fn,")(?: (").concat(ln,"))?"));var Sn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).fingerprint=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=fingerprint:".concat(this.fingerprint)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);Sn.regex=new RegExp("^fingerprint:(".concat(ln,")"));var En=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).payloadType=e,o.params=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e=this,t=ve()(this.params.keys()).map((function(t){return void 0!==e.params.get(t)?"".concat(t,"=").concat(e.params.get(t)):"".concat(t)})).join(";");return"a=fmtp:".concat(this.payloadType," ").concat(t)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),function(e){e=e.replace(/^a=fmtp:\d+\x20/,"");var t=new(Xe());return/^\d+([/-]\d+)+$/.test(e)?(t.set(e,void 0),t):(e.split(";").forEach((function(r){var n=r&&r.split("=");if(2!==n.length||!n[0]||!n[1])throw new Error("Fmtp params is invalid with ".concat(e));t.set(n[0],n[1])})),t)}(t[2]))}}}]),r}(pn);En.regex=new RegExp("^fmtp:(".concat(cn,") (").concat(ln,")"));var xn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).options=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ice-options:".concat(this.options.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1].split(" "))}}]),r}(pn);xn.regex=new RegExp("^ice-options:(".concat(ln,")$"));var Rn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).pwd=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ice-pwd:".concat(this.pwd)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);Rn.regex=new RegExp("^ice-pwd:(".concat(fn,")$"));var Tn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).ufrag=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ice-ufrag:".concat(this.ufrag)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);Tn.regex=new RegExp("^ice-ufrag:(".concat(fn,")$"));var kn,Cn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).maxMessageSize=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=max-message-size:".concat(this.maxMessageSize)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10))}}}]),r}(pn);Cn.regex=new RegExp("^max-message-size:(".concat(cn,")"));var On=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this)).type=e,s.port=n,s.protocol=o,s.formats=a,s}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"m=".concat(this.type," ").concat(this.port," ").concat(this.protocol," ").concat(this.formats.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],Me()(t[2],10),t[3],t[4].split(" "))}}}]),r}(pn);kn=On,On.MEDIA_TYPE="audio|video|application",On.regex=new RegExp("^(".concat(kn.MEDIA_TYPE,") (").concat(cn,") (").concat(fn,") (").concat(ln,")"));var An=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).mid=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=mid:".concat(this.mid)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);An.regex=new RegExp("^mid:(".concat(fn,")$"));var In,Ln=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a,s,c){var u;return(0,i.Z)(this,r),(u=t.call(this)).username=e,u.sessionId=n,u.sessionVersion=o,u.netType=a,u.addrType=s,u.ipAddr=c,u}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"o=".concat(this.username," ").concat(this.sessionId," ").concat(this.sessionVersion," ").concat(this.netType," ").concat(this.addrType," ").concat(this.ipAddr)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2],Me()(t[3],10),t[4],t[5],t[6])}}}]),r}(pn);Ln.regex=new RegExp("^(".concat(fn,") (").concat(fn,") (").concat(cn,") (").concat(fn,") (").concat(fn,") (").concat(fn,")"));var Pn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o){var a;return(0,i.Z)(this,r),(a=t.call(this)).id=e,a.direction=n,a.params=o,a}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=rid:".concat(this.id," ").concat(this.direction),this.params&&(e+=" ".concat(this.params)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2],t[3])}}}]),r}(pn);In=Pn,Pn.RID_ID="[\\w-]+",Pn.RID_DIRECTION="\\bsend\\b|\\brecv\\b",Pn.regex=new RegExp("^rid:(".concat(In.RID_ID,") (").concat(In.RID_DIRECTION,")(?:").concat("\\s","(").concat(ln,"))?"));var Mn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=rtcp-mux"}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r}}]),r}(pn);Mn.regex=/^rtcp-mux$/;var Nn,Dn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).payloadType=e,o.feedback=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=rtcp-fb:".concat(this.payloadType," ").concat(this.feedback)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),t[2])}}}]),r}(pn);Dn.regex=new RegExp("^rtcp-fb:(".concat(cn,") (").concat(ln,")"));var jn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this)).payloadType=e,s.encodingName=n,s.clockRate=o,s.encodingParams=a,s}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=rtpmap:".concat(this.payloadType," ").concat(this.encodingName,"/").concat(this.clockRate),this.encodingParams&&(e+="/".concat(this.encodingParams)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),t[2],Me()(t[3],10),t[4])}}}]),r}(pn);Nn=jn,jn.NON_SLASH_TOKEN="[^\\s/]+",jn.regex=new RegExp("^rtpmap:(".concat(cn,") (").concat(Nn.NON_SLASH_TOKEN,")/(").concat(Nn.NON_SLASH_TOKEN,")(?:/(").concat(Nn.NON_SLASH_TOKEN,"))?"));var Un=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).port=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=sctp-port:".concat(this.port)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10))}}}]),r}(pn);Un.regex=new RegExp("^sctp-port:(".concat(cn,")"));var Bn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).info=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"i=".concat(this.info)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);Bn.regex=new RegExp("(".concat(ln,")"));var Fn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).name=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"s=".concat(this.name)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);Fn.regex=new RegExp("^(".concat(ln,")"));var Zn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).setup=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=setup:".concat(this.setup)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(pn);Zn.regex=/^setup:(actpass|active|passive)$/;var Vn=function(){function e(t,r){(0,i.Z)(this,e),this.id=t,this.paused=r}return(0,o.Z)(e,[{key:"toString",value:function(){return this.paused?"~".concat(this.id):this.id}}]),e}(),qn=function(){function e(){(0,i.Z)(this,e),this.layers=[]}return(0,o.Z)(e,[{key:"addLayer",value:function(e){this.layers.push([e])}},{key:"addLayerWithAlternatives",value:function(e){this.layers.push(e)}},{key:"length",get:function(){return this.layers.length}},{key:"get",value:function(e){return this.layers[e]}},{key:"toString",value:function(){return this.layers.map((function(e){return e.map((function(e){return e.toString()})).join(",")})).join(";")}}],[{key:"fromString",value:function(t){var r=new e,n=t.split(";");if(1===n.length&&!n[0].trim())throw new Error("simulcast stream list empty");return n.forEach((function(e){if(!e)throw new Error("simulcast layer list empty");var t=e.split(","),n=[];t.forEach((function(e){if(!e||"~"===e)throw new Error("rid empty");var t="~"===e[0],r=t?e.substring(1):e;n.push(new Vn(r,t))})),r.addLayerWithAlternatives(n)})),r}}]),e}(),zn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).sendLayers=e,o.recvLayers=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="a=simulcast:";return this.sendLayers.length&&(e+="send ".concat(this.sendLayers.toString()),this.recvLayers.length&&(e+=" ")),this.recvLayers.length&&(e+="recv ".concat(this.recvLayers.toString())),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t,n,i=e.match(r.regex),o=i[3]&&i[4],a=i[1],s=qn.fromString(i[2]),c=new qn;if(o){if(a===i[3])return;c=qn.fromString(i[4])}return"send"===a?(t=s,n=c):(t=c,n=s),new r(t,n)}}}]),r}(pn);zn.regex=new RegExp("^simulcast:(send|recv) (".concat(fn,")(?: (send|recv) (").concat(fn,"))?"));var Wn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;(0,i.Z)(this,r);var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(o=t.call(this)).ssrcId=e,o.attribute=n,o.attributeValue=a,o.attributeData=s,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="a=ssrc:".concat(this.ssrcId," ").concat(this.attribute);return this.attributeValue&&(e+=":".concat(this.attributeValue)),this.attributeData&&(e+=" ".concat(this.attributeData)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),t[2],t[3],t[4])}}}]),r}(pn);Wn.regex=new RegExp("^ssrc:(".concat(cn,") (").concat(un,")(?::(").concat(un,")?(?: (").concat(fn,"))?)?$"));var Gn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).semantics=e,o.ssrcs=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ssrc-group:".concat(this.semantics," ").concat(this.ssrcs.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2].split(" ").map((function(e){return Me()(e,10)})))}}}]),r}(pn);Gn.regex=new RegExp("^ssrc-group:(SIM|FID|FEC) ((?:".concat(cn).concat("\\s","*)+)"));var $n=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).startTime=e,o.stopTime=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"t=".concat(this.startTime," ").concat(this.stopTime)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),Me()(t[2],10))}}}]),r}(pn);$n.regex=new RegExp("^(".concat(cn,") (").concat(cn,")"));var Hn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).version=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"v=".concat(this.version)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10))}}}]),r}(pn);Hn.regex=new RegExp("^(".concat(cn,")$"));var Kn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).value=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"".concat(this.value)}}],[{key:"fromSdpLine",value:function(e){return new r(e.match(r.regex)[1])}}]),r}(pn);Kn.regex=new RegExp("(".concat(ln,")"));var Yn=function(){function e(){(0,i.Z)(this,e),this.candidates=[]}return(0,o.Z)(e,[{key:"addLine",value:function(e){return e instanceof Tn?(this.ufrag=e,!0):e instanceof Rn?(this.pwd=e,!0):e instanceof xn?(this.options=e,!0):e instanceof mn&&(this.candidates.push(e),!0)}},{key:"toLines",value:function(){var e=[];return this.ufrag&&e.push(this.ufrag),this.pwd&&e.push(this.pwd),this.options&&e.push(this.options),this.candidates.forEach((function(t){return e.push(t)})),e}}]),e}(),Jn=function(){function e(t,r,n){(0,i.Z)(this,e),this.iceInfo=new Yn,this.otherLines=[],this.type=t,this.port=r,this.protocol=n}return(0,o.Z)(e,[{key:"findOtherLine",value:function(e){return this.otherLines.find((function(t){return t instanceof e}))}},{key:"addLine",value:function(e){if(e instanceof vn)throw new Error("Error: bundle group line not allowed in media description");return e instanceof dn?(this.bandwidth=e,!0):e instanceof An?(this.mid=e.mid,!0):e instanceof Sn?(this.fingerprint=e.fingerprint,!0):e instanceof Zn?(this.setup=e.setup,!0):e instanceof gn?(this.connection=e,!0):e instanceof yn?(this.content=e,!0):this.iceInfo.addLine(e)}}]),e}(),Xn=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e.type,e.port,e.protocol)).fmts=[],n.fmts=e.formats,n}return(0,o.Z)(r,[{key:"toLines",value:function(){var e=[];return e.push(new On(this.type,this.port,this.protocol,this.fmts)),this.connection&&e.push(this.connection),this.bandwidth&&e.push(this.bandwidth),e.push.apply(e,(0,fe.Z)(this.iceInfo.toLines())),this.fingerprint&&e.push(new Sn(this.fingerprint)),this.setup&&e.push(new Zn(this.setup)),this.mid&&e.push(new An(this.mid)),this.content&&e.push(this.content),this.sctpPort&&e.push(new Un(this.sctpPort)),this.maxMessageSize&&e.push(new Cn(this.maxMessageSize)),e.push.apply(e,(0,fe.Z)(this.otherLines)),e}},{key:"addLine",value:function(e){if(ke((0,Y.Z)(r.prototype),"addLine",this).call(this,e))return!0;if(e instanceof On)throw new Error("Error: tried passing a MediaLine to an existing MediaInfo");return e instanceof Un?(this.sctpPort=e.port,!0):e instanceof Cn?(this.maxMessageSize=e.maxMessageSize,!0):(this.otherLines.push(e),!0)}}]),r}(Jn),Qn=function(){function e(t){(0,i.Z)(this,e),this.fmtParams=new(Xe()),this.feedback=[],this.pt=t}return(0,o.Z)(e,[{key:"addLine",value:function(e){if(e instanceof jn)return this.name=e.encodingName,this.clockRate=e.clockRate,this.encodingParams=e.encodingParams,!0;if(e instanceof En){if(this.fmtParams=new(Xe())([].concat((0,fe.Z)(ve()(this.fmtParams.entries())),(0,fe.Z)(ve()(e.params.entries())))),e.params.has("apt")){var t=e.params.get("apt");this.primaryCodecPt=Me()(t,10)}return!0}return e instanceof Dn&&(this.feedback.push(e.feedback),!0)}},{key:"toLines",value:function(){var e=this,t=[];return this.name&&this.clockRate&&t.push(new jn(this.pt,this.name,this.clockRate,this.encodingParams)),this.feedback.forEach((function(r){t.push(new Dn(e.pt,r))})),this.fmtParams.size>0&&t.push(new En(this.pt,this.fmtParams)),t}}]),e}(),ei=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e.type,e.port,e.protocol)).pts=[],n.extMaps=[],n.rids=[],n.codecs=new(Xe()),n.rtcpMux=!1,n.ssrcs=[],n.ssrcGroups=[],n.pts=e.formats.map((function(e){return Me()(e,10)})),n.pts.forEach((function(e){return n.codecs.set(e,new Qn(e))})),n}return(0,o.Z)(r,[{key:"toLines",value:function(){var e=[];return e.push(new On(this.type,this.port,this.protocol,this.pts.map((function(e){return"".concat(e)})))),this.connection&&e.push(this.connection),this.bandwidth&&e.push(this.bandwidth),e.push.apply(e,(0,fe.Z)(this.iceInfo.toLines())),this.fingerprint&&e.push(new Sn(this.fingerprint)),this.setup&&e.push(new Zn(this.setup)),this.mid&&e.push(new An(this.mid)),this.rtcpMux&&e.push(new Mn),this.content&&e.push(this.content),this.extMaps.forEach((function(t){return e.push(t)})),this.rids.forEach((function(t){return e.push(t)})),this.simulcast&&e.push(this.simulcast),this.direction&&e.push(new wn(this.direction)),this.codecs.forEach((function(t){return e.push.apply(e,(0,fe.Z)(t.toLines()))})),e.push.apply(e,(0,fe.Z)(this.ssrcs)),e.push.apply(e,(0,fe.Z)(this.ssrcGroups)),e.push.apply(e,(0,fe.Z)(this.otherLines)),e}},{key:"addLine",value:function(e){if(ke((0,Y.Z)(r.prototype),"addLine",this).call(this,e))return!0;if(e instanceof On)throw new Error("Error: tried passing a MediaLine to an existing MediaInfo");if(e instanceof wn)return this.direction=e.direction,!0;if(e instanceof _n)return this.extMaps.push(e),!0;if(e instanceof Pn)return this.rids.push(e),!0;if(e instanceof Mn)return this.rtcpMux=!0,!0;if(e instanceof zn)return this.simulcast=e,!0;if(e instanceof jn||e instanceof En||e instanceof Dn){var t=this.codecs.get(e.payloadType);if(!t)throw new Error("Error: got line for unknown codec: ".concat(e.toSdpLine()));return t.addLine(e),!0}return e instanceof Wn?(this.ssrcs.push(e),!0):e instanceof Gn?(this.ssrcGroups.push(e),!0):(this.otherLines.push(e),!0)}},{key:"getCodecByPt",value:function(e){return this.codecs.get(e)}},{key:"removePt",value:function(e){var t=this,r=(0,fe.Z)(this.codecs.values()).filter((function(t){return t.primaryCodecPt===e})).map((function(e){return e.pt})),n=[e].concat((0,fe.Z)(r));n.forEach((function(e){t.codecs.delete(e)})),this.pts=this.pts.filter((function(e){return-1===n.indexOf(e)}))}}]),r}(Jn),ti=function(){function e(){(0,i.Z)(this,e),this.groups=[],this.otherLines=[]}return(0,o.Z)(e,[{key:"addLine",value:function(e){return e instanceof Hn?(this.version=e,!0):e instanceof Ln?(this.origin=e,!0):e instanceof Fn?(this.sessionName=e,!0):e instanceof Bn?(this.information=e,!0):e instanceof $n?(this.timing=e,!0):e instanceof gn?(this.connection=e,!0):e instanceof dn?(this.bandwidth=e,!0):e instanceof vn?(this.groups.push(e),!0):(this.otherLines.push(e),!0)}},{key:"toLines",value:function(){var e=[];return this.version&&e.push(this.version),this.origin&&e.push(this.origin),this.sessionName&&e.push(this.sessionName),this.information&&e.push(this.information),this.connection&&e.push(this.connection),this.bandwidth&&e.push(this.bandwidth),this.timing&&e.push(this.timing),this.groups&&e.push.apply(e,(0,fe.Z)(this.groups)),e.push.apply(e,(0,fe.Z)(this.otherLines)),e}}]),e}(),ri=function(){function e(){(0,i.Z)(this,e),this.session=new ti,this.media=[]}return(0,o.Z)(e,[{key:"avMedia",get:function(){return this.media.filter((function(e){return e instanceof ei}))}},{key:"toString",value:function(){var e=[];return e.push.apply(e,(0,fe.Z)(this.session.toLines())),this.media.forEach((function(t){return e.push.apply(e,(0,fe.Z)(t.toLines()))})),"".concat(e.map((function(e){return e.toSdpLine()})).join("\r\n"),"\r\n")}}]),e}(),ni=new(function(e){(0,H.Z)(r,e);var t=_t(r);function r(){var e;return(0,i.Z)(this,r),(e=t.call(this)).addParser("v",Hn.fromSdpLine),e.addParser("o",Ln.fromSdpLine),e.addParser("c",gn.fromSdpLine),e.addParser("i",Bn.fromSdpLine),e.addParser("m",On.fromSdpLine),e.addParser("s",Fn.fromSdpLine),e.addParser("t",$n.fromSdpLine),e.addParser("b",dn.fromSdpLine),e.addParser("a",jn.fromSdpLine),e.addParser("a",Dn.fromSdpLine),e.addParser("a",En.fromSdpLine),e.addParser("a",wn.fromSdpLine),e.addParser("a",_n.fromSdpLine),e.addParser("a",An.fromSdpLine),e.addParser("a",Tn.fromSdpLine),e.addParser("a",Rn.fromSdpLine),e.addParser("a",xn.fromSdpLine),e.addParser("a",Sn.fromSdpLine),e.addParser("a",Zn.fromSdpLine),e.addParser("a",Un.fromSdpLine),e.addParser("a",Cn.fromSdpLine),e.addParser("a",Mn.fromSdpLine),e.addParser("a",vn.fromSdpLine),e.addParser("a",yn.fromSdpLine),e.addParser("a",Pn.fromSdpLine),e.addParser("a",mn.fromSdpLine),e.addParser("a",zn.fromSdpLine),e.addParser("a",Wn.fromSdpLine),e.addParser("a",Gn.fromSdpLine),e}return(0,o.Z)(r)}(function(){function e(){(0,i.Z)(this,e),this.parsers=new(Xe())}return(0,o.Z)(e,[{key:"addParser",value:function(e,t){var r=this.parsers.get(e)||[];r.push(t),this.parsers.set(e,r)}},{key:"getParsers",value:function(e){return this.parsers.get(e)||[]}}]),e}()));function ii(e){return e.length>2}function oi(e){var t=function(e,t){var r=[];return e.split(/(\r\n|\r|\n)/).filter(ii).forEach((function(e){var n,i=e[0],o=e.slice(2),a=bt(t.getParsers(i));try{for(a.s();!(n=a.n()).done;){var s=(0,n.value)(o);if(s)return void r.push(s)}}catch(e){a.e(e)}finally{a.f()}var c=Kn.fromSdpLine(e);r.push(c)})),r}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni),r=function(e){var t=new ri,r=t.session;return e.forEach((function(e){if(e instanceof On){var n;if("audio"===e.type||"video"===e.type)n=new ei(e);else{if("application"!==e.type)throw new Error("Unhandled media type: ".concat(e.type));n=new Xn(e)}t.media.push(n),r=n}else r.addLine(e)})),t}(t);return r}function ai(e,t,r){var n=function(){var e=!!r;return e&&t?"sendrecv":e&&!t?"sendonly":!e&&t?"recvonly":"inactive"}();return{trackOrKind:r||e,direction:n}}function si(e){var t,r=bt(e.codecs.values());try{for(r.s();!(t=r.n()).done;){var n;if("H264"===(null===(n=t.value.name)||void 0===n?void 0:n.toUpperCase()))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}var ci=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this),vt((0,$.Z)(n),"value",void 0),n.value=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=".concat(this.value)}}],[{key:"fromSdpLine",value:function(){}}]),r}(pn);function ui(e){e.avMedia.forEach((function(e){e.extMaps.length=0}))}function fi(e,t){var r=oi(t);return e.disableRtx&&function(e){e.avMedia.forEach((function(e){var t=[];e.codecs.forEach((function(e,r){"rtx"===e.name&&e.primaryCodecPt&&t.push(r)})),t.forEach((function(t){return e.codecs.delete(t)})),e.pts=e.pts.filter((function(e){return!t.includes(e)}))}))}(r),r.toString()}function li(e,t){var r=oi(t);return e.convertCLineToIPv4&&function(e){var t=function(e){"IP6"===(null==e?void 0:e.addrType)&&(e.addrType="IP4",e.ipAddr="0.0.0.0")};t(e.session.connection),e.media.forEach((function(e){t(e.connection)}))}(r),e.bandwidthLimits&&function(e,t){e.avMedia.forEach((function(e){"audio"===e.type?e.addLine(new dn("TIAS",t.audio)):"video"===e.type&&e.addLine(new dn("TIAS",t.video))}))}(r,e.bandwidthLimits),e.periodicKeyframes&&function(e,t){e.avMedia.forEach((function(e){"video"===e.type&&e.addLine(new ci("periodic-keyframes:".concat(t)))}))}(r,e.periodicKeyframes),e.convertPort9to0&&function(e){e.media.forEach((function(e){9===e.port&&(e.port=0)}))}(r),e.addContentSlides&&function(e){var t=e.avMedia.filter((function(e){return"video"===e.type}));2===t.length&&t[1].addLine(new yn(["slides"]))}(r),e.disableExtmap&&ui(r),e.h264MaxFs&&function(e,t){var r={10:99,11:396,12:396,13:396,20:396,21:792,22:1620,30:1620,31:3600,32:5120,40:8192,41:8192,42:8704,50:22080,51:36864,52:36864,60:139264,61:139264,62:139264};e.avMedia.forEach((function(e){"video"===e.type&&e.codecs.forEach((function(e){var n;if("H264"===(null===(n=e.name)||void 0===n?void 0:n.toUpperCase())){var i=e.fmtParams.get("profile-level-id");if(i){var o=i.substring(0,4).toLowerCase(),a=Me()(i.substring(4,6),16);if(!r[a])throw new Error("found unsupported h264 profile level id value in the SDP: ".concat(a));if(r[a]===t)return;if(r[a]<t)return e.fmtParams.set("max-fs","".concat(t)),void e.fmtParams.set("max-mbps","".concat(30*t));var s=N()(r).reverse().find((function(e){return r[e]===t}));if(s){var c=Me()(s,10).toString(16);return e.fmtParams.set("profile-level-id","".concat(o).concat(c)),void e.fmtParams.set("max-mbps","".concat(30*t))}throw new Error("unsupported maxFsValue: ".concat(t))}}}))}))}(r,e.h264MaxFs),r.toString()}function pi(e,t){var r=oi(t);return e.startBitrate&&function(e,t){!function(e,t){e.avMedia.forEach((function(e){"video"===e.type&&e.codecs.forEach((function(e){var r;"H264"===(null===(r=e.name)||void 0===r?void 0:r.toUpperCase())&&t.forEach((function(t,r){return e.fmtParams.set(r,t)}))}))}))}(e,new(Xe())([["x-google-start-bitrate",t.toString()]]))}(r,e.startBitrate),e.disableExtmap&&ui(r),function(e){e.media.forEach((function(e){e.iceInfo.candidates=e.iceInfo.candidates.filter((function(e){return"xtls"!==e.transport.toLowerCase()}))}))}(r),r.toString()}function di(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!_e()(t)&&N()(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Te()(t,r);Ae()(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),f()(e)}function hi(e,t,r,n){return new(r||(r=B()))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}var vi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Et?Et:"undefined"!=typeof self?self:{},mi={exports:{}};!function(e){!function(t){var r,n={};n.VERSION="1.6.1";var i={},o=function(e,t){return function(){return t.apply(e,arguments)}},a=function(){var e,t,r=arguments,n=r[0];for(t=1;t<r.length;t++)for(e in r[t])!(e in n)&&r[t].hasOwnProperty(e)&&(n[e]=r[t][e]);return n},s=function(e,t){return{value:e,name:t}};n.TRACE=s(1,"TRACE"),n.DEBUG=s(2,"DEBUG"),n.INFO=s(3,"INFO"),n.TIME=s(4,"TIME"),n.WARN=s(5,"WARN"),n.ERROR=s(8,"ERROR"),n.OFF=s(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(n.TRACE,arguments)},debug:function(){this.invoke(n.DEBUG,arguments)},info:function(){this.invoke(n.INFO,arguments)},warn:function(){this.invoke(n.WARN,arguments)},error:function(){this.invoke(n.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"end"])},invoke:function(e,t){r&&this.enabledFor(e)&&r(t,a({level:e},this.context))}};var u,f=new c({filterLevel:n.OFF});(u=n).enabledFor=o(f,f.enabledFor),u.trace=o(f,f.trace),u.debug=o(f,f.debug),u.time=o(f,f.time),u.timeEnd=o(f,f.timeEnd),u.info=o(f,f.info),u.warn=o(f,f.warn),u.error=o(f,f.error),u.log=u.info,n.setHandler=function(e){r=e},n.setLevel=function(e){for(var t in f.setLevel(e),i)i.hasOwnProperty(t)&&i[t].setLevel(e)},n.getLevel=function(){return f.getLevel()},n.get=function(e){return i[e]||(i[e]=new c(a({name:e},f.context)))},n.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},r=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,o){i=Array.prototype.slice.call(i);var a,s=console.log;o.level===n.TIME?(a=(o.name?"["+o.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):r(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(o.level===n.WARN&&console.warn?s=console.warn:o.level===n.ERROR&&console.error?s=console.error:o.level===n.INFO&&console.info?s=console.info:o.level===n.DEBUG&&console.debug?s=console.debug:o.level===n.TRACE&&console.trace&&(s=console.trace),e.formatter(i,o),r(s,i))}},n.useDefaults=function(e){n.setLevel(e&&e.defaultLevel||n.DEBUG),n.setHandler(n.createDefaultHandler(e))},n.setDefaults=n.useDefaults,e.exports?e.exports=n:(n._prevLogger=t.Logger,n.noConflict=function(){return t.Logger=n._prevLogger,n},t.Logger=n)}(vi)}(mi);var gi,yi=mi.exports,bi=yi.get("webrtc-core");function wi(e){return hi(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",navigator.mediaDevices.getUserMedia(e));case 1:case"end":return t.stop()}}),t)})))}function _i(e){return navigator.mediaDevices.getDisplayMedia(e)}function Si(){return hi(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",navigator.mediaDevices.enumerateDevices());case 1:case"end":return e.stop()}}),e)})))}function Ei(e){return hi(this,void 0,void 0,c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],e.includes(gi.VideoInput)&&r.push(navigator.permissions.query({name:"camera"})),e.includes(gi.AudioInput)&&r.push(navigator.permissions.query({name:"microphone"})),t.abrupt("return",B().all(r));case 4:case"end":return t.stop()}}),t)})))}function xi(e){return hi(this,void 0,void 0,c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ei(e);case 3:if(!t.sent.every((function(e){return"granted"===e.state}))){t.next=6;break}return t.abrupt("return",!0);case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,t.next=13,Si();case 13:return r=t.sent,t.abrupt("return",r.filter((function(t){return e.includes(t.kind)})).every((function(e){return e.label})));case 17:t.prev=17,t.t1=t.catch(10);case 19:return t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,null,[[0,8],[10,17]])})))}function Ri(e,t){return hi(this,void 0,void 0,c().mark((function r(){var n,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,xi(e);case 3:if(r.sent){r.next=13;break}return r.next=7,wi({audio:e.includes(gi.AudioInput),video:e.includes(gi.VideoInput)});case 7:return n=r.sent,r.next=10,t();case 10:return i=r.sent,n.getTracks().forEach((function(e){return e.stop()})),r.abrupt("return",i);case 13:return r.abrupt("return",t());case 16:throw r.prev=16,r.t0=r.catch(0),bi.error(r.t0),new Error("Failed to ensure device permissions.");case 20:case"end":return r.stop()}}),r,null,[[0,16]])})))}bi.setLevel(yi.DEBUG),function(e){e.AudioInput="audioinput",e.AudioOutput="audiooutput",e.VideoInput="videoinput"}(gi||(gi={}));var Ti,ki=f()({__proto__:null,get DeviceKind(){return gi},getUserMedia:wi,getDisplayMedia:_i,enumerateDevices:Si,setOnDeviceChangeHandler:function(e){navigator.mediaDevices.ondevicechange=e},checkDevicePermissions:xi,ensureDevicePermissions:Ri}),Ci={exports:{}},Oi="object"===("undefined"==typeof Reflect?"undefined":(0,Ce.Z)(Reflect))?Reflect:null,Ai=Oi&&"function"==typeof et()?et():function(e,t,r){return Function.prototype.apply.call(e,t,r)};Ti=Oi&&"function"==typeof Fe()?Fe():Ge()?function(e){return rt()(e).concat(Ge()(e))}:function(e){return rt()(e)};var Ii=it()||function(e){return e!=e};function Li(){Li.init.call(this)}Ci.exports=Li,Ci.exports.once=function(e,t){return new(B())((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}Vi(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&Vi(e,"error",t,r)}(e,i,{once:!0})}))},Li.EventEmitter=Li,Li.prototype._events=void 0,Li.prototype._eventsCount=0,Li.prototype._maxListeners=void 0;var Pi=10;function Mi(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,Ce.Z)(e))}function Ni(e){return void 0===e._maxListeners?Li.defaultMaxListeners:e._maxListeners}function Di(e,t,r,n){var i,o,a,s;if(Mi(r),void 0===(o=e._events)?(o=e._events=De()(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=Ni(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function ji(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ui(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=ji.bind(n);return i.listener=r,n.wrapFn=i,i}function Bi(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):Zi(i,i.length)}function Fi(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Zi(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Vi(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,Ce.Z)(e));e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Ae()(Li,"defaultMaxListeners",{enumerable:!0,get:function(){return Pi},set:function(e){if("number"!=typeof e||e<0||Ii(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Pi=e}}),Li.init=function(){void 0!==this._events&&this._events!==Ue()(this)._events||(this._events=De()(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Li.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Ii(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Li.prototype.getMaxListeners=function(){return Ni(this)},Li.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)Ai(s,this,t);else{var c=s.length,u=Zi(s,c);for(r=0;r<c;++r)Ai(u[r],this,t)}return!0},Li.prototype.addListener=function(e,t){return Di(this,e,t,!1)},Li.prototype.on=Li.prototype.addListener,Li.prototype.prependListener=function(e,t){return Di(this,e,t,!0)},Li.prototype.once=function(e,t){return Mi(t),this.on(e,Ui(this,e,t)),this},Li.prototype.prependOnceListener=function(e,t){return Mi(t),this.prependListener(e,Ui(this,e,t)),this},Li.prototype.removeListener=function(e,t){var r,n,i,o,a;if(Mi(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=De()(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},Li.prototype.off=Li.prototype.removeListener,Li.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=De()(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=De()(null):delete r[e]),this;if(0===arguments.length){var i,o=N()(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=De()(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},Li.prototype.listeners=function(e){return Bi(this,e,!0)},Li.prototype.rawListeners=function(e){return Bi(this,e,!1)},Li.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Fi.call(e,t)},Li.prototype.listenerCount=Fi,Li.prototype.eventNames=function(){return this._eventsCount>0?Ti(this._events):[]};var qi,zi=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(Ci.exports.EventEmitter);!function(e){e.Ended="ended",e.Muted="muted",e.PublishedStateUpdate="published-state-update",e.UnderlyingTrackChange="underlying-track-change",e.TrackConstraintsChange="track-constraints-change"}(qi||(qi={}));var Wi=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).isPublished=!1,n.effects=new(Xe()),n.originalStream=e,n.underlyingStream=e,n.label=n.underlyingStream.getTracks()[0].label,n.underlyingTrack.onended=function(){n.emit(qi.Ended,{trackState:n.trackState})},n}return(0,o.Z)(r,[{key:"kind",get:function(){return this.underlyingTrack.kind}},{key:"id",get:function(){return this.underlyingTrack.id}},{key:"muted",get:function(){return!this.underlyingTrack.enabled}},{key:"published",get:function(){return this.isPublished}},{key:"underlyingStream",get:function(){return this._underlyingStream},set:function(e){this._underlyingStream=e}},{key:"trackState",get:function(){return{id:this.id,label:this.label,type:this.kind,muted:this.muted}}},{key:"underlyingTrack",get:function(){return this._underlyingStream.getTracks()[0]}},{key:"originalTrack",get:function(){return this.originalStream.getTracks()[0]}},{key:"setMuted",value:function(e){this.underlyingTrack.enabled===e&&(this.originalTrack.enabled=!e,this.underlyingTrack.enabled=!e,this.emit(qi.Muted,{trackState:this.trackState}),bi.log("Local track ".concat(e?"muted":"unmuted",":"),{trackState:this.trackState}))}},{key:"setPublished",value:function(e){this.isPublished!==e&&(this.isPublished=e,this.emit(qi.PublishedStateUpdate,{trackState:this.trackState,isPublished:e}),bi.log("Local track ".concat(e?"published":"unpublished",":"),{trackState:this.trackState}))}},{key:"stop",value:function(){this.originalTrack.stop(),this.underlyingTrack.stop(),this.emit(qi.Ended,{trackState:this.trackState}),bi.log("Local track stopped:",{trackState:this.trackState})}},{key:"addEffect",value:function(e,t){return hi(this,void 0,void 0,c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.load(this.underlyingStream);case 2:this.underlyingStream=t.getUnderlyingStream(),this.effects.set(e,t),this.emit(qi.UnderlyingTrackChange);case 5:case"end":return r.stop()}}),r,this)})))}},{key:"getEffect",value:function(e){var t=this.effects.get(e);return t||bi.log("No effect found with name '".concat(e,"'")),t}},{key:"disposeEffects",value:function(){this.effects.size>0&&(this.effects.forEach((function(e){return e.dispose()})),this.effects.clear(),this.underlyingStream=this.originalStream,this.emit(qi.UnderlyingTrackChange))}},{key:"applyConstraints",value:function(e){return hi(this,void 0,void 0,c().mark((function t(){var r,n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return bi.log("Applying constraints to local track:",e),r=this.underlyingTrack.applyConstraints(e).then((function(){n.emit(qi.TrackConstraintsChange)})),t.abrupt("return",r);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getConstraints",value:function(){return this.underlyingTrack.getConstraints()}},{key:"getSettings",value:function(){return this.underlyingTrack.getSettings()}},{key:"getNumActiveSimulcastLayers",value:function(){var e=0;if("audio"===this.trackState.type)return e;var t=this.underlyingTrack.getSettings().height;return e=t<=180?1:t<=360?2:3}}]),r}(zi);Wi.Events=qi;var Gi,$i=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(Wi),Hi=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(Wi),Ki=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(Wi);!function(e){e.DEVICE_PERMISSION_DENIED="DEVICE_PERMISSION_DENIED",e.CREATE_CAMERA_TRACK_FAILED="CREATE_CAMERA_TRACK_FAILED",e.CREATE_MICROPHONE_TRACK_FAILED="CREATE_MICROPHONE_TRACK_FAILED"}(Gi||(Gi={}));var Yi=(0,o.Z)((function e(t){(0,i.Z)(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.type=t,this.message=r}));function Ji(e){return hi(this,void 0,void 0,c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wi({video:at()({},e)});case 3:r=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Yi(Gi.CREATE_CAMERA_TRACK_FAILED,"Failed to create camera track ".concat(t.t0));case 9:return t.abrupt("return",new $i(r));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))}function Xi(e){return hi(this,void 0,void 0,c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wi({audio:at()({},e)});case 3:r=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Yi(Gi.CREATE_MICROPHONE_TRACK_FAILED,"Failed to create microphone track ".concat(t.t0));case 9:return t.abrupt("return",new Ki(r));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))}function Qi(){return hi(this,void 0,void 0,c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i({video:!0});case 2:return t=e.sent,e.abrupt("return",new Hi(t));case 4:case"end":return e.stop()}}),e)})))}function eo(e){return hi(this,void 0,void 0,c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ri([gi.AudioInput,gi.VideoInput],Si);case 3:r=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Yi(Gi.DEVICE_PERMISSION_DENIED,"Failed to ensure device permissions");case 9:return t.abrupt("return",r.filter((function(t){return!e||t.kind===e})));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))}function to(){return hi(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eo(gi.AudioInput));case 1:case"end":return e.stop()}}),e)})))}function ro(){return hi(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eo(gi.AudioOutput));case 1:case"end":return e.stop()}}),e)})))}function no(){return hi(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eo(gi.VideoInput));case 1:case"end":return e.stop()}}),e)})))}var io,oo,ao=ki.setOnDeviceChangeHandler;!function(e){e.New="New",e.Closed="Closed",e.Connected="Connected",e.Connecting="Connecting",e.Disconnected="Disconnected",e.Failed="Failed"}(io||(io={})),function(e){e.ConnectionStateChanged="ConnectionStateChanged"}(oo||(oo={}));var so=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).getCurrentStatesCallback=e,n.mediaConnectionState=n.evaluateMediaConnectionState(),n}return(0,o.Z)(r,[{key:"onConnectionStateChange",value:function(){this.handleAnyConnectionStateChange()}},{key:"onIceConnectionStateChange",value:function(){this.handleAnyConnectionStateChange()}},{key:"handleAnyConnectionStateChange",value:function(){var e=this.evaluateMediaConnectionState();e!==this.mediaConnectionState&&(this.mediaConnectionState=e,this.emit(oo.ConnectionStateChanged,this.mediaConnectionState))}},{key:"evaluateMediaConnectionState",value:function(){var e,t=this.getCurrentStatesCallback(),r=t.connectionState,n=t.iceState,i=[r,n];return e=i.every((function(e){return"new"===e}))?io.New:i.some((function(e){return"closed"===e}))?io.Closed:i.some((function(e){return"failed"===e}))?io.Failed:i.some((function(e){return"disconnected"===e}))?io.Disconnected:i.every((function(e){return"connected"===e||"completed"===e}))?io.Connected:io.Connecting,bi.log("iceConnectionState=".concat(n," connectionState=").concat(r," => ").concat(this.mediaConnectionState)),e}},{key:"getConnectionState",value:function(){return this.mediaConnectionState}}]),r}(zi);so.Events=oo;var co=!0,uo=!0;function fo(e,t,r){var n=e.match(t);return n&&n.length>=r&&Me()(n[r],10)}function lo(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new(Xe())),this._eventMap[t].set(n,o),i.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(r))return o.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===N()(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Ae()(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function po(e){return"boolean"!=typeof e?new Error("Argument type: "+(0,Ce.Z)(e)+". Please use a boolean."):(co=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function ho(e){return"boolean"!=typeof e?new Error("Argument type: "+(0,Ce.Z)(e)+". Please use a boolean."):(uo=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function vo(){if("object"===("undefined"==typeof window?"undefined":(0,Ce.Z)(window))){if(co)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function mo(e,t){uo&&console.warn(e+" is deprecated, please use "+t+" instead.")}function go(e){return"[object Object]"===Object.prototype.toString.call(e)}function yo(e){return go(e)?N()(e).reduce((function(t,r){var n=go(e[r]),i=n?yo(e[r]):e[r],o=n&&!N()(i).length;return void 0===i||o?t:at()(t,(0,a.Z)({},r,i))}),{}):e}function bo(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),N()(t).forEach((function(n){n.endsWith("Id")?bo(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){bo(e,e.get(t),r)}))})))}function wo(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",i=new(Xe());if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&bo(e,r,i)}))})),i}var _o=vo;function So(e,t){var r=e&&e.navigator;if(r.mediaDevices){var n=function(e){if("object"!==(0,Ce.Z)(e)||e.mandatory||e.optional)return e;var t={};return N()(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===(0,Ce.Z)(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var o={};"number"==typeof n.ideal?(o[i("min",r)]=n.ideal,t.optional.push(o),(o={})[i("max",r)]=n.ideal,t.optional.push(o)):(o[i("",r)]=n.ideal,t.optional.push(o))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(j()(e)))&&"object"===(0,Ce.Z)(e.audio)){var o=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};o((e=JSON.parse(j()(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===(0,Ce.Z)(e.video)){var a=e.video.facingMode;a=a&&("object"===(0,Ce.Z)(a)?a:{ideal:a});var s,c=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?s=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(s=["front"]),s)return r.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&s.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=a.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),_o("chrome: "+j()(e)),i(e)}));e.video=n(e.video)}return _o("chrome: "+j()(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){i(e,(function(e){r.webkitGetUserMedia(e,t,(function(e){n&&n(o(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){var a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return a(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return B().reject(o(e))}))}))}}}}function Eo(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function xo(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Ae()(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)})),t.stream.getTracks().forEach((function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else lo(e,"track",(function(e){return e.transceiver||Ae()(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function Ro(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Ae()(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function To(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,r=Array.prototype.slice.call(arguments),n=r[0],i=r[1],o=r[2];if(arguments.length>0&&"function"==typeof n)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof n))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},s=function(e){return new(Xe())(N()(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){return t.apply(this,[function(e){i(s(a(e)))},n])}return new(B())((function(r,n){t.apply(e,[function(e){r(s(a(e)))},n])})).then(i,o)}}}function ko(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return wo(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=n.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),lo(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return wo(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,o=arguments[0];return this.getSenders().forEach((function(e){e.track===o&&(t?n=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===o&&(r?n=!0:r=e),e.track===o})),n||t&&r?B().reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():B().reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function Co(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},N()(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();r.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&N()(this._shimmedLocalStreams).forEach((function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),i.apply(this,arguments)}}function Oo(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Co(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[r.id];if(o)o.addTrack(t),B().resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[r.id]=a,this._reverseStreams[a.id]=r,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=(0,a.Z)({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=c(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return c(e,t)}))}));e.RTCPeerConnection.prototype[t]=n[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var r=t.sdp;return N()(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var s=Te()(e.RTCPeerConnection.prototype,"localDescription");Ae()(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},N()(this._streams).forEach((function(n){r._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=r._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var r=t.sdp;return N()(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}}function Ao(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=(0,a.Z)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}))}function Io(e,t){lo(e,"negotiationneeded",(function(e){var r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}var Lo=f()({__proto__:null,shimMediaStream:Eo,shimOnTrack:xo,shimGetSendersWithDtmf:Ro,shimGetStats:To,shimSenderReceiverGetStats:ko,shimAddTrackRemoveTrackWithNative:Co,shimAddTrackRemoveTrack:Oo,shimPeerConnection:Ao,fixNegotiationNeeded:Io,shimGetUserMedia:So,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var n=r.video&&r.video.width,i=r.video&&r.video.height,o=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(r.video.mandatory.maxWidth=n),i&&(r.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}});function Po(e,t){var r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){mo("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var i=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===(0,Ce.Z)(e)&&"object"===(0,Ce.Z)(e.audio)&&(e=JSON.parse(j()(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},n&&n.prototype.getSettings){var a=n.prototype.getSettings;n.prototype.getSettings=function(){var e=a.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(0,Ce.Z)(e)&&(e=JSON.parse(j()(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function Mo(e){"object"===(0,Ce.Z)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Ae()(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function No(e,t){if("object"===(0,Ce.Z)(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=(0,a.Z)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}));var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],o=e[1],a=e[2];return n.apply(this,[i||null]).then((function(e){if(t.version<53&&!o)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,at()({},t,{type:r[t.type]||t.type}))}))}return e})).then(o,a)}}}function Do(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):B().resolve(new(Xe()))}}}function jo(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),lo(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function Uo(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;mo("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})}function Bo(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Fo(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);var r=(e=(0,fe.Z)(e)).length>0;r&&e.forEach((function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(Le()(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(Le()(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var n=t.apply(this,arguments);if(r){var i=n.sender,o=i.getParameters();(!("encodings"in o)||1===o.encodings.length&&0===N()(o.encodings[0]).length)&&(o.encodings=e,i.sendEncodings=e,this.setParametersPromises.push(i.setParameters(o).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return n})}}function Zo(e){if("object"===(0,Ce.Z)(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function Vo(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?B().all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}function qo(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?B().all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}var zo=f()({__proto__:null,shimOnTrack:Mo,shimPeerConnection:No,shimSenderGetStats:Do,shimReceiverGetStats:jo,shimRemoveStream:Uo,shimRTCDataChannel:Bo,shimAddTransceiver:Fo,shimGetParameters:Zo,shimCreateOffer:Vo,shimCreateAnswer:qo,shimGetUserMedia:Po,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,B().reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}});function Wo(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(r,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(r,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i&&i.forEach((function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}}function Go(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Ae()(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}}function $o(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),B().resolve()):i},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),B().resolve()):i};var s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),B().resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),B().resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),B().resolve()):n},t.addIceCandidate=s}}function Ho(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(Ko(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function Ko(e){return e&&void 0!==e.video?at()({},e,{video:yo(e.video)}):e}function Yo(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(mo("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(j()(o))).urls=o.url,delete o.url,n.push(o)):n.push(e.iceServers[i])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Ae()(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function Jo(e){"object"===(0,Ce.Z)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Ae()(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Xo(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Qo(e){"object"!==(0,Ce.Z)(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var ea=f()({__proto__:null,shimLocalStreamsAPI:Wo,shimRemoteStreamsAPI:Go,shimCallbacksAPI:$o,shimGetUserMedia:Ho,shimConstraints:Ko,shimRTCIceServerUrls:Yo,shimTrackEventTransceiver:Jo,shimCreateOfferLegacy:Xo,shimAudioContext:Qo}),ta={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){var r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((function(e){return 0===e.indexOf(r)}))},t.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:Me()(t[3],10),ip:t[4],address:t[4],port:Me()(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=Me()(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:void 0===r[t[n]]&&(r[t[n]]=t[n+1])}return r},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:Me()(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=Me()(t[1],10),r.channels=3===t.length?Me()(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:Me()(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<n.length;i++)r[(t=n[i].trim().split("="))[0].trim()]=t[1];return r},t.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&N()(e.parameters).length){var n=[];N()(e.parameters).forEach((function(t){void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:Me()(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return Me()(e,10)}))}},t.getMid=function(e){var r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:Me()(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===(0,Ce.Z)(e.keyParams)?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){var n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],i=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),r.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){r.headerExtensions.push(t.parseExtmap(e))})),r},t.writeRtpDescription=function(e,r){var n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=r.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((function(e){n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));var i=0;return r.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach((function(e){n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){var r,n=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return Me()(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(r=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:Me()(e.parameters.apt,10)};c&&r&&(t.rtx={ssrc:r}),n.push(t),o&&((t=JSON.parse(j()(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&c&&n.push({ssrc:c});var f=t.matchPrefix(e,"b=");return f.length&&(f=0===f[0].indexOf("b=TIAS:")?Me()(f[0].substr(7),10):0===f[0].indexOf("b=AS:")?1e3*Me()(f[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=f}))),n},t.parseRtcpParameters=function(e){var r={},n=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){var r,n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(r=n[0].substr(7).split(" "))[0],track:r[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(r=i[0].value.split(" "))[0],track:r[1]}:void 0},t.parseSctpDescription=function(e){var r,n=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(r=Me()(i[0].substr(19),10)),isNaN(r)&&(r=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:Me()(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:r};var a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){var s=a[0].substr(10).split(" ");return{port:Me()(s[0],10),protocol:s[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,r,n){var i=void 0!==r?r:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){for(var n=t.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var r=t.splitLines(e)[0].substr(2).split(" ");return{kind:r[0],port:Me()(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){var r=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:Me()(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var r=t.splitLines(e),n=0;n<r.length;n++)if(r[n].length<2||"="!==r[n].charAt(1))return!1;return!0},e.exports=t}(ta);var ra=ta.exports,na=di({__proto__:null,default:ra},[ta.exports]);function ia(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(0,Ce.Z)(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(j()(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),n=ra.parseCandidate(e.candidate),i=at()(r,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,lo(e,"icecandidate",(function(t){return t.candidate&&Ae()(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function oa(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Ae()(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,n;(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Ae()(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if(function(e){if(!e||!e.sdp)return!1;var t=ra.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=ra.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var i,o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=Me()(t[1],10);return r!=r?-1:r}(arguments[0]),a=(e=o,n=65536,"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n),s=function(e,r){var n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);var i=ra.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?n=Me()(i[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],o);i=0===a&&0===s?Number.POSITIVE_INFINITY:0===a||0===s?Math.max(a,s):Math.min(a,s);var c={};Ae()(c,"maxMessageSize",{get:function(){return i}}),this._sctp=c}return r.apply(this,arguments)}}}function aa(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},lo(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}function sa(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Ae()(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Ae()(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}}function ca(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var n=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return r.apply(this,arguments)}}}function ua(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?B().resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),B().resolve())})}}function fa(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,t=arguments[0]||{};if("object"!==(0,Ce.Z)(t)||t.type&&t.sdp)return r.apply(this,arguments);if(!(t={type:t.type,sdp:t.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}return t.sdp||"offer"!==t.type&&"answer"!==t.type?r.apply(this,[t]):("offer"===t.type?this.createOffer:this.createAnswer).apply(this).then((function(t){return r.apply(e,[t])}))})}}var la,pa,da=f()({__proto__:null,shimRTCIceCandidate:ia,shimMaxMessageSize:oa,shimSendThrowTypeError:aa,shimConnectionState:sa,removeExtmapAllowMixed:ca,shimAddIceCandidateNullOrEmpty:ua,shimParameterlessSetLocalDescription:fa});!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},r=vo,n=function(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=fo(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=fo(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=fo(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),i={browserDetails:n,commonShim:da,extractVersion:fo,disableLog:po,disableWarnings:ho,sdp:na};switch(n.browser){case"chrome":if(!Lo||!Ao||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(null===n.version)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=Lo,ua(e,n),fa(e),So(e,n),Eo(e),Ao(e,n),xo(e),Oo(e,n),Ro(e),To(e),ko(e),Io(e,n),ia(e),sa(e),oa(e,n),aa(e),ca(e,n);break;case"firefox":if(!zo||!No||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=zo,ua(e,n),fa(e),Po(e,n),No(e,n),Mo(e),Uo(e),Do(e),jo(e),Bo(e),Fo(e),Zo(e),Vo(e),qo(e),ia(e),sa(e),oa(e,n),aa(e);break;case"safari":if(!ea||!t.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=ea,ua(e,n),fa(e),Yo(e),Xo(e),$o(e),Wo(e),Go(e),Jo(e),Ho(e),Qo(e),ia(e),oa(e,n),aa(e),ca(e,n);break;default:r("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window}),function(e){e.Audio="audio",e.Video="video"}(la||(la={})),function(e){e.IceGatheringStateChange="icegatheringstatechange",e.ConnectionStateChange="connectionstatechange"}(pa||(pa={}));var ha,va=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this),bi.log("PeerConnection init"),n.pc=function(e){return new RTCPeerConnection(e)}(e),n.connectionStateHandler=new so((function(){return{connectionState:n.pc.connectionState,iceState:n.pc.iceConnectionState}})),n.connectionStateHandler.on(so.Events.ConnectionStateChanged,(function(e){n.emit(r.Events.ConnectionStateChange,e)})),n.pc.oniceconnectionstatechange=function(){return n.connectionStateHandler.onIceConnectionStateChange()},n.pc.onconnectionstatechange=function(){return n.connectionStateHandler.onConnectionStateChange()},n.pc.onicegatheringstatechange=function(e){n.emit(r.Events.IceGatheringStateChange,e)},n}return(0,o.Z)(r,[{key:"getUnderlyingRTCPeerConnection",value:function(){return this.pc}},{key:"getConnectionState",value:function(){return this.connectionStateHandler.getConnectionState()}},{key:"addTrack",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this.pc).addTrack.apply(t,[e].concat(n))}},{key:"addTransceiver",value:function(e,t){return this.pc.addTransceiver(e,t)}},{key:"removeTrack",value:function(e){this.pc.removeTrack(e)}},{key:"createDataChannel",value:function(e,t){return this.pc.createDataChannel(e,t)}},{key:"createAnswer",value:function(e){return hi(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pc.createAnswer(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"createOffer",value:function(e){return hi(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pc.createOffer(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"setLocalDescription",value:function(e){return hi(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pc.setLocalDescription(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"setRemoteDescription",value:function(e){return hi(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pc.setRemoteDescription(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){this.pc.close()}},{key:"getLocalDescription",value:function(){return this.pc.localDescription}},{key:"getRemoteDescription",value:function(){return this.pc.remoteDescription}},{key:"getSenders",value:function(){return this.pc.getSenders()}},{key:"getTransceivers",value:function(){return this.pc.getTransceivers()}},{key:"getStats",value:function(e){return this.pc.getStats(e)}},{key:"iceGatheringState",get:function(){return this.pc.iceGatheringState}},{key:"getCurrentConnectionType",value:function(){var e;return hi(this,void 0,void 0,c().mark((function t(){var r,n,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState){t.next=3;break}throw new Error("Ice connection is not established");case 3:return r=new(ze()),n=[],t.next=7,this.pc.getStats();case 7:if(t.sent.forEach((function(e){var t;"candidate-pair"===e.type&&"succeeded"===(null===(t=e.state)||void 0===t?void 0:t.toLowerCase())&&r.add(e.localCandidateId),"local-candidate"===e.type&&n.push(e)})),i=n.find((function(e){return r.has(e.id)}))){t.next=11;break}return t.abrupt("return","unknown");case 11:if(!i.relayProtocol){t.next=13;break}return t.abrupt("return","TURN-".concat(i.relayProtocol.toUpperCase()));case 13:return t.abrupt("return",null===(e=i.protocol)||void 0===e?void 0:e.toUpperCase());case 14:case"end":return t.stop()}}),t,this)})))}}]),r}(zi);va.Events=pa,function(e){e.H264="video/H264",e.AV1="video/AV1",e.OPUS="audio/opus"}(ha||(ha={}));var ma;function ga(e,t){return N()(t).every((function(r){if("clockRate"===r||"name"===r)return e[r]===t[r];if("fmtParams"===r){var n=e[r],i=t[r],o=(0,fe.Z)(n.keys()).some((function(e){return"level-asymmetry-allowed"===e&&"1"===i.get(e)&&"1"===n.get(e)}));return(0,fe.Z)(n.keys()).every((function(e){return i.get(e)&&"profile-level-id"===e?function(e,t,r){var n=ct()("0x".concat(e),16),i=ct()("0x".concat(t),16),o=n>>16,a=i>>16,s=(65280&n)>>8,c=(65280&i)>>8;return(o===a&&s===c||66===o&&66===a&&(64&s)==(64&c))&&(!!r||(255&n)<=(255&i))}(n.get(e),i.get(e),o):"packetization-mode"!==e||n.get(e)===i.get(e)}))}return!0}))}function ya(e,t){return 0===t?e:ya(t,e%t)}function ba(e,t){var r=ya(e[0],e[1]),n=e[0]/r,i=e[1]/r;return Math.floor(Math.sqrt(16*t*16/(n*i)))*i}!function(e){e[e.NB=12e3]="NB",e[e.WB=2e4]="WB",e[e.FB=4e4]="FB",e[e.FB_MONO_MUSIC=64e3]="FB_MONO_MUSIC",e[e.FB_STEREO_MUSIC=128e3]="FB_STEREO_MUSIC"}(ma||(ma={}));var wa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Et?Et:"undefined"!=typeof self?self:{},_a={exports:{}};!function(e){!function(t){var r,n={};n.VERSION="1.6.1";var i={},o=function(e,t){return function(){return t.apply(e,arguments)}},a=function(){var e,t,r=arguments,n=r[0];for(t=1;t<r.length;t++)for(e in r[t])!(e in n)&&r[t].hasOwnProperty(e)&&(n[e]=r[t][e]);return n},s=function(e,t){return{value:e,name:t}};n.TRACE=s(1,"TRACE"),n.DEBUG=s(2,"DEBUG"),n.INFO=s(3,"INFO"),n.TIME=s(4,"TIME"),n.WARN=s(5,"WARN"),n.ERROR=s(8,"ERROR"),n.OFF=s(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(n.TRACE,arguments)},debug:function(){this.invoke(n.DEBUG,arguments)},info:function(){this.invoke(n.INFO,arguments)},warn:function(){this.invoke(n.WARN,arguments)},error:function(){this.invoke(n.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"end"])},invoke:function(e,t){r&&this.enabledFor(e)&&r(t,a({level:e},this.context))}};var u,f=new c({filterLevel:n.OFF});(u=n).enabledFor=o(f,f.enabledFor),u.trace=o(f,f.trace),u.debug=o(f,f.debug),u.time=o(f,f.time),u.timeEnd=o(f,f.timeEnd),u.info=o(f,f.info),u.warn=o(f,f.warn),u.error=o(f,f.error),u.log=u.info,n.setHandler=function(e){r=e},n.setLevel=function(e){for(var t in f.setLevel(e),i)i.hasOwnProperty(t)&&i[t].setLevel(e)},n.getLevel=function(){return f.getLevel()},n.get=function(e){return i[e]||(i[e]=new c(a({name:e},f.context)))},n.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},r=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,o){i=Array.prototype.slice.call(i);var a,s=console.log;o.level===n.TIME?(a=(o.name?"["+o.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):r(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(o.level===n.WARN&&console.warn?s=console.warn:o.level===n.ERROR&&console.error?s=console.error:o.level===n.INFO&&console.info?s=console.info:o.level===n.DEBUG&&console.debug?s=console.debug:o.level===n.TRACE&&console.trace&&(s=console.trace),e.formatter(i,o),r(s,i))}},n.useDefaults=function(e){n.setLevel(e&&e.defaultLevel||n.DEBUG),n.setHandler(n.createDefaultHandler(e))},n.setDefaults=n.useDefaults,e.exports?e.exports=n:(n._prevLogger=t.Logger,n.noConflict=function(){return t.Logger=n._prevLogger,n},t.Logger=n)}(wa)}(_a);var Sa,Ea=_a.exports;Ea.useDefaults({defaultLevel:Ea.DEBUG,formatter:function(e,t){e.unshift("[".concat(t.name,"] "))}}),function(e){e.Multistream="multistream"}(Sa||(Sa={}));var xa,Ra=function(){function e(t,r){(0,i.Z)(this,e),this.msgType=t,this.payload=r}return(0,o.Z)(e,null,[{key:"fromJson",value:function(t){return t.msgType&&t.payload?new e(t.msgType,t.payload):null}}]),e}();!function(e){e.Scr="scr",e.ScrAck="scrAck",e.ActiveSpeakerNotification="activeSpeakerNotification",e.SourceIndication="sourceIndication",e.SourceIndicationAck="sourceIndicationAck"}(xa||(xa={}));var Ta=function(){function e(t,r,n){(0,i.Z)(this,e),this.mediaFamily=t,this.mediaContent=r,this.payload=n}return(0,o.Z)(e,[{key:"toString",value:function(){return"JmpMsg(mediaFamily=".concat(this.mediaFamily,", mediaContent=").concat(this.mediaContent,", payload=").concat(this.payload,")")}}]),e}();function ka(e){var t=e;return Boolean(t.mediaContent&&t.mediaFamily&&t.payload&&function(e){var t=e;return Boolean(t.msgType&&t.payload)}(t.payload))}var Ca=function(){function e(t){(0,i.Z)(this,e),this.scrSeqNum=t}return(0,o.Z)(e,[{key:"toString",value:function(){return"JmpScrAckMsg(seqNum=".concat(this.scrSeqNum,")")}}]),e}();var Oa=function(){function e(t,r){(0,i.Z)(this,e),this.seqNum=t,this.requests=r}return(0,o.Z)(e,[{key:"toString",value:function(){return"JmpScrMsg(seqNum=".concat(this.seqNum,", requests=[").concat(this.requests,"])")}}]),e}();var Aa=function(){function e(t,r,n,o){(0,i.Z)(this,e);var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.policy=t,this.policySpecificInfo=r,this.ids=n,this.maxPayloadBitsPerSecond=o,this.codecInfos=a}return(0,o.Z)(e,[{key:"toString",value:function(){return"Request(policy=".concat(this.policy,", info=").concat(this.policySpecificInfo,", ids=[").concat(this.ids,"], maxPayloadBitsPerSecond=[").concat(this.maxPayloadBitsPerSecond,"], codecInfos=[").concat(this.codecInfos,"])")}}]),e}();function Ia(e){return Boolean(e.csi)}var La,Pa,Ma,Na,Da=function(){function e(t){(0,i.Z)(this,e),this.sourceIndicationSeqNum=t}return(0,o.Z)(e,[{key:"toString",value:function(){return"SourceIndicationAckMsg(sourceIndicationSeqNum=".concat(this.sourceIndicationSeqNum,")")}}]),e}();function ja(){return e=0,t=8388607,Math.floor(Math.random()*(t-e+1))+e;var e,t}function Ua(e,t){return t<<8|(e===La.Audio?0:1)}function Ba(e,t){return e===La.Video&&t===Pa.Main?Na.VideoMain:e===La.Video&&t===Pa.Slides?Na.VideoSlides:e===La.Audio&&t===Pa.Main?Na.AudioMain:Na.AudioSlides}function Fa(e){return[Na.VideoMain,Na.VideoSlides].includes(e)?La.Video:La.Audio}function Za(e){return[Na.VideoMain,Na.AudioMain].includes(e)?Pa.Main:Pa.Slides}!function(e){e.Audio="AUDIO",e.Video="VIDEO"}(La||(La={})),function(e){e.Main="MAIN",e.Slides="SLIDES"}(Pa||(Pa={})),function(e){e.ActiveSpeaker="active-speaker",e.ReceiverSelected="receiver-selected"}(Ma||(Ma={})),function(e){e.VideoMain="VIDEO-MAIN",e.VideoSlides="VIDEO-SLIDES",e.AudioMain="AUDIO-MAIN",e.AudioSlides="AUDIO-SLIDES"}(Na||(Na={}));var Va=function(e){return 0===e||e};function qa(e,t){var r=N()(e),n=N()(t);return r.length===n.length&&r.every((function(r){return e[r]===t[r]}))}var za=function(){function e(t,r,n,o){(0,i.Z)(this,e),this.seqNum=t,this.numTotalSources=r,this.numLiveSources=n,this.sources=o}return(0,o.Z)(e,[{key:"sourcesToString",value:function(){return this.sources.map((function(e){return"Source(id=".concat(e.id," state=").concat(e.state," ").concat(e.csi?"csi=".concat(e.csi):"",")")})).join(", ")}},{key:"toString",value:function(){return"SourceIndication(seqNum=".concat(this.seqNum," numTotalSources=").concat(this.numTotalSources," numLiveSources=").concat(this.numLiveSources," sources=[").concat(this.sourcesToString(),"])")}}]),e}();function Wa(e){var t=e;return Boolean(t.id&&function(e){var t=e;return(!t.mid||!t.ssrc)&&(Boolean(t.mid)||Boolean(t.ssrc))}(t.id)&&["no source","invalid source","live","avatar","bandwidth disabled"].includes(t.state))}var Ga,$a=function(){function e(t,r,n,o,a){(0,i.Z)(this,e),this.timerHandle=void 0,this.msg=t,this.numRetransmitsLeft=r,this.retransmitIntervalMs=n,this.transmitCallback=o,this.expirationCallback=a,this.scheduleTimer()}return(0,o.Z)(e,[{key:"onTimer",value:function(){var e;this.numRetransmitsLeft>0?(--this.numRetransmitsLeft,this.transmitCallback(this.msg),this.scheduleTimer()):null===(e=this.expirationCallback)||void 0===e||e.call(this,this.msg)}},{key:"scheduleTimer",value:function(){var e=this;this.timerHandle=window.setTimeout((function(){return e.onTimer()}),this.retransmitIntervalMs)}},{key:"cancel",value:function(){this.timerHandle&&clearTimeout(this.timerHandle),this.timerHandle=void 0}}]),e}();!function(e){e.SourceIndication="source-indication",e.ActiveSpeaker="active-speaker",e.ScrRequestReceived="scr-request-received"}(Ga||(Ga={}));var Ha=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;(0,i.Z)(this,r);var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:250;return(o=t.call(this)).currScrSeqNum=1,o.currSourceIndicationSeqNum=1,o.txCallback=void 0,o.lastSentScr=void 0,o.lastSentScrAck=void 0,o.lastReceivedScr=void 0,o.mediaFamily=e,o.mediaContent=n,o.logger=Ea.get("JmpSession ".concat(o.mediaFamily,"-").concat(o.mediaContent)),o.maxNumRetransmits=a,o.retransmitIntervalMs=s,o}return(0,o.Z)(r,[{key:"getLogger",value:function(){return this.logger}},{key:"sendRequests",value:function(e){var t,r=this,n=new Oa(this.currScrSeqNum++,e),i=new Ta(this.mediaFamily,this.mediaContent,{msgType:xa.Scr,payload:n});this.sendJmpMsg(i),null===(t=this.lastSentScr)||void 0===t||t.cancel(),this.lastSentScr=new $a(n,this.maxNumRetransmits,this.retransmitIntervalMs,(function(e){return r.sendJmpScr(e)}),(function(e){r.logger.warn("Retransmits for message expired: ".concat(e))}))}},{key:"updateSourceIndication",value:function(e,t,r){var n,i=this,o=r.filter((function(e){var t;return null===(t=i.lastReceivedScr)||void 0===t?void 0:t.requests.some((function(t){return t.ids.find((function(t){return qa(t,e.id)}))}))})),a=new za(this.currSourceIndicationSeqNum++,e,t,o),s=new Ta(this.mediaFamily,this.mediaContent,{msgType:xa.SourceIndication,payload:a});this.sendJmpMsg(s),null===(n=this.lastSentSourceIndication)||void 0===n||n.cancel(),this.lastSentSourceIndication=new $a(a,this.maxNumRetransmits,this.retransmitIntervalMs,(function(e){return i.sendSourceIndication(e)}),(function(e){i.logger.warn("Retransmits for message expired:",e)}))}},{key:"receive",value:function(e){var t,r,n,i,o,a,s,c;if(e.mediaContent===this.mediaContent&&e.mediaFamily===this.mediaFamily){this.logger.debug("Received JmpMsg",e);var u,f=e.payload;if(f.msgType===xa.Scr){var l=f.payload;if(u=l,!Boolean(u.seqNum&&u.requests))return void this.logger.error("Received invalid SCR:",l);if(this.lastReceivedScr&&l.seqNum<(null===(t=this.lastReceivedScr)||void 0===t?void 0:t.seqNum))this.logger.info("Received old SCR, ignoring");else if(this.lastReceivedScr&&l.seqNum===this.lastReceivedScr.seqNum)this.lastSentScrAck?(this.logger.info("Received duplicate SCR, re-sending ACK"),this.sendJmpScrAck(this.lastSentScrAck)):this.logger.warn("Received duplicate SCR, but there was no ACK previously sent");else{this.logger.info("Received new SCR, sending ACK");var p=new Ca(l.seqNum);this.lastReceivedScr=l,this.lastSentScrAck=p,this.sendJmpScrAck(p),this.emit(Ga.ScrRequestReceived,l)}}else if(f.msgType===xa.ScrAck){var d=f.payload;if(!function(e){return Boolean(e.scrSeqNum)}(d))return void this.logger.error("Received invalid SCR ACK:",d);d.scrSeqNum===(null===(n=null===(r=this.lastSentScr)||void 0===r?void 0:r.msg)||void 0===n?void 0:n.seqNum)?(this.logger.info("Received ACK for last sent SCR"),null===(i=this.lastSentScr)||void 0===i||i.cancel()):this.logger.info("Received ACK for old SCR")}else if(f.msgType===xa.ActiveSpeakerNotification){var h=f.payload;if(!function(e){var t=e;return Boolean(t.seqNum&&t.csis)}(h))return void this.logger.info("Received invalid Active Speaker Notification:",h);this.logger.debug("Received Active Speaker Notification:",h),this.emit(Ga.ActiveSpeaker,h)}else if(f.msgType===xa.SourceIndication){var v=f.payload;if(!function(e){var t,r=e;return Boolean(r.seqNum&&Va(r.numTotalSources)&&Va(r.numLiveSources)&&r.sources&&(null===(t=r.sources)||void 0===t?void 0:t.every((function(e){return Wa(e)}))))}(v))return void this.logger.error("Received invalid Source Indication:",v);if(this.lastReceivedSourceIndication&&v.seqNum<(null===(o=this.lastReceivedSourceIndication)||void 0===o?void 0:o.seqNum))this.logger.info("Received old Source Indication, ignoring");else if(this.lastReceivedSourceIndication&&v.seqNum===this.lastReceivedSourceIndication.seqNum)this.lastSentSourceIndicationAck?(this.logger.info("Received duplicate Source Indication, re-sending ACK"),this.sendSourceIndicationAck(this.lastSentSourceIndicationAck)):this.logger.warn("Received duplicate Source Indication, but there was no ACK previously sent");else{this.logger.info("Received new Source Indication, sending ACK");var m=new Da(v.seqNum);this.lastReceivedSourceIndication=v,this.lastSentSourceIndicationAck=m,this.sendSourceIndicationAck(m),this.emit(Ga.SourceIndication,v)}}else if(f.msgType===xa.SourceIndicationAck){var g=f.payload;if(!function(e){return Boolean(e.sourceIndicationSeqNum)}(g))return void this.logger.error("Received invalid SCR ACK:",g);g.sourceIndicationSeqNum===(null===(s=null===(a=this.lastSentSourceIndication)||void 0===a?void 0:a.msg)||void 0===s?void 0:s.seqNum)?(this.logger.info("Received ACK for last sent SCR"),null===(c=this.lastSentSourceIndication)||void 0===c||c.cancel()):this.logger.info("Received ACK for old SCR")}else this.logger.error("Received unknown JmpMsg")}else this.logger.error("JmpMsg ".concat(e," sent to incorrect JmpSession"))}},{key:"setTxCallback",value:function(e){this.txCallback=e}},{key:"close",value:function(){var e;this.logger.info("closing"),null===(e=this.lastSentScr)||void 0===e||e.cancel()}},{key:"sendSourceIndicationAck",value:function(e){var t=new Ta(this.mediaFamily,this.mediaContent,{msgType:xa.SourceIndicationAck,payload:e});this.sendJmpMsg(t)}},{key:"sendSourceIndication",value:function(e){var t=new Ta(this.mediaFamily,this.mediaContent,{msgType:xa.SourceIndication,payload:e});this.sendJmpMsg(t)}},{key:"sendJmpScrAck",value:function(e){var t=new Ta(this.mediaFamily,this.mediaContent,{msgType:xa.ScrAck,payload:e});this.sendJmpMsg(t)}},{key:"sendJmpScr",value:function(e){var t=new Ta(this.mediaFamily,this.mediaContent,{msgType:xa.Scr,payload:e});this.sendJmpMsg(t)}},{key:"sendJmpMsg",value:function(e){var t,r=new Ra(Sa.Multistream,e);null===(t=this.txCallback)||void 0===t||t.call(this,j()(r))}}]),r}(cr),Ka=function(){function e(t,r,n,o){(0,i.Z)(this,e);var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.policy=t,this.policySpecificInfo=r,this.receiveSlots=n,this.maxPayloadBitsPerSecond=o,this.codecInfos=a}return(0,o.Z)(e,[{key:"_toJmpScrRequest",value:function(){return new Aa(this.policy,this.policySpecificInfo,this.receiveSlots.map((function(e){return e.id})),this.maxPayloadBitsPerSecond,this.codecInfos)}}]),e}();function Ya(e,t,r,n){return new(r||(r=B()))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}var Ja,Xa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Et?Et:"undefined"!=typeof self?self:{};function Qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function es(e){if(e.__esModule)return e;var t=Ae()({},"__esModule",{value:!0});return N()(e).forEach((function(r){var n=Te()(e,r);Ae()(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var ts=new Uint8Array(16);function rs(){if(!Ja&&!(Ja="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ja(ts)}var ns=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function is(e){return"string"==typeof e&&ns.test(e)}for(var os,as,ss=[],cs=0;cs<256;++cs)ss.push((cs+256).toString(16).substr(1));function us(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(ss[e[t+0]]+ss[e[t+1]]+ss[e[t+2]]+ss[e[t+3]]+"-"+ss[e[t+4]]+ss[e[t+5]]+"-"+ss[e[t+6]]+ss[e[t+7]]+"-"+ss[e[t+8]]+ss[e[t+9]]+"-"+ss[e[t+10]]+ss[e[t+11]]+ss[e[t+12]]+ss[e[t+13]]+ss[e[t+14]]+ss[e[t+15]]).toLowerCase();if(!is(r))throw TypeError("Stringified UUID is invalid");return r}var fs=0,ls=0;function ps(e){if(!is(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=Me()(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=Me()(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=Me()(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=Me()(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=Me()(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}var ds="6ba7b810-9dad-11d1-80b4-00c04fd430c8",hs="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function vs(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=ps(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return us(a)}try{n.name=e}catch(e){}return n.DNS=ds,n.URL=hs,n}function ms(e){return 14+(e+64>>>9<<4)+1}function gs(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function ys(e,t,r,n,i,o){return gs((a=gs(gs(t,e),gs(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function bs(e,t,r,n,i,o,a){return ys(t&r|~t&n,e,t,i,o,a)}function ws(e,t,r,n,i,o,a){return ys(t&n|r&~n,e,t,i,o,a)}function _s(e,t,r,n,i,o,a){return ys(t^r^n,e,t,i,o,a)}function Ss(e,t,r,n,i,o,a){return ys(r^(t|~n),e,t,i,o,a)}var Es=vs("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,a=Me()(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[ms(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,c=n,u=i,f=o;r=bs(r,n,i,o,e[a],7,-680876936),o=bs(o,r,n,i,e[a+1],12,-389564586),i=bs(i,o,r,n,e[a+2],17,606105819),n=bs(n,i,o,r,e[a+3],22,-1044525330),r=bs(r,n,i,o,e[a+4],7,-176418897),o=bs(o,r,n,i,e[a+5],12,1200080426),i=bs(i,o,r,n,e[a+6],17,-1473231341),n=bs(n,i,o,r,e[a+7],22,-45705983),r=bs(r,n,i,o,e[a+8],7,1770035416),o=bs(o,r,n,i,e[a+9],12,-1958414417),i=bs(i,o,r,n,e[a+10],17,-42063),n=bs(n,i,o,r,e[a+11],22,-1990404162),r=bs(r,n,i,o,e[a+12],7,1804603682),o=bs(o,r,n,i,e[a+13],12,-40341101),i=bs(i,o,r,n,e[a+14],17,-1502002290),r=ws(r,n=bs(n,i,o,r,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=ws(o,r,n,i,e[a+6],9,-1069501632),i=ws(i,o,r,n,e[a+11],14,643717713),n=ws(n,i,o,r,e[a],20,-373897302),r=ws(r,n,i,o,e[a+5],5,-701558691),o=ws(o,r,n,i,e[a+10],9,38016083),i=ws(i,o,r,n,e[a+15],14,-660478335),n=ws(n,i,o,r,e[a+4],20,-405537848),r=ws(r,n,i,o,e[a+9],5,568446438),o=ws(o,r,n,i,e[a+14],9,-1019803690),i=ws(i,o,r,n,e[a+3],14,-187363961),n=ws(n,i,o,r,e[a+8],20,1163531501),r=ws(r,n,i,o,e[a+13],5,-1444681467),o=ws(o,r,n,i,e[a+2],9,-51403784),i=ws(i,o,r,n,e[a+7],14,1735328473),r=_s(r,n=ws(n,i,o,r,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=_s(o,r,n,i,e[a+8],11,-2022574463),i=_s(i,o,r,n,e[a+11],16,1839030562),n=_s(n,i,o,r,e[a+14],23,-35309556),r=_s(r,n,i,o,e[a+1],4,-1530992060),o=_s(o,r,n,i,e[a+4],11,1272893353),i=_s(i,o,r,n,e[a+7],16,-155497632),n=_s(n,i,o,r,e[a+10],23,-1094730640),r=_s(r,n,i,o,e[a+13],4,681279174),o=_s(o,r,n,i,e[a],11,-358537222),i=_s(i,o,r,n,e[a+3],16,-722521979),n=_s(n,i,o,r,e[a+6],23,76029189),r=_s(r,n,i,o,e[a+9],4,-640364487),o=_s(o,r,n,i,e[a+12],11,-421815835),i=_s(i,o,r,n,e[a+15],16,530742520),r=Ss(r,n=_s(n,i,o,r,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=Ss(o,r,n,i,e[a+7],10,1126891415),i=Ss(i,o,r,n,e[a+14],15,-1416354905),n=Ss(n,i,o,r,e[a+5],21,-57434055),r=Ss(r,n,i,o,e[a+12],6,1700485571),o=Ss(o,r,n,i,e[a+3],10,-1894986606),i=Ss(i,o,r,n,e[a+10],15,-1051523),n=Ss(n,i,o,r,e[a+1],21,-2054922799),r=Ss(r,n,i,o,e[a+8],6,1873313359),o=Ss(o,r,n,i,e[a+15],10,-30611744),i=Ss(i,o,r,n,e[a+6],15,-1560198380),n=Ss(n,i,o,r,e[a+13],21,1309151649),r=Ss(r,n,i,o,e[a+4],6,-145523070),o=Ss(o,r,n,i,e[a+11],10,-1120210379),i=Ss(i,o,r,n,e[a+2],15,718787259),n=Ss(n,i,o,r,e[a+9],21,-343485551),r=gs(r,s),n=gs(n,c),i=gs(i,u),o=gs(o,f)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(ms(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))})),xs=Es;function Rs(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function Ts(e,t){return e<<t|e>>>32-t}var ks=vs("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else _e()(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),c=0;c<a;++c){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=e[64*c+4*f]<<24|e[64*c+4*f+1]<<16|e[64*c+4*f+2]<<8|e[64*c+4*f+3];s[c]=u}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var l=0;l<a;++l){for(var p=new Uint32Array(80),d=0;d<16;++d)p[d]=s[l][d];for(var h=16;h<80;++h)p[h]=Ts(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var v=r[0],m=r[1],g=r[2],y=r[3],b=r[4],w=0;w<80;++w){var _=Math.floor(w/20),S=Ts(v,5)+Rs(_,m,g,y)+b+t[_]+p[w]>>>0;b=y,y=g,g=Ts(m,30)>>>0,m=v,v=S}r[0]=r[0]+v>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),Cs=ks;var Os=f()({__proto__:null,v1:function(e,t,r){var n=t&&r||0,i=t||new Array(16),o=(e=e||{}).node||os,a=void 0!==e.clockseq?e.clockseq:as;if(null==o||null==a){var s=e.random||(e.rng||rs)();null==o&&(o=os=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=as=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:Ee()(),u=void 0!==e.nsecs?e.nsecs:ls+1,f=c-fs+(u-ls)/1e4;if(f<0&&void 0===e.clockseq&&(a=a+1&16383),(f<0||c>fs)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");fs=c,ls=u,as=a;var l=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=255&l;var p=c/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=255&p,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var d=0;d<6;++d)i[n+d]=o[d];return t||us(i)},v3:xs,v4:function(e,t,r){var n=(e=e||{}).random||(e.rng||rs)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return us(n)},v5:Cs,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!is(e))throw TypeError("Invalid UUID");return Me()(e.substr(14,1),16)},validate:is,stringify:us,parse:ps}),As=void 0,Is=es(Os),Ls=function(e){return JSON.parse(j()(e))},Ps=function e(t,r){if(t===r)return!0;if(t&&r&&"object"===(0,Ce.Z)(t)&&"object"===(0,Ce.Z)(r)){if(t.constructor!==r.constructor)return!1;if(N()(t).length!==N()(r).length)return!1;for(var n in t){if(!r.hasOwnProperty(n))return!1;if(!e(t[n],r[n]))return!1}return!0}return!1},Ms=["type","id","timestamp"],Ns=function(e,t){var r=Ls(t);N()(r).forEach((function(t){var n=r[t];e[t]&&N()(n).forEach((function(i){Ps(n[i],e[t][i])&&!Ms.includes(i)&&delete r[t][i],function(e){return!!N()(e).filter((function(e){return!Ms.includes(e)})).length}(n)||delete r[t]}))}));var n=-1/0;return N()(r).forEach((function(e){var t=r[e];t.timestamp>n&&(n=t.timestamp)})),N()(r).forEach((function(e){var t=r[e];t.timestamp===n&&delete t.timestamp})),r.timestamp=n,r},Ds=function(e){return[{value:e,type:"string",id:""}]};As=function(e,t,r,n,i){void 0===n&&(n=(0,Is.v4)()),void 0===i&&(i=function(){return B().resolve()});var o={},a=function(e,r,i){t({id:n,timestamp:i?Math.round(i):Ee()(),name:e,payload:r})};e.addEventListener("icecandidate",(function(e){e.candidate&&a("onicecandidate",Ds(j()(e.candidate)))})),e.addEventListener("icecandidateerror",(function(e){var t=e,r=t.errorCode,n=t.errorText;a("onicecandidateerror",Ds("".concat(r,": ").concat(n)))})),e.addEventListener("track",(function(e){a("ontrack",Ds("".concat(e.track.kind,":").concat(e.track.id," ").concat(e.streams.map((function(e){return"stream:".concat(e.id)})).join(" "))))})),e.addEventListener("signalingstatechange",(function(){a("onsignalingstatechange",Ds(e.signalingState))})),e.addEventListener("iceconnectionstatechange",(function(){a("oniceconnectionstatechange",Ds(e.iceConnectionState))})),e.addEventListener("icegatheringstatechange",(function(){a("onicegatheringstatechange",Ds(e.iceGatheringState))})),e.addEventListener("connectionstatechange",(function(){a("onconnectionstatechange",Ds(e.connectionState))})),e.addEventListener("negotiationneeded",(function(){a("onnegotiationneeded",Ds("negotiationneeded"))})),e.addEventListener("datachannel",(function(e){a("ondatachannel",Ds("".concat(e.channel.id,": ").concat(e.channel.label)))}));var s=window.setInterval((function(){"closed"!==e.signalingState?e.getStats(null).then((function(e){var t=function(e){if(!e.size)return e;var t={};return e.forEach((function(e,r){t[r]=e})),t}(e);i(t).then((function(){var e,r=Ls(t),n=Ns(o,t);a("stats-report",(e=n,N()(e).filter((function(e){return"timestamp"!==e})).map((function(t){return e[t]}))),n.timestamp!==-1/0?n.timestamp:void 0),o=r}))})):window.clearInterval(s)}),r)};var js,Us="\\d+",Bs="[!#$%&'*+\\-.^_`{|}~a-zA-Z0-9]+",Fs="\\S+",Zs=".+",Vs=(0,o.Z)((function e(){(0,i.Z)(this,e)})),qs=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).bandwidthType=e,o.bandwidth=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"b=".concat(this.bandwidthType,":").concat(this.bandwidth)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],Me()(t[2],10))}}}]),r}(Vs);js=qs,qs.BW_TYPE_REGEX="CT|AS|TIAS",qs.regex=new RegExp("^(".concat(js.BW_TYPE_REGEX,"):(").concat(Us,")"));var zs,Ws=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).mids=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=group:BUNDLE ".concat(this.mids.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1].split(" "))}}]),r}(Vs);Ws.regex=new RegExp("^group:BUNDLE (".concat(Zs,")"));var Gs=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a,s,c,u,f,l,p){var d;return(0,i.Z)(this,r),(d=t.call(this)).foundation=e,d.componentId=n,d.transport=o,d.priority=a,d.connectionAddress=s,d.port=c,d.candidateType=u,d.relAddr=f,d.relPort=l,d.candidateExtensions=p,d}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=candidate:".concat(this.foundation," ").concat(this.componentId," ").concat(this.transport," ").concat(this.priority," ").concat(this.connectionAddress," ").concat(this.port," typ ").concat(this.candidateType),this.relAddr&&(e+=" raddr ".concat(this.relAddr)),this.relPort&&(e+=" rport ".concat(this.relPort)),this.candidateExtensions&&(e+=" ".concat(this.candidateExtensions)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],Me()(t[2],10),t[3],Me()(t[4],10),t[5],Me()(t[6],10),t[7],t[8],t[9]?Me()(t[9],10):void 0,t[10])}}}]),r}(Vs);zs=Gs,Gs.ICE_CHARS="[a-zA-Z0-9+/]+",Gs.regex=new RegExp("^candidate:(".concat(zs.ICE_CHARS,") (").concat(Us,") (").concat(Fs,") (").concat(Us,") (").concat(Fs,") (").concat(Us,") typ (").concat(Fs,")(?: raddr (").concat(Fs,"))?(?: rport (").concat(Us,"))?(?: (").concat(Zs,"))?"));var $s=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o){var a;return(0,i.Z)(this,r),(a=t.call(this)).netType=e,a.addrType=n,a.ipAddr=o,a}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"c=".concat(this.netType," ").concat(this.addrType," ").concat(this.ipAddr)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2],t[3])}}}]),r}(Vs);$s.regex=new RegExp("^(".concat(Fs,") (").concat(Fs,") (").concat(Fs,")"));var Hs=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).values=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=content:".concat(this.values.join(","))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1].split(","))}}]),r}(Vs);Hs.regex=new RegExp("^content:(".concat(Zs,")$"));var Ks,Ys=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).direction=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=".concat(this.direction)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);Ys.regex=/^(sendrecv|sendonly|recvonly|inactive)$/;var Js=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this)).id=e,s.uri=n,s.direction=o,s.extensionAttributes=a,s}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=extmap:".concat(this.id),this.direction&&(e+="/".concat(this.direction)),e+=" ".concat(this.uri),this.extensionAttributes&&(e+=" ".concat(this.extensionAttributes)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex),n=Me()(t[1],10),i=t[2];return new r(n,t[3],i,t[4])}}}]),r}(Vs);Ks=Js,Js.EXTMAP_DIRECTION="sendonly|recvonly|sendrecv|inactive",Js.regex=new RegExp("^extmap:(".concat(Us,")(?:/(").concat(Ks.EXTMAP_DIRECTION,"))? (").concat(Fs,")(?: (").concat(Zs,"))?"));var Xs=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).fingerprint=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=fingerprint:".concat(this.fingerprint)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);Xs.regex=new RegExp("^fingerprint:(".concat(Zs,")"));var Qs=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).payloadType=e,o.params=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e=this,t=ve()(this.params.keys()).map((function(t){return void 0!==e.params.get(t)?"".concat(t,"=").concat(e.params.get(t)):"".concat(t)})).join(";");return"a=fmtp:".concat(this.payloadType," ").concat(t)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),function(e){e=e.replace(/^a=fmtp:\d+\x20/,"");var t=new(Xe());return/^\d+([/-]\d+)+$/.test(e)?(t.set(e,void 0),t):(e.split(";").forEach((function(r){var n=r&&r.split("=");if(2!==n.length||!n[0]||!n[1])throw new Error("Fmtp params is invalid with ".concat(e));t.set(n[0],n[1])})),t)}(t[2]))}}}]),r}(Vs);Qs.regex=new RegExp("^fmtp:(".concat(Us,") (").concat(Zs,")"));var ec=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).options=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ice-options:".concat(this.options.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1].split(" "))}}]),r}(Vs);ec.regex=new RegExp("^ice-options:(".concat(Zs,")$"));var tc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).pwd=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ice-pwd:".concat(this.pwd)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);tc.regex=new RegExp("^ice-pwd:(".concat(Fs,")$"));var rc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).ufrag=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ice-ufrag:".concat(this.ufrag)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);rc.regex=new RegExp("^ice-ufrag:(".concat(Fs,")$"));var nc,ic=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).maxMessageSize=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=max-message-size:".concat(this.maxMessageSize)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10))}}}]),r}(Vs);ic.regex=new RegExp("^max-message-size:(".concat(Us,")"));var oc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this)).type=e,s.port=n,s.protocol=o,s.formats=a,s}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"m=".concat(this.type," ").concat(this.port," ").concat(this.protocol," ").concat(this.formats.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],Me()(t[2],10),t[3],t[4].split(" "))}}}]),r}(Vs);nc=oc,oc.MEDIA_TYPE="audio|video|application",oc.regex=new RegExp("^(".concat(nc.MEDIA_TYPE,") (").concat(Us,") (").concat(Fs,") (").concat(Zs,")"));var ac=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).mid=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=mid:".concat(this.mid)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);ac.regex=new RegExp("^mid:(".concat(Fs,")$"));var sc,cc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a,s,c){var u;return(0,i.Z)(this,r),(u=t.call(this)).username=e,u.sessionId=n,u.sessionVersion=o,u.netType=a,u.addrType=s,u.ipAddr=c,u}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"o=".concat(this.username," ").concat(this.sessionId," ").concat(this.sessionVersion," ").concat(this.netType," ").concat(this.addrType," ").concat(this.ipAddr)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2],Me()(t[3],10),t[4],t[5],t[6])}}}]),r}(Vs);cc.regex=new RegExp("^(".concat(Fs,") (").concat(Fs,") (").concat(Us,") (").concat(Fs,") (").concat(Fs,") (").concat(Fs,")"));var uc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o){var a;return(0,i.Z)(this,r),(a=t.call(this)).id=e,a.direction=n,a.params=o,a}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=rid:".concat(this.id," ").concat(this.direction),this.params&&(e+=" ".concat(this.params)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2],t[3])}}}]),r}(Vs);sc=uc,uc.RID_ID="[\\w-]+",uc.RID_DIRECTION="\\bsend\\b|\\brecv\\b",uc.regex=new RegExp("^rid:(".concat(sc.RID_ID,") (").concat(sc.RID_DIRECTION,")(?:").concat("\\s","(").concat(Zs,"))?"));var fc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=rtcp-mux"}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r}}]),r}(Vs);fc.regex=/^rtcp-mux$/;var lc,pc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).payloadType=e,o.feedback=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=rtcp-fb:".concat(this.payloadType," ").concat(this.feedback)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),t[2])}}}]),r}(Vs);pc.regex=new RegExp("^rtcp-fb:(".concat(Us,") (").concat(Zs,")"));var dc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this)).payloadType=e,s.encodingName=n,s.clockRate=o,s.encodingParams=a,s}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="";return e+="a=rtpmap:".concat(this.payloadType," ").concat(this.encodingName,"/").concat(this.clockRate),this.encodingParams&&(e+="/".concat(this.encodingParams)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),t[2],Me()(t[3],10),t[4])}}}]),r}(Vs);lc=dc,dc.NON_SLASH_TOKEN="[^\\s/]+",dc.regex=new RegExp("^rtpmap:(".concat(Us,") (").concat(lc.NON_SLASH_TOKEN,")/(").concat(lc.NON_SLASH_TOKEN,")(?:/(").concat(lc.NON_SLASH_TOKEN,"))?"));var hc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).port=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=sctp-port:".concat(this.port)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10))}}}]),r}(Vs);hc.regex=new RegExp("^sctp-port:(".concat(Us,")"));var vc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).info=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"i=".concat(this.info)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);vc.regex=new RegExp("(".concat(Zs,")"));var mc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).name=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"s=".concat(this.name)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);mc.regex=new RegExp("^(".concat(Zs,")"));var gc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).setup=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=setup:".concat(this.setup)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);gc.regex=/^setup:(actpass|active|passive)$/;var yc=function(){function e(t,r){(0,i.Z)(this,e),this.id=t,this.paused=r}return(0,o.Z)(e,[{key:"toString",value:function(){return this.paused?"~".concat(this.id):this.id}}]),e}(),bc=function(){function e(){(0,i.Z)(this,e),this.layers=[]}return(0,o.Z)(e,[{key:"addLayer",value:function(e){this.layers.push([e])}},{key:"addLayerWithAlternatives",value:function(e){this.layers.push(e)}},{key:"length",get:function(){return this.layers.length}},{key:"get",value:function(e){return this.layers[e]}},{key:"toString",value:function(){return this.layers.map((function(e){return e.map((function(e){return e.toString()})).join(",")})).join(";")}}],[{key:"fromString",value:function(t){var r=new e,n=t.split(";");if(1===n.length&&!n[0].trim())throw new Error("simulcast stream list empty");return n.forEach((function(e){if(!e)throw new Error("simulcast layer list empty");var t=e.split(","),n=[];t.forEach((function(e){if(!e||"~"===e)throw new Error("rid empty");var t="~"===e[0],r=t?e.substring(1):e;n.push(new yc(r,t))})),r.addLayerWithAlternatives(n)})),r}}]),e}(),wc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).sendLayers=e,o.recvLayers=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="a=simulcast:";return this.sendLayers.length&&(e+="send ".concat(this.sendLayers.toString()),this.recvLayers.length&&(e+=" ")),this.recvLayers.length&&(e+="recv ".concat(this.recvLayers.toString())),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t,n,i=e.match(r.regex),o=i[3]&&i[4],a=i[1],s=bc.fromString(i[2]),c=new bc;if(o){if(a===i[3])return;c=bc.fromString(i[4])}return"send"===a?(t=s,n=c):(t=c,n=s),new r(t,n)}}}]),r}(Vs);wc.regex=new RegExp("^simulcast:(send|recv) (".concat(Fs,")(?: (send|recv) (").concat(Fs,"))?"));var _c=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;(0,i.Z)(this,r);var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(o=t.call(this)).ssrcId=e,o.attribute=n,o.attributeValue=a,o.attributeData=s,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="a=ssrc:".concat(this.ssrcId," ").concat(this.attribute);return this.attributeValue&&(e+=":".concat(this.attributeValue)),this.attributeData&&(e+=" ".concat(this.attributeData)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),t[2],t[3],t[4])}}}]),r}(Vs);_c.regex=new RegExp("^ssrc:(".concat(Us,") (").concat(Bs,")(?::(").concat(Bs,")?(?: (").concat(Fs,"))?)?$"));var Sc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).semantics=e,o.ssrcs=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=ssrc-group:".concat(this.semantics," ").concat(this.ssrcs.join(" "))}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2].split(" ").map((function(e){return Me()(e,10)})))}}}]),r}(Vs);Sc.regex=new RegExp("^ssrc-group:(SIM|FID|FEC) ((?:".concat(Us).concat("\\s","*)+)"));var Ec=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).startTime=e,o.stopTime=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"t=".concat(this.startTime," ").concat(this.stopTime)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10),Me()(t[2],10))}}}]),r}(Vs);Ec.regex=new RegExp("^(".concat(Us,") (").concat(Us,")"));var xc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).version=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"v=".concat(this.version)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(Me()(t[1],10))}}}]),r}(Vs);xc.regex=new RegExp("^(".concat(Us,")$"));var Rc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).value=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"".concat(this.value)}}],[{key:"fromSdpLine",value:function(e){return new r(e.match(r.regex)[1])}}]),r}(Vs);Rc.regex=new RegExp("(".concat(Zs,")"));var Tc=function(){function e(){(0,i.Z)(this,e),this.candidates=[]}return(0,o.Z)(e,[{key:"addLine",value:function(e){return e instanceof rc?(this.ufrag=e,!0):e instanceof tc?(this.pwd=e,!0):e instanceof ec?(this.options=e,!0):e instanceof Gs&&(this.candidates.push(e),!0)}},{key:"toLines",value:function(){var e=[];return this.ufrag&&e.push(this.ufrag),this.pwd&&e.push(this.pwd),this.options&&e.push(this.options),this.candidates.forEach((function(t){return e.push(t)})),e}}]),e}(),kc=function(){function e(t,r,n){(0,i.Z)(this,e),this.iceInfo=new Tc,this.otherLines=[],this.type=t,this.port=r,this.protocol=n}return(0,o.Z)(e,[{key:"findOtherLine",value:function(e){return this.otherLines.find((function(t){return t instanceof e}))}},{key:"addLine",value:function(e){if(e instanceof Ws)throw new Error("Error: bundle group line not allowed in media description");return e instanceof qs?(this.bandwidth=e,!0):e instanceof ac?(this.mid=e.mid,!0):e instanceof Xs?(this.fingerprint=e.fingerprint,!0):e instanceof gc?(this.setup=e.setup,!0):e instanceof $s?(this.connection=e,!0):e instanceof Hs?(this.content=e,!0):this.iceInfo.addLine(e)}}]),e}(),Cc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e.type,e.port,e.protocol)).fmts=[],n.fmts=e.formats,n}return(0,o.Z)(r,[{key:"toLines",value:function(){var e=[];return e.push(new oc(this.type,this.port,this.protocol,this.fmts)),this.connection&&e.push(this.connection),this.bandwidth&&e.push(this.bandwidth),e.push.apply(e,(0,fe.Z)(this.iceInfo.toLines())),this.fingerprint&&e.push(new Xs(this.fingerprint)),this.setup&&e.push(new gc(this.setup)),this.mid&&e.push(new ac(this.mid)),this.content&&e.push(this.content),this.sctpPort&&e.push(new hc(this.sctpPort)),this.maxMessageSize&&e.push(new ic(this.maxMessageSize)),e.push.apply(e,(0,fe.Z)(this.otherLines)),e}},{key:"addLine",value:function(e){if(ke((0,Y.Z)(r.prototype),"addLine",this).call(this,e))return!0;if(e instanceof oc)throw new Error("Error: tried passing a MediaLine to an existing MediaInfo");return e instanceof hc?(this.sctpPort=e.port,!0):e instanceof ic?(this.maxMessageSize=e.maxMessageSize,!0):(this.otherLines.push(e),!0)}}]),r}(kc),Oc=function(){function e(t){(0,i.Z)(this,e),this.fmtParams=new(Xe()),this.feedback=[],this.pt=t}return(0,o.Z)(e,[{key:"addLine",value:function(e){if(e instanceof dc)return this.name=e.encodingName,this.clockRate=e.clockRate,this.encodingParams=e.encodingParams,!0;if(e instanceof Qs){if(this.fmtParams=new(Xe())([].concat((0,fe.Z)(ve()(this.fmtParams.entries())),(0,fe.Z)(ve()(e.params.entries())))),e.params.has("apt")){var t=e.params.get("apt");this.primaryCodecPt=Me()(t,10)}return!0}return e instanceof pc&&(this.feedback.push(e.feedback),!0)}},{key:"toLines",value:function(){var e=this,t=[];return t.push(new dc(this.pt,this.name,this.clockRate,this.encodingParams)),this.feedback.forEach((function(r){t.push(new pc(e.pt,r))})),this.fmtParams.size>0&&t.push(new Qs(this.pt,this.fmtParams)),t}}]),e}(),Ac=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e.type,e.port,e.protocol)).pts=[],n.extMaps=[],n.rids=[],n.codecs=new(Xe()),n.rtcpMux=!1,n.ssrcs=[],n.ssrcGroups=[],n.pts=e.formats.map((function(e){return Me()(e,10)})),n.pts.forEach((function(e){return n.codecs.set(e,new Oc(e))})),n}return(0,o.Z)(r,[{key:"toLines",value:function(){var e=[];return e.push(new oc(this.type,this.port,this.protocol,this.pts.map((function(e){return"".concat(e)})))),this.connection&&e.push(this.connection),this.bandwidth&&e.push(this.bandwidth),e.push.apply(e,(0,fe.Z)(this.iceInfo.toLines())),this.fingerprint&&e.push(new Xs(this.fingerprint)),this.setup&&e.push(new gc(this.setup)),this.mid&&e.push(new ac(this.mid)),this.rtcpMux&&e.push(new fc),this.content&&e.push(this.content),this.extMaps.forEach((function(t){return e.push(t)})),this.rids.forEach((function(t){return e.push(t)})),this.simulcast&&e.push(this.simulcast),this.direction&&e.push(new Ys(this.direction)),this.codecs.forEach((function(t){return e.push.apply(e,(0,fe.Z)(t.toLines()))})),e.push.apply(e,(0,fe.Z)(this.ssrcs)),e.push.apply(e,(0,fe.Z)(this.ssrcGroups)),e.push.apply(e,(0,fe.Z)(this.otherLines)),e}},{key:"addLine",value:function(e){if(ke((0,Y.Z)(r.prototype),"addLine",this).call(this,e))return!0;if(e instanceof oc)throw new Error("Error: tried passing a MediaLine to an existing MediaInfo");if(e instanceof Ys)return this.direction=e.direction,!0;if(e instanceof Js)return this.extMaps.push(e),!0;if(e instanceof uc)return this.rids.push(e),!0;if(e instanceof fc)return this.rtcpMux=!0,!0;if(e instanceof wc)return this.simulcast=e,!0;if(e instanceof dc||e instanceof Qs||e instanceof pc){var t=this.codecs.get(e.payloadType);if(!t)throw new Error("Error: got line for unknown codec: ".concat(e.toSdpLine()));return t.addLine(e),!0}return e instanceof _c?(this.ssrcs.push(e),!0):e instanceof Sc?(this.ssrcGroups.push(e),!0):(this.otherLines.push(e),!0)}},{key:"getCodecByPt",value:function(e){return this.codecs.get(e)}},{key:"removePt",value:function(e){var t=this,r=(0,fe.Z)(this.codecs.values()).filter((function(t){return t.primaryCodecPt===e})).map((function(e){return e.pt})),n=[e].concat((0,fe.Z)(r));n.forEach((function(e){t.codecs.delete(e)})),this.pts=this.pts.filter((function(e){return-1===n.indexOf(e)}))}}]),r}(kc),Ic=function(){function e(){(0,i.Z)(this,e),this.groups=[],this.otherLines=[]}return(0,o.Z)(e,[{key:"addLine",value:function(e){return e instanceof xc?(this.version=e,!0):e instanceof cc?(this.origin=e,!0):e instanceof mc?(this.sessionName=e,!0):e instanceof vc?(this.information=e,!0):e instanceof Ec?(this.timing=e,!0):e instanceof $s?(this.connection=e,!0):e instanceof qs?(this.bandwidth=e,!0):e instanceof Ws?(this.groups.push(e),!0):(this.otherLines.push(e),!0)}},{key:"toLines",value:function(){var e=[];return this.version&&e.push(this.version),this.origin&&e.push(this.origin),this.sessionName&&e.push(this.sessionName),this.information&&e.push(this.information),this.connection&&e.push(this.connection),this.bandwidth&&e.push(this.bandwidth),this.timing&&e.push(this.timing),this.groups&&e.push.apply(e,(0,fe.Z)(this.groups)),e.push.apply(e,(0,fe.Z)(this.otherLines)),e}}]),e}(),Lc=function(){function e(){(0,i.Z)(this,e),this.session=new Ic,this.media=[]}return(0,o.Z)(e,[{key:"avMedia",get:function(){return this.media.filter((function(e){return e instanceof Ac}))}},{key:"toString",value:function(){var e=[];return e.push.apply(e,(0,fe.Z)(this.session.toLines())),this.media.forEach((function(t){return e.push.apply(e,(0,fe.Z)(t.toLines()))})),"".concat(e.map((function(e){return e.toSdpLine()})).join("\r\n"),"\r\n")}}]),e}(),Pc=new(function(e){(0,H.Z)(r,e);var t=_t(r);function r(){var e;return(0,i.Z)(this,r),(e=t.call(this)).addParser("v",xc.fromSdpLine),e.addParser("o",cc.fromSdpLine),e.addParser("c",$s.fromSdpLine),e.addParser("i",vc.fromSdpLine),e.addParser("m",oc.fromSdpLine),e.addParser("s",mc.fromSdpLine),e.addParser("t",Ec.fromSdpLine),e.addParser("b",qs.fromSdpLine),e.addParser("a",dc.fromSdpLine),e.addParser("a",pc.fromSdpLine),e.addParser("a",Qs.fromSdpLine),e.addParser("a",Ys.fromSdpLine),e.addParser("a",Js.fromSdpLine),e.addParser("a",ac.fromSdpLine),e.addParser("a",rc.fromSdpLine),e.addParser("a",tc.fromSdpLine),e.addParser("a",ec.fromSdpLine),e.addParser("a",Xs.fromSdpLine),e.addParser("a",gc.fromSdpLine),e.addParser("a",hc.fromSdpLine),e.addParser("a",ic.fromSdpLine),e.addParser("a",fc.fromSdpLine),e.addParser("a",Ws.fromSdpLine),e.addParser("a",Hs.fromSdpLine),e.addParser("a",uc.fromSdpLine),e.addParser("a",Gs.fromSdpLine),e.addParser("a",wc.fromSdpLine),e.addParser("a",_c.fromSdpLine),e.addParser("a",Sc.fromSdpLine),e}return(0,o.Z)(r)}(function(){function e(){(0,i.Z)(this,e),this.parsers=new(Xe())}return(0,o.Z)(e,[{key:"addParser",value:function(e,t){var r=this.parsers.get(e)||[];r.push(t),this.parsers.set(e,r)}},{key:"getParsers",value:function(e){return this.parsers.get(e)||[]}}]),e}()));function Mc(e){return e.length>2}function Nc(e){var t=function(e,t){var r=[];return e.split(/(\r\n|\r|\n)/).filter(Mc).forEach((function(e){var n,i=e[0],o=e.slice(2),a=bt(t.getParsers(i));try{for(a.s();!(n=a.n()).done;){var s=(0,n.value)(o);if(s)return void r.push(s)}}catch(e){a.e(e)}finally{a.f()}var c=Rc.fromSdpLine(e);r.push(c)})),r}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pc),r=function(e){var t=new Lc,r=t.session;return e.forEach((function(e){if(e instanceof oc){var n;if("audio"===e.type||"video"===e.type)n=new Ac(e);else{if("application"!==e.type)throw new Error("Unhandled media type: ".concat(e.type));n=new Cc(e)}t.media.push(n),r=n}else r.addLine(e)})),t}(t);return r}var Dc,jc={exports:{}},Uc="object"===("undefined"==typeof Reflect?"undefined":(0,Ce.Z)(Reflect))?Reflect:null,Bc=Uc&&"function"==typeof et()?et():function(e,t,r){return Function.prototype.apply.call(e,t,r)};Dc=Uc&&"function"==typeof Fe()?Fe():Ge()?function(e){return rt()(e).concat(Ge()(e))}:function(e){return rt()(e)};var Fc=it()||function(e){return e!=e};function Zc(){Zc.init.call(this)}jc.exports=Zc,jc.exports.once=function(e,t){return new(B())((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}Jc(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&Jc(e,"error",t,r)}(e,i,{once:!0})}))},Zc.EventEmitter=Zc,Zc.prototype._events=void 0,Zc.prototype._eventsCount=0,Zc.prototype._maxListeners=void 0;var Vc=10;function qc(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,Ce.Z)(e))}function zc(e){return void 0===e._maxListeners?Zc.defaultMaxListeners:e._maxListeners}function Wc(e,t,r,n){var i,o,a,s;if(qc(r),void 0===(o=e._events)?(o=e._events=De()(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=zc(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function Gc(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $c(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Gc.bind(n);return i.listener=r,n.wrapFn=i,i}function Hc(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):Yc(i,i.length)}function Kc(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Yc(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Jc(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,Ce.Z)(e));e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Ae()(Zc,"defaultMaxListeners",{enumerable:!0,get:function(){return Vc},set:function(e){if("number"!=typeof e||e<0||Fc(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Vc=e}}),Zc.init=function(){void 0!==this._events&&this._events!==Ue()(this)._events||(this._events=De()(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Zc.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Fc(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Zc.prototype.getMaxListeners=function(){return zc(this)},Zc.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)Bc(s,this,t);else{var c=s.length,u=Yc(s,c);for(r=0;r<c;++r)Bc(u[r],this,t)}return!0},Zc.prototype.addListener=function(e,t){return Wc(this,e,t,!1)},Zc.prototype.on=Zc.prototype.addListener,Zc.prototype.prependListener=function(e,t){return Wc(this,e,t,!0)},Zc.prototype.once=function(e,t){return qc(t),this.on(e,$c(this,e,t)),this},Zc.prototype.prependOnceListener=function(e,t){return qc(t),this.prependListener(e,$c(this,e,t)),this},Zc.prototype.removeListener=function(e,t){var r,n,i,o,a;if(qc(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=De()(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},Zc.prototype.off=Zc.prototype.removeListener,Zc.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=De()(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=De()(null):delete r[e]),this;if(0===arguments.length){var i,o=N()(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=De()(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},Zc.prototype.listeners=function(e){return Hc(this,e,!0)},Zc.prototype.rawListeners=function(e){return Hc(this,e,!1)},Zc.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Kc.call(e,t)},Zc.prototype.listenerCount=Kc,Zc.prototype.eventNames=function(){return this._eventsCount>0?Dc(this._events):[]};var Xc,Qc=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r)}(jc.exports.EventEmitter);!function(e){e[e.NOT_OVERUSED=0]="NOT_OVERUSED",e[e.OVERUSED=1]="OVERUSED"}(Xc||(Xc={}));var eu,tu=function(){function e(t){(0,i.Z)(this,e),this.monitors=[],this.lastOverallOveruseState=Xc.NOT_OVERUSED,this.isRunning=!1,this.overuseUpdateCallback=t}return(0,o.Z)(e,[{key:"addMonitor",value:function(e){var t=this;this.monitors.push(e),this.isRunning&&e.startMonitoring((function(){return t.onMonitorOveruseUpdate()}))}},{key:"start",value:function(){var e=this;this.isRunning=!0,this.monitors.forEach((function(t){return t.startMonitoring((function(){return e.onMonitorOveruseUpdate()}))}))}},{key:"stop",value:function(){this.isRunning=!1,this.monitors.forEach((function(e){return e.stopMonitoring()}))}},{key:"onMonitorOveruseUpdate",value:function(){var e=this.monitors.map((function(e){return e.getLastOveruseState()})).some((function(e){return e===Xc.OVERUSED}))?Xc.OVERUSED:Xc.NOT_OVERUSED;e!==this.lastOverallOveruseState&&(this.lastOverallOveruseState=e,this.overuseUpdateCallback(e))}}]),e}();!function(e){e.MediaStarted="media-started",e.MediaStopped="media-stopped",e.SourceUpdate="source-update"}(eu||(eu={}));var ru=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this))._idGetter=e,o.handleTrackMuted=o.handleTrackMuted.bind((0,$.Z)(o)),o.handleTrackUnmuted=o.handleTrackUnmuted.bind((0,$.Z)(o)),o._stream=new MediaStream([n]),o._sourceState="no source",o.addTrackHandlers(n),o}return(0,o.Z)(r,[{key:"addTrackHandlers",value:function(e){e.addEventListener("mute",this.handleTrackMuted),e.addEventListener("unmute",this.handleTrackUnmuted)}},{key:"handleTrackMuted",value:function(){this.emit(eu.MediaStopped)}},{key:"handleTrackUnmuted",value:function(){this.emit(eu.MediaStarted)}},{key:"removeTrackHandlers",value:function(e){e.removeEventListener("mute",this.handleTrackMuted),e.removeEventListener("unmute",this.handleTrackUnmuted)}},{key:"replaceTrack",value:function(e){var t,r=null===(t=this._stream.getTracks())||void 0===t?void 0:t[0];r&&(this._stream.removeTrack(r),this.removeTrackHandlers(r)),this.addTrackHandlers(e),this._stream.addTrack(e)}},{key:"_updateSource",value:function(e,t){e===this._sourceState&&t===this._currentRxCsi||(this._sourceState=e,this._currentRxCsi=t,this.emit(eu.SourceUpdate,e,t))}},{key:"close",value:function(){var e=this;this._stream.getTracks().forEach((function(t){e.removeTrackHandlers(t)}))}},{key:"id",get:function(){return this._idGetter()}},{key:"stream",get:function(){return this._stream}},{key:"currentRxCsi",get:function(){return this._currentRxCsi}}]),r}(Qc);ru.Events=eu;var nu=function(){function e(t){(0,i.Z)(this,e),this._rtcRtpTransceiver=t}return(0,o.Z)(e,[{key:"replaceTransceiver",value:function(e){this._rtcRtpTransceiver=e}},{key:"receiver",get:function(){return this._rtcRtpTransceiver.receiver}},{key:"sender",get:function(){return this._rtcRtpTransceiver.sender}},{key:"mid",get:function(){return this._rtcRtpTransceiver.mid}},{key:"close",value:function(){this._rtcRtpTransceiver.stop()}}]),e}(),iu=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this,e))._receiveSlot=new ru((function(){return o._rtcRtpTransceiver.mid?n(o._rtcRtpTransceiver.mid):null}),o._rtcRtpTransceiver.receiver.track),o}return(0,o.Z)(r,[{key:"replaceTransceiver",value:function(e){ke((0,Y.Z)(r.prototype),"replaceTransceiver",this).call(this,e),this._receiveSlot.replaceTrack(e.receiver.track)}},{key:"close",value:function(){ke((0,Y.Z)(r.prototype),"close",this).call(this),this._receiveSlot.close()}},{key:"receiveSlot",get:function(){return this._receiveSlot}},{key:"getStats",value:function(){return this.receiver.getStats()}}]),r}(nu);iu.rid="1";var ou=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=jmp"}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r}}]),r}(Vs);ou.regex=/^jmp$/;var au=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this)).streamIdMode=e,n}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){return"a=jmp-stream-id-mode:".concat(this.streamIdMode)}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e))return new r(e.match(r.regex)[1])}}]),r}(Vs);au.regex=/^jmp-stream-id-mode:(MID-RID|SSRC)$/;var su=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this)).source=e,o.csi=n,o}return(0,o.Z)(r,[{key:"toSdpLine",value:function(){var e="a=jmp-source:".concat(this.source);return this.csi&&(e+=" csi=".concat(this.csi)),e}}],[{key:"fromSdpLine",value:function(e){if(r.regex.test(e)){var t=e.match(r.regex);return new r(t[1],t[2])}}}]),r}(Vs);function cu(e){return _e()(e)?e.map((function(e){return cu(e)})):e instanceof Xe()?new(Xe())(e):e instanceof Date?new Date(e.getTime()):e&&"object"===(0,Ce.Z)(e)?rt()(e).reduce((function(t,r){return Ae()(t,r,Te()(e,r)),t[r]=cu(e[r]),t}),De()(Ue()(e))):e}function uu(e,t){var r=t.map((function(e){return e.toLowerCase()}));e.avMedia.map((function(e){return(0,fe.Z)(e.codecs.values()).map((function(e){return e.name}))})).flat().filter((function(e){return!r.includes(e.toLowerCase())})).forEach((function(t){return function(e,t){e.avMedia.forEach((function(e){var r=(0,fe.Z)(e.codecs.entries()).filter((function(e){var r;return(null===(r=(0,le.Z)(e,2)[1].name)||void 0===r?void 0:r.toLowerCase())===t.toLowerCase()}));r.forEach((function(t){var r=(0,le.Z)(t,1)[0];return e.removePt(r)}))}))}(e,t)}))}function fu(e,t,r){if("max-compat"===t){var n=r.get(Na.AudioMain),i=r.get(Na.VideoMain),o=r.get(Na.AudioSlides),a=r.get(Na.VideoSlides);e.session.groups.splice(0,e.session.groups.length),n&&e.session.groups.push(new Ws(n)),i&&e.session.groups.push(new Ws(i)),o&&e.session.groups.push(new Ws(o)),a&&e.session.groups.push(new Ws(a))}}function lu(e,t,r){t.session.groups=e.session.groups,t.media=e.media.map((function(e){if(!e.mid)throw new Error("Offer mline is missing MID");var n=t.media.find((function(t){return t.mid===e.mid}));if(n)return n instanceof Ac&&(0,fe.Z)(n.codecs.values()).forEach((function(e){e.fmtParams.set("x-google-start-bitrate","60000")})),n;if(!(e instanceof Ac))throw new Error("Answer is missing a non-media mline: ".concat(e.mid));var i=t.avMedia.find((function(t){return t.type===e.type}));if(!i)throw new Error("Answer has no mline of type ".concat(e.type,", can't generate synthetic answer mline for mid ").concat(e.mid));var o=cu(i);(o.mid=e.mid,o.simulcast=void 0,"sendrecv"!==e.direction&&"sendonly"!==e.direction||(o.direction="recvonly"),"recvonly"===e.direction)&&(o.direction="sendonly",r.getIngressStreamSignalerOrThrow(e.mid).signalRemoteStreams(o));return o}))}function pu(e,t,r){e.avMedia.filter((function(e){return"sendrecv"===e.direction||"inactive"===e.direction})).forEach((function(e){if(e.otherLines.find((function(e){return e instanceof ou}))||e.addLine(new ou),!e.otherLines.find((function(e){return e instanceof su}))){var n=function(e){var t,r,n;if(e.type.toLowerCase()===La.Audio.toLowerCase())n=La.Audio;else{if(e.type.toLowerCase()!==La.Video.toLowerCase())throw Error("Mline type doesn't match any known MediaFamily: ".concat(e.type));n=La.Video}return Ba(n,(null===(r=null===(t=e.content)||void 0===t?void 0:t.values)||void 0===r?void 0:r.some((function(e){return"slides"===e.toLowerCase()})))?Pa.Slides:Pa.Main)}(e),i=t.get(n);if(!i)throw new Error("Unable to find CSI for MediaType ".concat(n));e.addLine(new su(e.mid,i.toString()))}e.otherLines.find((function(e){return e instanceof au}))||e.addLine(new au(r))}))}su.regex=new RegExp("^jmp-source:(".concat(Fs,") (?:csi=(").concat(Fs,"))")),Pc.addParser("a",ou.fromSdpLine),Pc.addParser("a",su.fromSdpLine),Pc.addParser("a",au.fromSdpLine);var du=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this,e)).requested=!1,o.csi=n,o.direction="sendrecv",o.handleTrackChange=o.handleTrackChange.bind((0,$.Z)(o)),o}return(0,o.Z)(r,[{key:"handleTrackChange",value:function(){var e;return Ya(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.requested){t.next=3;break}return t.next=3,this.sender.replaceTrack((null===(e=this.publishedTrack)||void 0===e?void 0:e.underlyingTrack)||null);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"replaceTransceiver",value:function(e){var t,n=this,i=De()(null,{replaceTransceiver:{get:function(){return ke((0,Y.Z)(r.prototype),"replaceTransceiver",n)}}});return Ya(this,void 0,void 0,c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.replaceTransceiver.call(this,e),e.direction=this.direction,!this.requested){r.next=5;break}return r.next=5,this.sender.replaceTrack((null===(t=this.publishedTrack)||void 0===t?void 0:t.underlyingTrack)||null);case 5:case"end":return r.stop()}}),r,this)})))}},{key:"replacePublishedTrack",value:function(e){var t,r;return Ya(this,void 0,void 0,c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(t=this.publishedTrack)||void 0===t||t.off(qi.UnderlyingTrackChange,this.handleTrackChange),null===(r=this.publishedTrack)||void 0===r||r.setPublished(!1),!this.requested){n.next=5;break}return n.next=5,this.sender.replaceTrack((null==e?void 0:e.underlyingTrack)||null);case 5:this.publishedTrack=e,null==e||e.on(qi.UnderlyingTrackChange,this.handleTrackChange),null==e||e.setPublished(!0);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"setTrackRequested",value:function(e){var t;return Ya(this,void 0,void 0,c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.requested===e){r.next=5;break}return this.requested=e,n=e&&(null===(t=this.publishedTrack)||void 0===t?void 0:t.underlyingTrack)||null,r.next=5,this.sender.replaceTrack(n);case 5:case"end":return r.stop()}}),r,this)})))}},{key:"updateSimulcastStreamStates",value:function(e){return Ya(this,void 0,void 0,c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=this.sender.getParameters()).encodings.forEach((function(t,r){var n=e.get(r);t.active=Boolean(n),n&&(n.scaleDownRatio>=1&&t.scaleResolutionDownBy!==n.scaleDownRatio&&(t.scaleResolutionDownBy=n.scaleDownRatio),n.maxPayloadBitsPerSecond&&(t.maxBitrate=n.maxPayloadBitsPerSecond))})),t.next=4,this.sender.setParameters(r);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getScaleDownRatio",value:function(e){var t;if(!e)return-1;if(!this.publishedTrack)return-1;var r=null===(t=this.publishedTrack)||void 0===t?void 0:t.underlyingTrack.getSettings(),n=null==r?void 0:r.height,i=null==r?void 0:r.width;return i&&n?Math.max(function(e,t,r){return t/ba(e,r)}([i,n],n,e),1):-1}},{key:"publishTrack",value:function(e){return this.replacePublishedTrack(e)}},{key:"unpublishTrack",value:function(){return this.replacePublishedTrack()}},{key:"setActive",value:function(e){return this.direction=e?"sendrecv":"inactive",this._rtcRtpTransceiver.direction=this.direction,this._rtcRtpTransceiver.direction!==this._rtcRtpTransceiver.currentDirection}},{key:"getStats",value:function(){return this.sender.getStats()}}]),r}(nu),hu=function(){function e(t){var r=this;(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Ya(r,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))};this.statsGetter=t,this.statsPreProcessor=n}return(0,o.Z)(e,[{key:"getStats",value:function(){return Ya(this,void 0,void 0,c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.statsGetter();case 2:return t=e.sent,r=new(Xe()),t.forEach((function(e,t){return r.set(t,e)})),e.next=7,this.statsPreProcessor(r);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))}}]),e}(),vu={0:"240",1:"2304",2:"8160"},mu=function(){function e(t){(0,i.Z)(this,e),this.mid=t}return(0,o.Z)(e,[{key:"getReceiverId",value:function(){return{mid:this.mid,rid:"1"}}},{key:"signalLocalStreams",value:function(e){}},{key:"signalRemoteStreams",value:function(e){}}]),e}(),gu=function(){function e(t){(0,i.Z)(this,e),this.streamIds=[],this.mid=t}return(0,o.Z)(e,[{key:"signalStreams",value:function(e,t,r){r.ssrcGroups=[],0===this.streamIds.length&&(this.streamIds=e?[{mid:this.mid,rid:"low"},{mid:this.mid,rid:"medium"},{mid:this.mid,rid:"high"}]:[{mid:this.mid}]),e&&(r.rids=this.streamIds.map((function(e,t){return new uc(e.rid,"send","max-fs=".concat(vu[t]))})),r.simulcast=new wc(bc.fromString("low;medium;high"),new bc))}},{key:"getSenderIds",value:function(){return this.streamIds}},{key:"getEncodingIndexForStreamId",value:function(e){return this.streamIds.findIndex((function(t){return qa(t,e)}))}}]),e}();function yu(){return Math.floor(4294967295*Math.random())+1}var bu=function(){function e(){(0,i.Z)(this,e),this.ssrc=yu()}return(0,o.Z)(e,[{key:"getReceiverId",value:function(){return at()({ssrc:this.ssrc},this.rtxSsrc?{rtxSsrc:this.rtxSsrc}:{})}},{key:"signalLocalStreams",value:function(e){}},{key:"signalRemoteStreams",value:function(e){e.addLine(new _c(this.ssrc,"cname","".concat(this.ssrc,"-cname"))),e.addLine(new _c(this.ssrc,"msid","-","1")),function(e,t){return(0,fe.Z)(t.codecs.values()).some((function(t){var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase())===e.toLowerCase()}))}("rtx",e)&&(this.rtxSsrc=yu(),e.addLine(new _c(this.rtxSsrc,"cname","".concat(this.ssrc,"-cname"))),e.addLine(new _c(this.rtxSsrc,"msid","-","1")),e.addLine(new Sc("FID",[this.ssrc,this.rtxSsrc])))}}]),e}(),wu=function(){function e(){(0,i.Z)(this,e),this.streamIds=[]}return(0,o.Z)(e,[{key:"signalStreams",value:function(e,t,r){var n=this;if(r.rids=[],r.simulcast=void 0,r.ssrcs=[],r.ssrcGroups=[],r.extMaps=r.extMaps.filter((function(e){return!/^urn:ietf:params:rtp-hdrext:sdes:(?:mid|rtp-stream-id|repaired-rtp-stream-id)$/.test(e.uri)})),0===this.streamIds.length){var i=e?3:1;(0,fe.Z)(Array(i).keys()).forEach((function(){var e={ssrc:yu()};t&&(e.rtxSsrc=yu()),n.streamIds.push(e)}))}this.streamIds.forEach((function(e){var n=e.ssrc;if(r.addLine(new _c(n,"cname","".concat(n,"-cname"))),r.addLine(new _c(n,"msid","-","1")),t){var i=e.rtxSsrc;r.addLine(new _c(i,"cname","".concat(n,"-cname"))),r.addLine(new _c(i,"msid","-","1")),r.addLine(new Sc("FID",[n,i]))}})),e&&r.addLine(new Sc("SIM",this.streamIds.map((function(e){return e.ssrc}))))}},{key:"getSenderIds",value:function(){return this.streamIds}},{key:"getEncodingIndexForStreamId",value:function(e){return this.streamIds.findIndex((function(t){return qa(t,e)}))}}]),e}(),_u=function(){function e(t){(0,i.Z)(this,e),this.egressStreamSignalersByMid=new(Xe()),this.ingressStreamsSignalersByMid=new(Xe()),this.ingressStreamSignalingMode=t,this.egressStreamSignalingMode=t}return(0,o.Z)(e,[{key:"getOrCreateEgressStreamSignaler",value:function(e){var t,r=this.getEgressStreamSignaler(e);return r||(t="MID-RID"===this.egressStreamSignalingMode?new gu(e):new wu,this.egressStreamSignalersByMid.set(e,t),t)}},{key:"getEgressStreamSignalerOrThrow",value:function(e){var t=this.getEgressStreamSignaler(e);if(!t)throw new Error("Couldn't find EgressStreamSignaler for mid ".concat(e));return t}},{key:"getEgressStreamSignaler",value:function(e){return this.egressStreamSignalersByMid.get(e)}},{key:"getOrCreateIngressStreamSignaler",value:function(e){var t,r=this.getIngressStreamSignaler(e);return r||(t="MID-RID"===this.ingressStreamSignalingMode?new mu(e):new bu,this.ingressStreamsSignalersByMid.set(e,t),t)}},{key:"getIngressStreamSignaler",value:function(e){return this.ingressStreamsSignalersByMid.get(e)}},{key:"getIngressStreamSignalerOrThrow",value:function(e){var t=this.getIngressStreamSignaler(e);if(!t)throw new Error("Couldn't find IngressStreamSignaler for mid ".concat(e));return t}}]),e}(),Su=function(e,t){return Ya(void 0,void 0,void 0,c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={audio:{senders:[],receivers:[]},video:{senders:[],receivers:[]},screenShareAudio:{senders:[],receivers:[]},screenShareVideo:{senders:[],receivers:[]}},r.next=3,B().all((0,fe.Z)(e.entries()).map((function(e){var t=(0,le.Z)(e,2),r=t[0],i=t[1];return Ya(void 0,void 0,void 0,c().mark((function e(){var t,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStats();case 2:e.t0=e.sent,e.t1=i.mid,e.t2=i.csi,e.t3=null===(t=i.publishedTrack)||void 0===t?void 0:t.label,o={report:e.t0,mid:e.t1,csi:e.t2,currentDirection:"sendonly",localTrackLabel:e.t3},r===Na.AudioMain&&n.audio.senders.push(o),r===Na.VideoMain&&n.video.senders.push(o),r===Na.AudioSlides&&n.screenShareAudio.senders.push(o),r===Na.VideoSlides&&n.screenShareVideo.senders.push(o);case 11:case"end":return e.stop()}}),e)})))})));case 3:return r.next=5,B().all((0,fe.Z)(t.entries()).map((function(e){var t=(0,le.Z)(e,2),r=t[0],i=t[1];return Ya(void 0,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().all(i.map((function(e){return Ya(void 0,void 0,void 0,c().mark((function t(){var i,o,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getStats();case 2:t.t0=t.sent,t.t1=null===(i=e.receiveSlot.id)||void 0===i?void 0:i.mid,t.t2=e.receiveSlot.currentRxCsi,t.t3=null===(o=e.receiveSlot.stream.getTracks()[0])||void 0===o?void 0:o.label,a={report:t.t0,mid:t.t1,csi:t.t2,currentDirection:"recvonly",localTrackLabel:t.t3},r===Na.AudioMain&&n.audio.receivers.push(a),r===Na.VideoMain&&n.video.receivers.push(a),r===Na.AudioSlides&&n.screenShareAudio.receivers.push(a),r===Na.VideoSlides&&n.screenShareVideo.receivers.push(a);case 11:case"end":return t.stop()}}),t)})))}))));case 1:case"end":return e.stop()}}),e)})))})));case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))},Eu={exports:{}};!function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Ae()(e,t,{enumerable:!0,get:n})},r.r=function(e){void 0!==ge()&&ft()&&Ae()(e,ft(),{value:"Module"}),Ae()(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(0,Ce.Z)(e)&&e&&e.__esModule)return e;var n=De()(null);if(r.r(n),Ae()(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return Me()(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return Me()(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),a=Math.max(i,o),s=0,c=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(at())return at().apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==(0,Ce.Z)(e)&&null!==e&&N()(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=o.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Ae()(e,n.key,n)}}var s=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,r){t.__esModule=!0,t.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),a=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(N()(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==(0,Ce.Z)(a)&&(r[t]=a,n+=1)})),n>0){var a=N()(r),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var f=s.default.find(a,(function(e){return t.isPlatform(e)}));if(f){var l=this.satisfies(r[f]);if(void 0!==l)return l}}if(o>0){var p=N()(i),d=s.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}(Eu);var xu=Qa(Eu.exports);function Ru(){return xu.getParser(window.navigator.userAgent).getBrowser()}var Tu={exports:{}};!function(e){!function(t){var r,n={};n.VERSION="1.6.1";var i={},o=function(e,t){return function(){return t.apply(e,arguments)}},a=function(){var e,t,r=arguments,n=r[0];for(t=1;t<r.length;t++)for(e in r[t])!(e in n)&&r[t].hasOwnProperty(e)&&(n[e]=r[t][e]);return n},s=function(e,t){return{value:e,name:t}};n.TRACE=s(1,"TRACE"),n.DEBUG=s(2,"DEBUG"),n.INFO=s(3,"INFO"),n.TIME=s(4,"TIME"),n.WARN=s(5,"WARN"),n.ERROR=s(8,"ERROR"),n.OFF=s(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(n.TRACE,arguments)},debug:function(){this.invoke(n.DEBUG,arguments)},info:function(){this.invoke(n.INFO,arguments)},warn:function(){this.invoke(n.WARN,arguments)},error:function(){this.invoke(n.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"end"])},invoke:function(e,t){r&&this.enabledFor(e)&&r(t,a({level:e},this.context))}};var u,f=new c({filterLevel:n.OFF});(u=n).enabledFor=o(f,f.enabledFor),u.trace=o(f,f.trace),u.debug=o(f,f.debug),u.time=o(f,f.time),u.timeEnd=o(f,f.timeEnd),u.info=o(f,f.info),u.warn=o(f,f.warn),u.error=o(f,f.error),u.log=u.info,n.setHandler=function(e){r=e},n.setLevel=function(e){for(var t in f.setLevel(e),i)i.hasOwnProperty(t)&&i[t].setLevel(e)},n.getLevel=function(){return f.getLevel()},n.get=function(e){return i[e]||(i[e]=new c(a({name:e},f.context)))},n.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},r=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,o){i=Array.prototype.slice.call(i);var a,s=console.log;o.level===n.TIME?(a=(o.name?"["+o.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):r(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(o.level===n.WARN&&console.warn?s=console.warn:o.level===n.ERROR&&console.error?s=console.error:o.level===n.INFO&&console.info?s=console.info:o.level===n.DEBUG&&console.debug?s=console.debug:o.level===n.TRACE&&console.trace&&(s=console.trace),e.formatter(i,o),r(s,i))}},n.useDefaults=function(e){n.setLevel(e&&e.defaultLevel||n.DEBUG),n.setHandler(n.createDefaultHandler(e))},n.setDefaults=n.useDefaults,e.exports?e.exports=n:(n._prevLogger=t.Logger,n.noConflict=function(){return t.Logger=n._prevLogger,n},t.Logger=n)}(Xa)}(Tu);var ku,Cu=Tu.exports,Ou=Cu.get("web-client-media-engine");function Au(e){return[Na.VideoMain,Na.VideoSlides].includes(e)?la.Video:la.Audio}function Iu(e){return e===la.Video?La.Video:La.Audio}Ou.setLevel(Cu.DEBUG),function(e){e.VideoSourceCountUpdate="video-source-count-update",e.AudioSourceCountUpdate="audio-source-count-update",e.ActiveSpeakerNotification="active-speaker-notification",e.ConnectionStateUpdate="connection-state-update"}(ku||(ku={}));var Lu,Pu,Mu,Nu={floorControlledPresentation:!1,disableSimulcast:"Firefox"===Ru().name,streamSignalingMode:"SSRC",bundlePolicy:"max-compat",iceServers:void 0,disableContentSimulcast:!0,enableMainAudio:!0,enableMainVideo:!0},Du=function(e){(0,H.Z)(r,e);var t=_t(r);function r(){var e;(0,i.Z)(this,r);var n,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=t.call(this)).sendTransceivers=new(Xe()),e.recvTransceivers=new(Xe()),e.jmpSessions=new(Xe()),e.pendingJmpTasks=[],e.metricsCallback=function(){},e.overuseUpdateCallback=function(){},e.customCodecParameters=new(Xe()),e.midMap=new(Xe()),e.currentMid=0,e.options=at()(at()({},Nu),a),Ou.info("Creating multistream connection with options ".concat(j()(e.options))),e.initializePeerConnection(),e.streamSignalerManager=new _u(e.options.streamSignalingMode),e.overuseStateManager=new tu((function(t){return e.overuseUpdateCallback(t)})),e.overuseStateManager.start(),e.statsManager=new hu((function(){return e.pc.getStats()}),(function(t){return e.preProcessStats(t)}));var s=ja(),c=e.getVideoEncodingOptions(Pa.Main);if(e.createSendTransceiver(Na.VideoMain,s,c),e.createSendTransceiver(Na.AudioMain,s),null===(n=e.sendTransceivers.get(Na.VideoMain))||void 0===n||n.setActive(e.options.enableMainVideo),null===(o=e.sendTransceivers.get(Na.AudioMain))||void 0===o||o.setActive(e.options.enableMainAudio),e.options.floorControlledPresentation){var u=e.getVideoEncodingOptions(Pa.Slides),f=ja();e.createSendTransceiver(Na.VideoSlides,f,u),e.createSendTransceiver(Na.AudioSlides,f)}return e}return(0,o.Z)(r,[{key:"addMid",value:function(e){var t=this.currentMid++,r=this.midMap.get(e)||[];r.push("".concat(t)),this.midMap.set(e,r)}},{key:"clearMids",value:function(){this.midMap=new(Xe()),this.currentMid=0}},{key:"initializePeerConnection",value:function(){var e,t=this;null===(e=this.pc)||void 0===e||e.close(),this.pc=new va({iceServers:this.options.iceServers,bundlePolicy:this.options.bundlePolicy}),this.pc.on(va.Events.ConnectionStateChange,(function(e){return t.emit(ku.ConnectionStateUpdate,e)})),this.attachMetricsObserver(),this.createDataChannel()}},{key:"getConnectionState",value:function(){return this.pc.getConnectionState()}},{key:"getVideoEncodingOptions",value:function(e){return(e===Pa.Main?!this.options.disableSimulcast:!this.options.disableContentSimulcast)?[{scaleResolutionDownBy:4,active:!1},{scaleResolutionDownBy:2,active:!1},{active:!1}]:[{active:!1}]}},{key:"createSendTransceiver",value:function(e,t,r){var n;try{n=this.pc.addTransceiver(Au(e),{direction:"sendrecv",sendEncodings:r})}catch(e){throw Ou.error("addTransceiver failed due to : ".concat(e)),e}this.addMid(e);var i=Ua(Fa(e),t);this.sendTransceivers.set(e,new du(n,i)),this.createJmpSession(e)}},{key:"createJmpSession",value:function(e){var t=this,r=new Ha(Fa(e),Za(e));if(r.setTxCallback((function(e){var r;"open"===(null===(r=t.dataChannel)||void 0===r?void 0:r.readyState)?(Ou.info("Sending JMP message: ".concat(e)),t.dataChannel.send(e)):Ou.error("DataChannel not created or not connected. Unable to send JMP message.")})),Fa(e)===La.Video){var n=0,i=0;r.on(Ga.SourceIndication,(function(r){r.sources.forEach((function(e){var r=t.getReceiveSlotById(e.id);r?r._updateSource(e.state,e.csi):Ou.warn("Got source indication for unknown receive slot: ".concat(e.id))})),r.numTotalSources===n&&r.numLiveSources===i||(n=r.numTotalSources,i=r.numLiveSources,t.emit(ku.VideoSourceCountUpdate,r.numTotalSources,r.numLiveSources,Za(e)))})),r.on(Ga.ScrRequestReceived,(function(r){t.sendSourceWarnings(e,r.requests),t.updateRequestedStreams(e,r.requests)}))}if(Fa(e)===La.Audio){var o=0,a=0;r.on(Ga.SourceIndication,(function(r){r.sources.forEach((function(e){var r=t.getReceiveSlotById(e.id);r?r._updateSource(e.state,e.csi):Ou.warn("Got source indication for unknown receive slot: ".concat(e.id))})),r.numTotalSources===o&&r.numLiveSources===a||(o=r.numTotalSources,a=r.numLiveSources,t.emit(ku.AudioSourceCountUpdate,r.numTotalSources,r.numLiveSources,Za(e)))})),r.on(Ga.ActiveSpeaker,(function(e){return t.emit(ku.ActiveSpeakerNotification,e)})),r.on(Ga.ScrRequestReceived,(function(r){t.updateRequestedStreams(e,r.requests)}))}this.jmpSessions.set(e,r)}},{key:"sendSourceWarnings",value:function(e,t){var r;if(Fa(e)===La.Video){var n=this.getSendTransceiverOrThrow(e),i=this.streamSignalerManager.getEgressStreamSignalerOrThrow(n.mid),o=(null===(r=n.publishedTrack)||void 0===r?void 0:r.getNumActiveSimulcastLayers())||0,a=[];if(t.forEach((function(e){var t=e.ids,r=e.policySpecificInfo;t.forEach((function(e){Ia(r)&&n.csi!==r.csi?a.push({id:e,state:"invalid source",csi:r.csi}):i.getSenderIds().some((function(t){return qa(e,t)}))?i.getEncodingIndexForStreamId(e)>o&&a.push({id:e,state:"no source",csi:n.csi}):a.push({id:e,state:"invalid source",csi:n.csi})}))})),a.length>0){var s=n.publishedTrack,c=!!s&&s.published&&!s.muted;this.sendSourceIndication(e,+c,a)}}}},{key:"updateRequestedStreams",value:function(e,t){var r=this.getSendTransceiverOrThrow(e),n=this.streamSignalerManager.getEgressStreamSignalerOrThrow(r.mid),i=new(Xe()),o=t.filter((function(e){return Ia(e.policySpecificInfo)}));o.length!==t.length&&Ou.warn("Ignoring non-receiver-selected requests"),o.forEach((function(t){var o,a=t.ids,s=t.policySpecificInfo,c=t.codecInfos,u=t.maxPayloadBitsPerSecond;if(a.length>1)throw new Error("More than a single ID being unexpected/invalid ".concat(a));if(0!==a.length)if(r.csi===s.csi){var f=a[0],l=c[0];if(n.getSenderIds().some((function(e){return qa(f,e)}))){var p=n.getEncodingIndexForStreamId(f);-1!==p?i.set(p,{scaleDownRatio:r.getScaleDownRatio(null===(o=null==l?void 0:l.h264)||void 0===o?void 0:o.maxFs),maxPayloadBitsPerSecond:u}):Ou.warn("".concat(e,": Unable to get encoding index for stream ID: ").concat(j()(f)))}else Ou.warn("".concat(e,": Unable to find matching stream ID for requested ID: ").concat(j()(f)))}else Ou.warn("csi in the scr request does not match")})),r.setTrackRequested(i.size>0),Fa(e)===La.Video&&r.updateSimulcastStreamStates(i)}},{key:"createDataChannel",value:function(){var e=this,t=this.pc.createDataChannel("datachannel",{});t.onopen=function(t){Ou.info("DataChannel opened: ",t),e.sendTransceivers.forEach((function(t,r){var n=t.publishedTrack;if(n)if(Fa(r)===La.Audio)e.sendSourceIndication(r,+!n.muted);else{var i=e.streamSignalerManager.getEgressStreamSignalerOrThrow(t.mid),o=n.muted?"avatar":"live",a=i.getSenderIds().map((function(e){return{id:e,state:o,csi:t.csi}}));e.sendSourceIndication(r,+!n.muted,a)}else e.sendSourceIndication(r,0)})),Ou.info("Flushing pending JMP task queue"),e.pendingJmpTasks.forEach((function(e){return e()})),e.pendingJmpTasks=[]},t.onmessage=function(t){var r;try{r=JSON.parse(t.data)}catch(e){return void Ou.error("Error parsing datachannel JSON: ".concat(e))}Ou.debug("DataChannel got msg: ",r);var n=Ra.fromJson(r);if(n){var i=n.payload;if(ka(i)){var o=Ba(i.mediaFamily,i.mediaContent),a=e.jmpSessions.get(o);a?a.receive(i):Ou.error("Unable to find JMP session for media type ".concat(o,"."))}else Ou.error("Received invalid JMP msg: ".concat(i))}else Ou.error("Received invalid datachannel message: ".concat(t))},t.onclose=function(e){Ou.info("DataChannel closed: ",e)},t.onerror=function(e){Ou.info("DataChannel error: ",e)},this.dataChannel=t}},{key:"close",value:function(){this.sendTransceivers.forEach((function(e){return e.close()})),this.recvTransceivers.forEach((function(e){e.forEach((function(e){return e.close()}))})),this.pc.close()}},{key:"sendSourceIndication",value:function(e,t){var r,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=function(){var r;null===(r=n.jmpSessions.get(e))||void 0===r||r.updateSourceIndication(1,t,i)};"open"===(null===(r=this.dataChannel)||void 0===r?void 0:r.readyState)?o():this.pendingJmpTasks.push(o)}},{key:"publishTrack",value:function(e){return Ya(this,void 0,void 0,c().mark((function t(){var r,n,i,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e instanceof Hi&&this.options.floorControlledPresentation?Pa.Slides:Pa.Main,n=Iu(e.kind),i=Ba(n,r),o=this.getSendTransceiverOrThrow(i),e!==o.publishedTrack){t.next=7;break}return Ou.warn("This track has already been published on the transceiver."),t.abrupt("return",B().resolve());case 7:return this.addTrackListeners(i,e),t.abrupt("return",o.publishTrack(e));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"unpublishTrack",value:function(e){return Ya(this,void 0,void 0,c().mark((function t(){var r,n,i,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e instanceof Hi&&this.options.floorControlledPresentation?Pa.Slides:Pa.Main,n=Iu(e.kind),i=Ba(n,r),o=this.getSendTransceiverOrThrow(i),t.abrupt("return",o.unpublishTrack());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"addTrackListeners",value:function(e,t){var r=this,n=function(){var t=r.getVideoSources(e);null!=t&&r.sendSourceIndication(e,1,t)};t.on(Wi.Events.TrackConstraintsChange,n);var i=function(t){if(Fa(e)===La.Audio)r.sendSourceIndication(e,+!t.trackState.muted);else{var n=r.getVideoSources(e);null!=n&&r.sendSourceIndication(e,+!t.trackState.muted,n)}};t.on(Wi.Events.Muted,i);t.on(Wi.Events.PublishedStateUpdate,(function o(a){if(a.isPublished||(t.off(Wi.Events.Muted,i),t.off(Wi.Events.PublishedStateUpdate,o),t.off(Wi.Events.TrackConstraintsChange,n)),Fa(e)===La.Audio)r.sendSourceIndication(e,+a.isPublished);else{var s=r.getVideoSources(e);null!=s&&r.sendSourceIndication(e,+a.isPublished,s)}}))}},{key:"getVideoSources",value:function(e){var t,r,n,i=this.getSendTransceiverOrThrow(e),o=this.streamSignalerManager.getEgressStreamSignaler(i.mid);if(!o)return null;var a=(null===(t=i.publishedTrack)||void 0===t?void 0:t.getNumActiveSimulcastLayers())||0,s=null===(r=i.publishedTrack)||void 0===r?void 0:r.published,c=!0===(null===(n=i.publishedTrack)||void 0===n?void 0:n.muted);return o.getSenderIds().map((function(e){return{id:e,state:s?c?"avatar":a<=o.getEncodingIndexForStreamId(e)?"no source":"live":"no source",csi:i.csi}}))}},{key:"createReceiveSlot",value:function(e){return Ya(this,void 0,void 0,c().mark((function t(){var r,n,i=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.pc.addTransceiver(Au(e),{direction:"recvonly"}),this.addMid(e),n=new iu(r,(function(e){var t=i.streamSignalerManager.getIngressStreamSignaler(e);return t?t.getReceiverId():null})),!this.pc.getRemoteDescription()){t.next=6;break}return t.next=6,this.doLocalOfferAnswer();case 6:return this.recvTransceivers.set(e,[].concat((0,fe.Z)(this.recvTransceivers.get(e)||[]),[n])),t.abrupt("return",n.receiveSlot);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getIngressPayloadType",value:function(e,t){var r,n,i,o=t.split("/")[1],a=null===(r=this.sendTransceivers.get(e))||void 0===r?void 0:r.mid,s=Nc(null===(n=this.pc.getLocalDescription())||void 0===n?void 0:n.sdp),c=Nc(null===(i=this.pc.getRemoteDescription())||void 0===i?void 0:i.sdp).avMedia.filter((function(e){return a===e.mid})).map((function(e){return(0,fe.Z)(e.codecs.values())})).flat().filter((function(e){return e.name===o})),u=s.avMedia.filter((function(e){return a===e.mid})).map((function(e){return(0,fe.Z)(e.codecs.values())})).flat().filter((function(e){return e.name===o}));if(!c||!u||0===c.length||0===u.length)throw new Error("sender codecs or receiver codecs is undefined or empty");var f=c[0],l=u.find((function(e){return ga(f,e)}));if(!l||!l.pt)throw new Error("ingress payload type is not well defined in receiver codecs");return l.pt}},{key:"createOffer",value:function(){return Ya(this,void 0,void 0,c().mark((function e(){var t=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pc.getLocalDescription()||this.currentMid++,e.abrupt("return",this.pc.createOffer().then((function(e){if(!e.sdp)throw new Error("No SDP offer");return e.sdp=t.preProcessLocalOffer(e.sdp),t.pc.setLocalDescription(e)})).then((function(){return e=t.pc,new(B())((function(t,r){var n=function(){var n=e.getLocalDescription();n?t(n):r(new Error("Local description was null"))};e.on(va.Events.IceGatheringStateChange,(function(e){"complete"===e.target.iceGatheringState&&n()})),"complete"===e.iceGatheringState&&n()}));var e})).then((function(e){return{sdp:t.prepareLocalOfferForRemoteServer(e.sdp),type:e.type}})));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"setAnswer",value:function(e){return Ya(this,void 0,void 0,c().mark((function t(){var r,n,i=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!this.pc.getRemoteDescription(),n=this.preProcessRemoteAnswer(e),t.abrupt("return",this.pc.setRemoteDescription({type:"answer",sdp:n}).then((function(){r&&i.customCodecParameters.size>0&&i.doLocalOfferAnswer()})));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"doLocalOfferAnswer",value:function(){var e;return Ya(this,void 0,void 0,c().mark((function t(){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pc.createOffer();case 2:if((r=t.sent).sdp){t.next=5;break}throw new Error("No SDP offer");case 5:return r.sdp=this.preProcessLocalOffer(r.sdp),t.next=8,this.pc.setLocalDescription(r);case 8:return n=this.preProcessRemoteAnswer(null===(e=this.pc.getRemoteDescription())||void 0===e?void 0:e.sdp),t.abrupt("return",this.pc.setRemoteDescription({type:"answer",sdp:n}));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"enableMultistreamAudio",value:function(e){var t=this.sendTransceivers.get(Na.AudioMain);return!!t&&t.setActive(e)}},{key:"preProcessLocalOffer",value:function(e){var t,r=this,n=Nc(e);return uu(n,["h264","opus","rtx"]),t=2e7,n.avMedia.forEach((function(e){e.bandwidth=new qs("TIAS",t)})),n.avMedia.filter((function(e){return"recvonly"===e.direction})).forEach((function(e){r.streamSignalerManager.getOrCreateIngressStreamSignaler(e.mid).signalLocalStreams(e)})),n.avMedia.filter((function(e){return"sendrecv"===e.direction})).forEach((function(e){var t=r.streamSignalerManager.getOrCreateEgressStreamSignaler(e.mid),n=function(e){return!!e.simulcast||e.ssrcGroups.map((function(e){return e.semantics})).some((function(e){return"SIM"===e}))}(e),i="video"===e.type;t.signalStreams(n,i,e),"video"===e.type&&(0,fe.Z)(e.codecs.values()).filter((function(e){return"H264"===e.name})).forEach((function(e){e.fmtParams.set("max-mbps","".concat(244800)),e.fmtParams.set("max-fs","".concat(8160))}));var o=(0,fe.Z)(r.sendTransceivers.keys()).find((function(t){var n;return(null===(n=r.sendTransceivers.get(t))||void 0===n?void 0:n.mid)===e.mid}));o&&r.customCodecParameters.has(o)&&(0,fe.Z)(e.codecs.values()).filter((function(t){return t.name===("audio"===e.type?"opus":"H264")})).forEach((function(e){var t;null===(t=r.customCodecParameters.get(o))||void 0===t||t.forEach((function(t,r){null===t?e.fmtParams.delete(r):e.fmtParams.set(r,"".concat(t))}))}))})),"Firefox"!==Ru().name&&fu(n,this.options.bundlePolicy,this.midMap),n.toString()}},{key:"prepareLocalOfferForRemoteServer",value:function(e){var t=Nc(e),r=new(Xe());this.sendTransceivers.forEach((function(e,t){r.set(e.mid,Za(t))})),function(e,t){t.forEach((function(t,r){var n=e.media.find((function(e){return e.mid===r}));if(!n)throw new Error("Error trying to set content type for mid ".concat(r,": not found in SDP"));t===Pa.Slides&&n.addLine(new Hs(["slides"]))}))}(t,r);var n,i,o=new(Xe());return this.sendTransceivers.forEach((function(e,t){o.set(t,e.csi)})),pu(t,o,this.options.streamSignalingMode),i=[],(n=t).media=n.media.filter((function(e){return(e instanceof Cc||e instanceof Ac&&"recvonly"!==e.direction)&&(i.push(e.mid),!0)})),n.session.groups.forEach((function(e){e.mids=e.mids.filter((function(e){return i.includes(e)}))})),t.avMedia.filter((function(e){return"sendrecv"===e.direction&&"video"===e.type})).forEach((function(e){var t=e.ssrcGroups.find((function(e){return"SIM"===e.semantics}));t&&t.ssrcs.forEach((function(t,r){e.addLine(new _c(t,"fmtp","* max-fs=".concat(vu[r])))}))})),t.toString()}},{key:"preProcessRemoteAnswer",value:function(e){var t,r=Nc(e);return lu(Nc(null===(t=this.pc.getLocalDescription())||void 0===t?void 0:t.sdp),r,this.streamSignalerManager),"Firefox"===Ru().name&&fu(r,this.options.bundlePolicy,this.midMap),r.toString()}},{key:"getSendTransceiverOrThrow",value:function(e){var t=this.sendTransceivers.get(e);if(!t)throw new Error("Unable to find matching transceiver for media type ".concat(e));return t}},{key:"getPublishedTracks",value:function(){return(0,fe.Z)(this.sendTransceivers.values()).map((function(e){return e.publishedTrack})).filter(Boolean)}},{key:"setCodecParameters",value:function(e,t){return Ya(this,void 0,void 0,c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=this.customCodecParameters.get(e)||new(Xe()),de()(t).forEach((function(e){var t=(0,le.Z)(e,2),r=t[0],i=t[1];n.set(r,i)})),this.customCodecParameters.set(e,n),!this.pc.getRemoteDescription()){r.next=6;break}return r.next=6,this.doLocalOfferAnswer();case 6:case"end":return r.stop()}}),r,this)})))}},{key:"deleteCodecParameters",value:function(e,t){return Ya(this,void 0,void 0,c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=this.customCodecParameters.get(e)||new(Xe()),t.forEach((function(e){n.set(e,null)})),this.customCodecParameters.set(e,n),!this.pc.getRemoteDescription()){r.next=6;break}return r.next=6,this.doLocalOfferAnswer();case 6:case"end":return r.stop()}}),r,this)})))}},{key:"requestMedia",value:function(e,t){var r,n=this,i=function(){var r,i=n.jmpSessions.get(e);if(i){var o=[];t.forEach((function(e){return e.receiveSlots.forEach((function(e){e.id?o.push(e.id):Ou.error("Running subscribe task, but ReceiveSlot ID is missing!")}))})),null===(r=n.recvTransceivers.get(e))||void 0===r||r.forEach((function(e){o.some((function(t){return qa(t,e.receiveSlot.id)}))||e.receiveSlot._updateSource("no source",void 0)})),i.sendRequests(t.map((function(e){return e._toJmpScrRequest()})))}else Ou.error("Unable to find jmp session for ".concat(e))};"open"===(null===(r=this.dataChannel)||void 0===r?void 0:r.readyState)?i():this.pendingJmpTasks.push(i)}},{key:"renewPeerConnection",value:function(e){var t=this;e&&(this.options=at()(at()({},Nu),e)),Ou.info("Renewing multistream connection with options ".concat(j()(this.options))),this.clearMids(),this.initializePeerConnection(),this.streamSignalerManager=new _u(this.options.streamSignalingMode);var r=ja();this.sendTransceivers.forEach((function(e,n){var i;t.addMid(n),e.replaceTransceiver(t.pc.addTransceiver(Au(n),{direction:"sendrecv",sendEncodings:Fa(n)===La.Video?t.getVideoEncodingOptions(Za(n)):void 0})),e.csi=Ua(Fa(n),r),null===(i=t.jmpSessions.get(n))||void 0===i||i.close(),t.createJmpSession(n)})),this.recvTransceivers.forEach((function(e,r){e.forEach((function(e){t.addMid(r),e.replaceTransceiver(t.pc.addTransceiver(Au(r),{direction:"recvonly"}))}))}))}},{key:"getReceiveSlotById",value:function(e){return(0,fe.Z)(this.recvTransceivers.values()).flat().map((function(e){return e.receiveSlot})).find((function(t){var r=t.id||{};return N()(r).length===N()(e).length&&N()(r).every((function(t){return Object.prototype.hasOwnProperty.call(e,t)&&r[t]===e[t]}))}))}},{key:"getStats",value:function(){return this.statsManager.getStats()}},{key:"getTransceiverStats",value:function(){return Ya(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(this.sendTransceivers,this.recvTransceivers));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"preProcessStats",value:function(e){return Ya(this,void 0,void 0,c().mark((function t(){var r=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B().all((0,fe.Z)(this.sendTransceivers.entries()).map((function(t){var n=(0,le.Z)(t,2),i=n[0],o=n[1];return Ya(r,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.getStats();case 2:t.sent.forEach((function(t){var r;if("outbound-rtp"===t.type){var n=e.get(t.id);n.mid=o.mid,n.csi=o.csi,n.mediaType=i;var a=null===(r=o.publishedTrack)||void 0===r?void 0:r.underlyingTrack.getSettings();(null==a?void 0:a.frameRate)&&(n.targetFrameRate=null==a?void 0:a.frameRate),e.set(t.id,n)}}));case 3:case"end":return t.stop()}}),t)})))})));case 2:return t.next=4,B().all((0,fe.Z)(this.recvTransceivers.entries()).map((function(t){var n=(0,le.Z)(t,2),i=n[0],o=n[1];return Ya(r,void 0,void 0,c().mark((function t(){var r=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B().all(o.map((function(t){return Ya(r,void 0,void 0,c().mark((function r(){var n=this;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getStats();case 2:r.sent.forEach((function(r){var o;if("inbound-rtp"===r.type){var a=e.get(r.id);a.mid=null===(o=t.receiveSlot.id)||void 0===o?void 0:o.mid,a.csi=t.receiveSlot.currentRxCsi,a.mediaType=i;var s=n.streamSignalerManager.getIngressStreamSignaler(a.mid);s&&at()(a,s.getReceiverId()),e.set(r.id,a)}}));case 3:case"end":return r.stop()}}),r)})))})));case 2:case"end":return t.stop()}}),t)})))})));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"attachMetricsObserver",value:function(){var e=this;As(this.pc.getUnderlyingRTCPeerConnection(),(function(t){return e.metricsCallback(t)}),5e3)}},{key:"setMetricsCallback",value:function(e){this.metricsCallback=e}},{key:"setOveruseUpdateCallback",value:function(e){this.overuseUpdateCallback=e}},{key:"getCsiByMediaType",value:function(e){var t;return null===(t=this.sendTransceivers.get(e))||void 0===t?void 0:t.csi}},{key:"getAllCsis",value:function(){return{audioMain:this.getCsiByMediaType(Na.AudioMain),audioSlides:this.getCsiByMediaType(Na.AudioSlides),videoMain:this.getCsiByMediaType(Na.VideoMain),videoSlides:this.getCsiByMediaType(Na.VideoSlides)}}}]),r}(Qc);function ju(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):ju(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}!function(e){e.CONNECTION_STATE_CHANGED="connectionState:changed",e.REMOTE_TRACK_ADDED="remoteTrack:added",e.ROAP_MESSAGE_TO_SEND="roap:messageToSend",e.ROAP_STARTED="roap:started",e.ROAP_FAILURE="roap:failure",e.ROAP_DONE="roap:done",e.DTMF_TONE_CHANGED="dtmfTone:changed",e.ACTIVE_SPEAKERS_CHANGED="activeSpeakers:changed",e.VIDEO_SOURCES_COUNT_CHANGED="videoSourcesCount:changed",e.AUDIO_SOURCES_COUNT_CHANGED="audioSourcesCount:changed"}(Lu||(Lu={})),function(e){e.AUDIO="audio",e.VIDEO="video",e.SCREENSHARE_VIDEO="screenShareVideo"}(Pu||(Pu={})),function(e){e.DOUBLECONFLICT="DOUBLECONFLICT",e.CONFLICT="CONFLICT",e.FAILED="FAILED",e.INVALID_STATE="INVALID_STATE",e.NOMATCH="NOMATCH",e.OUT_OF_ORDER="OUT_OF_ORDER",e.REFUSED="REFUSED",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"}(Mu||(Mu={}));var Bu=[{type:"audio",kind:"audio"},{type:"video",kind:"video"},{type:"screenShareVideo",kind:"video"}],Fu=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o){var a;return(0,i.Z)(this,r),a=t.call(this),vt((0,$.Z)(a),"id",void 0),vt((0,$.Z)(a),"config",void 0),vt((0,$.Z)(a),"pc",void 0),vt((0,$.Z)(a),"localTracks",void 0),vt((0,$.Z)(a),"transceivers",void 0),vt((0,$.Z)(a),"receiveOptions",void 0),vt((0,$.Z)(a),"mediaConnectionState",void 0),vt((0,$.Z)(a),"lastEmittedMediaConnectionState",void 0),a.config=e,a.receiveOptions=Uu({},n.receive),a.localTracks=Uu({},n.send),a.id=o||"MediaConnection",a.transceivers={},a.mediaConnectionState=io.New,a.pc=new window.RTCPeerConnection({iceServers:a.config.iceServers,bundlePolicy:"max-compat"}),a.pc.ontrack=a.onTrack.bind((0,$.Z)(a)),a.pc.oniceconnectionstatechange=a.onIceConnectionStateChange.bind((0,$.Z)(a)),a.pc.onconnectionstatechange=a.onConnectionStateChange.bind((0,$.Z)(a)),a}return(0,o.Z)(r,[{key:"log",value:function(e,t){an().info("".concat(this.id,":").concat(e," ").concat(t))}},{key:"warn",value:function(e,t){an().warn("".concat(this.id,":").concat(e," ").concat(t))}},{key:"error",value:function(e,t,r){an().error("".concat(this.id,":").concat(e," ").concat(t," ").concat(sn(r)))}},{key:"createTransceivers",value:function(){var e=this;Bu.forEach((function(t){var r=t.type,n=r,i=r,o=ai(t.kind,e.receiveOptions[n],e.localTracks[n]);e.config.skipInactiveTransceivers&&"inactive"===o.direction||(e.transceivers[i]=e.pc.addTransceiver(o.trackOrKind,{direction:o.direction}))})),this.setupTransceiverListeners()}},{key:"initializeTransceivers",value:function(e){if(this.pc.getTransceivers().length>0)throw this.error("initiateOffer()","SDP negotiation already started"),new Error("SDP negotiation already started");e?this.addLocalTracks():this.createTransceivers()}},{key:"close",value:function(){this.pc.close(),this.pc.ontrack=null,this.pc.oniceconnectionstatechange=null,this.pc.onconnectionstatechange=null,this.pc.onicegatheringstatechange=null,this.pc.onicecandidate=null,this.pc.onicecandidateerror=null}},{key:"getConfig",value:function(){return this.config}},{key:"getSendReceiveOptions",value:function(){return{send:this.localTracks,receive:this.receiveOptions}}},{key:"updateRemoteQualityLevel",value:function(e){return e!==this.receiveOptions.remoteQualityLevel&&(this.receiveOptions.remoteQualityLevel=e,!0)}},{key:"updateTransceivers",value:function(e){var t=this,r=!1;return this.receiveOptions.audio=e.receive.audio,this.receiveOptions.video=e.receive.video,this.receiveOptions.screenShareVideo=e.receive.screenShareVideo,this.identifyTransceivers(),Bu.forEach((function(n){var i=n.type,o=n.kind,a=i,s=i,c=e.send[a],u=t.transceivers[s];if(void 0!==c&&c!==t.localTracks[a]&&(t.localTracks[a]=c,u&&(t.log("updateTransceivers()",'replacing sender track on "'.concat(i,'" transceiver')),u.sender.replaceTrack(c))),u){var f=ai(o,t.receiveOptions[a],t.localTracks[a]);u.direction!==f.direction&&(t.log("updateTransceivers()","updating direction to ".concat(f.direction,' on "').concat(i,'" transceiver')),u.direction=f.direction,r=!0)}})),r}},{key:"updateSendOptions",value:function(e){return this.updateTransceivers({send:e,receive:Uu({},this.receiveOptions)})}},{key:"updateReceiveOptions",value:function(e){var t=!1;return this.updateRemoteQualityLevel(e.remoteQualityLevel)&&(t=!0),this.updateTransceivers({send:this.localTracks,receive:e})&&(t=!0),t}},{key:"updateSendReceiveOptions",value:function(e){var t=!1;return this.updateRemoteQualityLevel(e.receive.remoteQualityLevel)&&(t=!0),this.updateTransceivers(e)&&(t=!0),t}},{key:"getConnectionState",value:function(){return this.log("getConnectionState()","called, returning ".concat(this.mediaConnectionState)),this.mediaConnectionState}},{key:"getStats",value:function(){return this.pc.getStats()}},{key:"getTransceiverStats",value:function(){var e=this;return pt(c().mark((function t(){var r,n,i,o,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r={audio:{senders:[],receivers:[]},video:{senders:[],receivers:[]},screenShareAudio:{senders:[],receivers:[]},screenShareVideo:{senders:[],receivers:[]}},n=c().mark((function t(n){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=e.transceivers[n])){t.next=6;break}return t.next=4,i.sender.getStats().then((function(e){var t,o;r[n].senders.push({report:e,currentDirection:i.currentDirection,localTrackLabel:null===(t=i.sender)||void 0===t||null===(o=t.track)||void 0===o?void 0:o.label})}));case 4:return t.next=6,i.receiver.getStats().then((function(e){var t,o;r[n].receivers.push({report:e,currentDirection:i.currentDirection,localTrackLabel:null===(t=i.sender)||void 0===t||null===(o=t.track)||void 0===o?void 0:o.label})}));case 6:case"end":return t.stop()}}),t)})),i=0,o=Bu;case 3:if(!(i<o.length)){t.next=9;break}return a=o[i].type,t.delegateYield(n(a),"t0",6);case 6:i++,t.next=3;break;case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})))()}},{key:"insertDTMF",value:function(e,t,r){if(!this.transceivers.audio)throw new Error("audio transceiver missing");if(!this.transceivers.audio.sender)throw new Error("this.transceivers.audio.sender is null");if(!this.transceivers.audio.sender.dtmf)throw new Error("this.transceivers.audio.sender.dtmf is null");this.transceivers.audio.sender.dtmf.insertDTMF(e.toUpperCase(),t,r)}},{key:"setupTransceiverListeners",value:function(){var e,t;null!==(e=this.transceivers.audio)&&void 0!==e&&null!==(t=e.sender)&&void 0!==t&&t.dtmf&&(this.transceivers.audio.sender.dtmf.ontonechange=this.onToneChange.bind(this))}},{key:"onToneChange",value:function(e){this.log("onToneChange()",'emitting Event.DTMF_TONE_CHANGED with tone="'.concat(e.tone,'"')),this.emit(Lu.DTMF_TONE_CHANGED,{tone:e.tone})}},{key:"identifyTransceivers",value:function(){var e=this;if(!this.transceivers.audio&&!this.transceivers.video&&!this.transceivers.screenShareVideo){var t=this.pc.getTransceivers();this.log("identifyTransceivers()","transceivers.length=".concat(t.length)),t.forEach((function(t,r){e.log("identifyTransceivers()","transceiver[".concat(r,"].mid=").concat(t.mid))}));var r=(0,le.Z)(t,3);this.transceivers.audio=r[0],this.transceivers.video=r[1],this.transceivers.screenShareVideo=r[2],this.setupTransceiverListeners()}}},{key:"onTrack",value:function(e){var t,r,n,i,o,a,s,c,u,f;this.log("onTrack()","callback called: event=".concat(j()(e)));var l="0",p="1",d="2",h=e.track,v=null;switch(this.identifyTransceivers(),null!==(t=e.transceiver)&&void 0!==t&&t.mid?(this.log("onTrack()","identifying track by event.transceiver.mid"),v=e.transceiver.mid):v=h.id===(null===(r=this.transceivers.audio)||void 0===r||null===(n=r.receiver)||void 0===n||null===(i=n.track)||void 0===i?void 0:i.id)?l:h.id===(null===(o=this.transceivers.video)||void 0===o||null===(a=o.receiver)||void 0===a||null===(s=a.track)||void 0===s?void 0:s.id)?p:h.id===(null===(c=this.transceivers.screenShareVideo)||void 0===c||null===(u=c.receiver)||void 0===u||null===(f=u.track)||void 0===f?void 0:f.id)?d:null,this.log("onTrack()","trackMediaID=".concat(v)),v){case l:this.log("onTrack()","emitting Event.REMOTE_TRACK_ADDED with type=AUDIO"),this.emit(Lu.REMOTE_TRACK_ADDED,{type:Pu.AUDIO,track:h});break;case p:this.log("onTrack()","emitting Event.REMOTE_TRACK_ADDED with type=VIDEO"),this.emit(Lu.REMOTE_TRACK_ADDED,{type:Pu.VIDEO,track:h});break;case d:this.log("onTrack()","emitting Event.REMOTE_TRACK_ADDED with type=SCREENSHARE_VIDEO"),this.emit(Lu.REMOTE_TRACK_ADDED,{type:Pu.SCREENSHARE_VIDEO,track:h});break;default:this.error("onTrack()","failed to match remote track media id: ".concat(v))}}},{key:"addLocalTracks",value:function(){this.log("addLocalTracks()","adding tracks ".concat(j()(this.localTracks))),this.localTracks.audio&&this.pc.addTrack(this.localTracks.audio),this.localTracks.video&&this.pc.addTrack(this.localTracks.video),this.localTracks.screenShareVideo&&this.pc.addTrack(this.localTracks.screenShareVideo)}},{key:"onConnectionStateChange",value:function(){this.log("onConnectionStateChange()","callback called: connectionState=".concat(this.pc.connectionState)),this.evaluateMediaConnectionState()}},{key:"onIceConnectionStateChange",value:function(){this.log("onIceConnectionStateChange()","callback called: iceConnectionState=".concat(this.pc.iceConnectionState)),this.evaluateMediaConnectionState()}},{key:"evaluateMediaConnectionState",value:function(){var e=this.pc.connectionState,t=this.pc.iceConnectionState,r=[e,t];r.some((function(e){return"closed"===e}))?this.mediaConnectionState=io.Closed:r.some((function(e){return"failed"===e}))?this.mediaConnectionState=io.Failed:r.some((function(e){return"disconnected"===e}))?this.mediaConnectionState=io.Disconnected:r.every((function(e){return"connected"===e||"completed"===e}))?this.mediaConnectionState=io.Connected:this.mediaConnectionState=io.Connecting,this.log("evaluateConnectionState","iceConnectionState=".concat(t," rtcPcConnectionState=").concat(e," => mediaConnectionState=").concat(this.mediaConnectionState)),this.lastEmittedMediaConnectionState!==this.mediaConnectionState&&(this.emit(Lu.CONNECTION_STATE_CHANGED,{state:this.mediaConnectionState}),this.lastEmittedMediaConnectionState=this.mediaConnectionState)}},{key:"createSdpMungingConfig",value:function(){if(this.receiveOptions.remoteQualityLevel){var e={LOW:1620,MEDIUM:3600,HIGH:8192};if(!e[this.receiveOptions.remoteQualityLevel])throw new Error("invalid value for receiveOptions.remoteQualityLevel: ".concat(this.receiveOptions.remoteQualityLevel));return this.config.sdpMunging.h264MaxFs&&this.warn("createSdpMungingConfig","conflict: both config.sdpMunging.h264MaxFs and receiveOptions.remoteQualityLevel are set, remoteQualityLevel will override the config"),Uu(Uu({},this.config.sdpMunging),{},{h264MaxFs:e[this.receiveOptions.remoteQualityLevel]})}return this.config.sdpMunging}},{key:"createLocalOffer",value:function(){var e=this,t=this.createSdpMungingConfig();return this.pc.createOffer().then((function(r){e.log("createLocalOffer","local SDP offer created");var n={type:r.type,sdp:fi(t,(null==r?void 0:r.sdp)||"")};return e.pc.setLocalDescription(n)})).then((function(){return e.waitForIceCandidates()})).then((function(){var r;return{sdp:li(t,(null===(r=e.pc.localDescription)||void 0===r?void 0:r.sdp)||"")}})).catch((function(e){throw e instanceof Gr||e instanceof zr?e:new Yr("createLocalOffer() failure: ".concat(e.message),{cause:e})}))}},{key:"handleRemoteOffer",value:function(e){var t=this;if(this.log("handleRemoteOffer","called"),!e)return B().reject(new Qr("SDP missing"));var r=pi(this.config.sdpMunging,e),n=this.createSdpMungingConfig();return this.pc.setRemoteDescription(new window.RTCSessionDescription({type:"offer",sdp:r})).then((function(){return t.pc.createAnswer()})).then((function(e){var r={type:e.type,sdp:fi(n,(null==e?void 0:e.sdp)||"")};return t.pc.setLocalDescription(r)})).then((function(){return t.waitForIceCandidates()})).then((function(){var e;return{sdp:li(n,(null===(e=t.pc.localDescription)||void 0===e?void 0:e.sdp)||"")}})).catch((function(e){throw e instanceof Gr||e instanceof zr?e:new Qr("handleRemoteOffer() failure: ".concat(e.message),{cause:e})}))}},{key:"handleRemoteAnswer",value:function(e){if(this.log("handleRemoteAnswer","called"),!e)return B().reject(new Hr("SDP answer missing"));var t=pi(this.config.sdpMunging,e);return this.pc.setRemoteDescription(new window.RTCSessionDescription({type:"answer",sdp:t})).catch((function(e){throw new Hr("handleRemoteAnswer() failure: ".concat(e.message),{cause:e})}))}},{key:"waitForIceCandidates",value:function(){var e=this;return new(B())((function(t,r){var n=performance.now(),i=!1,o=function(){var t;return function(e,t){if(!t)return new Error("SDP is missing");var r,n=bt(oi(t).avMedia);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!i.iceInfo.candidates.length)return new Gr("ice candidates missing for m-line with mid=".concat(i.mid));if(!e.allowPort0&&0===i.port)return new zr("Found invalid port number 0 at m-line with mid=".concat(i.mid));if(!i.iceInfo.pwd||!i.iceInfo.ufrag)return new Gr("ice ufrag and password not found for m-line with mid=".concat(i.mid));if(e.requireH264&&"video"===i.type&&!si(i))return new zr("H264 codec is missing for video media description with mid=".concat(i.mid))}}catch(e){n.e(e)}finally{n.f()}return!1}({allowPort0:!!e.config.sdpMunging.convertPort9to0,requireH264:!!e.config.requireH264},null===(t=e.pc.localDescription)||void 0===t?void 0:t.sdp)},a=function(){if(!i){var a=performance.now()-n;e.log("waitForIceCandidates()","checking SDP...");var s=o();s&&(e.error("waitForIceCandidates()","SDP not valid after waiting: ".concat(s.message)),r(s)),e.log("waitForIceCandidates()","It took ".concat(a," milliseconds to gather ice candidates")),i=!0,e.pc.onicegatheringstatechange=null,e.pc.onicecandidate=null,e.pc.onicecandidateerror=null,t()}};if("complete"===e.pc.iceGatheringState&&!1===o())return e.log("waitForIceCandidates()",'iceGatheringState is already "complete" and local SDP is valid'),void t();e.log("waitForIceCandidates()","waiting for ICE candidates to be gathered..."),e.pc.onicegatheringstatechange=function(){e.log("waitForIceCandidates()","iceGatheringState changed to ".concat(e.pc.iceGatheringState)),"complete"===e.pc.iceGatheringState&&a()},e.pc.onicecandidate=function(t){var r,n;null===t.candidate?(e.log("waitForIceCandidates()","evt.candidate === null received"),a()):e.log("waitForIceCandidates()","ICE Candidate(".concat(null===(r=t.candidate)||void 0===r?void 0:r.sdpMLineIndex,"): ").concat(null===(n=t.candidate)||void 0===n?void 0:n.candidate))},e.pc.onicecandidateerror=function(t){e.warn("waitForIceCandidates()","onicecandidateerror: ".concat(t))}}))}}]),r}(tn),Zu=!0,Vu=!0;function qu(e,t,r){var n=e.match(t);return n&&n.length>=r&&Me()(n[r],10)}function zu(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new(Xe())),this._eventMap[t].set(n,o),i.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(r))return o.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===N()(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Ae()(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function Wu(e){return"boolean"!=typeof e?new Error("Argument type: "+(0,Ce.Z)(e)+". Please use a boolean."):(Zu=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Gu(e){return"boolean"!=typeof e?new Error("Argument type: "+(0,Ce.Z)(e)+". Please use a boolean."):(Vu=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function $u(){if("object"===("undefined"==typeof window?"undefined":(0,Ce.Z)(window))){if(Zu)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Hu(e,t){Vu&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Ku(e){return"[object Object]"===Object.prototype.toString.call(e)}function Yu(e){return Ku(e)?N()(e).reduce((function(t,r){var n=Ku(e[r]),i=n?Yu(e[r]):e[r],o=n&&!N()(i).length;return void 0===i||o?t:at()(t,(0,a.Z)({},r,i))}),{}):e}function Ju(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),N()(t).forEach((function(n){n.endsWith("Id")?Ju(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){Ju(e,e.get(t),r)}))})))}function Xu(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",i=new(Xe());if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&Ju(e,r,i)}))})),i}var Qu=$u;function ef(e,t){var r=e&&e.navigator;if(r.mediaDevices){var n=function(e){if("object"!==(0,Ce.Z)(e)||e.mandatory||e.optional)return e;var t={};return N()(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===(0,Ce.Z)(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var o={};"number"==typeof n.ideal?(o[i("min",r)]=n.ideal,t.optional.push(o),(o={})[i("max",r)]=n.ideal,t.optional.push(o)):(o[i("",r)]=n.ideal,t.optional.push(o))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(j()(e)))&&"object"===(0,Ce.Z)(e.audio)){var o=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};o((e=JSON.parse(j()(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===(0,Ce.Z)(e.video)){var a=e.video.facingMode;a=a&&("object"===(0,Ce.Z)(a)?a:{ideal:a});var s,c=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?s=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(s=["front"]),s)return r.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&s.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=a.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),Qu("chrome: "+j()(e)),i(e)}));e.video=n(e.video)}return Qu("chrome: "+j()(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){i(e,(function(e){r.webkitGetUserMedia(e,t,(function(e){n&&n(o(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){var a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return a(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return B().reject(o(e))}))}))}}}}function tf(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function rf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Ae()(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)})),t.stream.getTracks().forEach((function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else zu(e,"track",(function(e){return e.transceiver||Ae()(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function nf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Ae()(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function of(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,r=Array.prototype.slice.call(arguments),n=r[0],i=r[1],o=r[2];if(arguments.length>0&&"function"==typeof n)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof n))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},s=function(e){return new(Xe())(N()(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){return t.apply(this,[function(e){i(s(a(e)))},n])}return new(B())((function(r,n){t.apply(e,[function(e){r(s(a(e)))},n])})).then(i,o)}}}function af(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return Xu(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=n.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),zu(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return Xu(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,o=arguments[0];return this.getSenders().forEach((function(e){e.track===o&&(t?n=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===o&&(r?n=!0:r=e),e.track===o})),n||t&&r?B().reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():B().reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function sf(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},N()(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();r.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&N()(this._shimmedLocalStreams).forEach((function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),i.apply(this,arguments)}}function cf(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return sf(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[r.id];if(o)o.addTrack(t),B().resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[r.id]=a,this._reverseStreams[a.id]=r,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=(0,a.Z)({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=c(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return c(e,t)}))}));e.RTCPeerConnection.prototype[t]=n[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var r=t.sdp;return N()(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var s=Te()(e.RTCPeerConnection.prototype,"localDescription");Ae()(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},N()(this._streams).forEach((function(n){r._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=r._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var r=t.sdp;return N()(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}}function uf(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=(0,a.Z)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}))}function ff(e,t){zu(e,"negotiationneeded",(function(e){var r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}var lf=f()({__proto__:null,shimMediaStream:tf,shimOnTrack:rf,shimGetSendersWithDtmf:nf,shimGetStats:of,shimSenderReceiverGetStats:af,shimAddTrackRemoveTrackWithNative:sf,shimAddTrackRemoveTrack:cf,shimPeerConnection:uf,fixNegotiationNeeded:ff,shimGetUserMedia:ef,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var n=r.video&&r.video.width,i=r.video&&r.video.height,o=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(r.video.mandatory.maxWidth=n),i&&(r.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}});function pf(e,t){var r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){Hu("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var i=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===(0,Ce.Z)(e)&&"object"===(0,Ce.Z)(e.audio)&&(e=JSON.parse(j()(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},n&&n.prototype.getSettings){var a=n.prototype.getSettings;n.prototype.getSettings=function(){var e=a.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(0,Ce.Z)(e)&&(e=JSON.parse(j()(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function df(e){"object"===(0,Ce.Z)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Ae()(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function hf(e,t){if("object"===(0,Ce.Z)(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=(0,a.Z)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}));var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],o=e[1],a=e[2];return n.apply(this,[i||null]).then((function(e){if(t.version<53&&!o)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,at()({},t,{type:r[t.type]||t.type}))}))}return e})).then(o,a)}}}function vf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):B().resolve(new(Xe()))}}}function mf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),zu(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function gf(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;Hu("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})}function yf(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function bf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);var r=(e=(0,fe.Z)(e)).length>0;r&&e.forEach((function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(Le()(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(Le()(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var n=t.apply(this,arguments);if(r){var i=n.sender,o=i.getParameters();(!("encodings"in o)||1===o.encodings.length&&0===N()(o.encodings[0]).length)&&(o.encodings=e,i.sendEncodings=e,this.setParametersPromises.push(i.setParameters(o).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return n})}}function wf(e){if("object"===(0,Ce.Z)(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function _f(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?B().all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}function Sf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?B().all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}var Ef=f()({__proto__:null,shimOnTrack:df,shimPeerConnection:hf,shimSenderGetStats:vf,shimReceiverGetStats:mf,shimRemoveStream:gf,shimRTCDataChannel:yf,shimAddTransceiver:bf,shimGetParameters:wf,shimCreateOffer:_f,shimCreateAnswer:Sf,shimGetUserMedia:pf,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,B().reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}});function xf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(r,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(r,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i&&i.forEach((function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}}function Rf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Ae()(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}}function Tf(e){if("object"===(0,Ce.Z)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),B().resolve()):i},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),B().resolve()):i};var s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),B().resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),B().resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),B().resolve()):n},t.addIceCandidate=s}}function kf(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(Cf(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function Cf(e){return e&&void 0!==e.video?at()({},e,{video:Yu(e.video)}):e}function Of(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(Hu("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(j()(o))).urls=o.url,delete o.url,n.push(o)):n.push(e.iceServers[i])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Ae()(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function Af(e){"object"===(0,Ce.Z)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Ae()(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function If(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Lf(e){"object"!==(0,Ce.Z)(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Pf=f()({__proto__:null,shimLocalStreamsAPI:xf,shimRemoteStreamsAPI:Rf,shimCallbacksAPI:Tf,shimGetUserMedia:kf,shimConstraints:Cf,shimRTCIceServerUrls:Of,shimTrackEventTransceiver:Af,shimCreateOfferLegacy:If,shimAudioContext:Lf}),Mf={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){var r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((function(e){return 0===e.indexOf(r)}))},t.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:Me()(t[3],10),ip:t[4],address:t[4],port:Me()(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=Me()(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:void 0===r[t[n]]&&(r[t[n]]=t[n+1])}return r},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:Me()(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=Me()(t[1],10),r.channels=3===t.length?Me()(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:Me()(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<n.length;i++)r[(t=n[i].trim().split("="))[0].trim()]=t[1];return r},t.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&N()(e.parameters).length){var n=[];N()(e.parameters).forEach((function(t){void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:Me()(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return Me()(e,10)}))}},t.getMid=function(e){var r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:Me()(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===(0,Ce.Z)(e.keyParams)?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){var n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],i=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),r.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){r.headerExtensions.push(t.parseExtmap(e))})),r},t.writeRtpDescription=function(e,r){var n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=r.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((function(e){n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));var i=0;return r.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach((function(e){n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){var r,n=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return Me()(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(r=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:Me()(e.parameters.apt,10)};c&&r&&(t.rtx={ssrc:r}),n.push(t),o&&((t=JSON.parse(j()(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&c&&n.push({ssrc:c});var f=t.matchPrefix(e,"b=");return f.length&&(f=0===f[0].indexOf("b=TIAS:")?Me()(f[0].substr(7),10):0===f[0].indexOf("b=AS:")?1e3*Me()(f[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=f}))),n},t.parseRtcpParameters=function(e){var r={},n=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){var r,n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(r=n[0].substr(7).split(" "))[0],track:r[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(r=i[0].value.split(" "))[0],track:r[1]}:void 0},t.parseSctpDescription=function(e){var r,n=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(r=Me()(i[0].substr(19),10)),isNaN(r)&&(r=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:Me()(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:r};var a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){var s=a[0].substr(10).split(" ");return{port:Me()(s[0],10),protocol:s[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,r,n){var i=void 0!==r?r:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){for(var n=t.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var r=t.splitLines(e)[0].substr(2).split(" ");return{kind:r[0],port:Me()(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){var r=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:Me()(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var r=t.splitLines(e),n=0;n<r.length;n++)if(r[n].length<2||"="!==r[n].charAt(1))return!1;return!0},e.exports=t}(Mf);var Nf=Mf.exports,Df=St({__proto__:null,default:Nf},[Mf.exports]);function jf(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(0,Ce.Z)(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(j()(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),n=Nf.parseCandidate(e.candidate),i=at()(r,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,zu(e,"icecandidate",(function(t){return t.candidate&&Ae()(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function Uf(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Ae()(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,n;(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Ae()(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if(function(e){if(!e||!e.sdp)return!1;var t=Nf.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=Nf.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var i,o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=Me()(t[1],10);return r!=r?-1:r}(arguments[0]),a=(e=o,n=65536,"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n),s=function(e,r){var n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);var i=Nf.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?n=Me()(i[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],o);i=0===a&&0===s?Number.POSITIVE_INFINITY:0===a||0===s?Math.max(a,s):Math.min(a,s);var c={};Ae()(c,"maxMessageSize",{get:function(){return i}}),this._sctp=c}return r.apply(this,arguments)}}}function Bf(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},zu(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}function Ff(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Ae()(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Ae()(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}}function Zf(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var n=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return r.apply(this,arguments)}}}function Vf(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?B().resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),B().resolve())})}}function qf(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,t=arguments[0]||{};if("object"!==(0,Ce.Z)(t)||t.type&&t.sdp)return r.apply(this,arguments);if(!(t={type:t.type,sdp:t.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}return t.sdp||"offer"!==t.type&&"answer"!==t.type?r.apply(this,[t]):("offer"===t.type?this.createOffer:this.createAnswer).apply(this).then((function(t){return r.apply(e,[t])}))})}}var zf=f()({__proto__:null,shimRTCIceCandidate:jf,shimMaxMessageSize:Uf,shimSendThrowTypeError:Bf,shimConnectionState:Ff,removeExtmapAllowMixed:Zf,shimAddIceCandidateNullOrEmpty:Vf,shimParameterlessSetLocalDescription:qf});!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},r=$u,n=function(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=qu(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=qu(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=qu(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),i={browserDetails:n,commonShim:zf,extractVersion:qu,disableLog:Wu,disableWarnings:Gu,sdp:Df};switch(n.browser){case"chrome":if(!lf||!uf||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(null===n.version)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=lf,Vf(e,n),qf(e),ef(e,n),tf(e),uf(e,n),rf(e),cf(e,n),nf(e),of(e),af(e),ff(e,n),jf(e),Ff(e),Uf(e,n),Bf(e),Zf(e,n);break;case"firefox":if(!Ef||!hf||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=Ef,Vf(e,n),qf(e),pf(e,n),hf(e,n),df(e),gf(e),vf(e),mf(e),yf(e),bf(e),wf(e),_f(e),Sf(e),jf(e),Ff(e),Uf(e,n),Bf(e);break;case"safari":if(!Pf||!t.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=Pf,Vf(e,n),qf(e),Of(e),If(e),Tf(e),xf(e),Rf(e),Af(e),kf(e),Lf(e),jf(e),Uf(e,n),Bf(e),Zf(e,n);break;default:r("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var Wf,Gf,$f=function(){return $f=at()||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$f.apply(this,arguments)};function Hf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Ge()){var i=0;for(n=Ge()(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function Kf(e){var t="function"==typeof ge()&&be(),r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yf(e,t){var r="function"==typeof ge()&&e[be()];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function Jf(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(Wf||(Wf={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(Gf||(Gf={}));var Xf=Wf.Start,Qf=Wf.Stop,el=Wf.Raise,tl=Wf.Send,rl=Wf.Cancel,nl=Wf.NullEvent,il=Wf.Assign;Wf.After,Wf.DoneState;var ol=Wf.Log,al=Wf.Init,sl=Wf.Invoke;Wf.ErrorExecution;var cl,ul=Wf.ErrorPlatform,fl=Wf.ErrorCustom,ll=Wf.Update,pl=Wf.Choose,dl=Wf.Pure,hl=".",vl={},ml="xstate.guard",gl="",yl="production"===$t.env.NODE_ENV;function bl(e,t,r){void 0===r&&(r=hl);var n=Sl(e,r),i=Sl(t,r);return Bl(i)?!!Bl(n)&&i===n:Bl(n)?n in i:N()(n).every((function(e){return e in i&&bl(n[e],i[e])}))}function wl(e){try{return Bl(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function _l(e,t){try{return jl(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function Sl(e,t){return r=e,"object"===(0,Ce.Z)(r)&&"value"in r&&"context"in r&&"event"in r&&"_event"in r?e.value:jl(e)?El(e):"string"!=typeof e?e:El(_l(e,t));var r}function El(e){if(1===e.length)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function xl(e,t){for(var r={},n=N()(e),i=0;i<n.length;i++){var o=n[i];r[o]=t(e[o],o,e,i)}return r}function Rl(e,t,r){var n,i,o={};try{for(var a=Kf(N()(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];r(u)&&(o[c]=t(u,c,e))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}var Tl=function(e){return function(t){var r,n,i=t;try{for(var o=Kf(e),a=o.next();!a.done;a=o.next()){i=i[a.value]}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}};function kl(e){return e?Bl(e)?[[e]]:Cl(N()(e).map((function(t){var r=e[t];return"string"==typeof r||r&&N()(r).length?kl(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function Cl(e){var t;return(t=[]).concat.apply(t,Jf([],Yf(e),!1))}function Ol(e){return jl(e)?e:[e]}function Al(e){return void 0===e?[]:Ol(e)}function Il(e,t,r){var n,i;if(Ul(e))return e(t,r.data);var o={};try{for(var a=Kf(N()(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];Ul(u)?o[c]=u(t,r.data):o[c]=u}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}function Ll(e){return e instanceof B()||!(null===e||!Ul(e)&&"object"!==(0,Ce.Z)(e)||!Ul(e.then))}function Pl(e,t){var r,n,i=Yf([[],[]],2),o=i[0],a=i[1];try{for(var s=Kf(e),c=s.next();!c.done;c=s.next()){var u=c.value;t(u)?o.push(u):a.push(u)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return[o,a]}function Ml(e,t){return xl(e.states,(function(e,r){if(e){var n=(Bl(t)?void 0:t[r])||(e?e.current:void 0);if(n)return{current:n,states:Ml(e,n)}}}))}function Nl(e,t,r,n){yl||Dl(!!e,"Attempting to update undefined context");var i=e?r.reduce((function(e,r){var i,o,a=r.assignment,s={state:n,action:r,_event:t},c={};if(Ul(a))c=a(e,t.data,s);else try{for(var u=Kf(N()(a)),f=u.next();!f.done;f=u.next()){var l=f.value,p=a[l];c[l]=Ul(p)?p(e,t.data,s):p}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return at()({},e,c)}),e):e;return i}var Dl=function(){};function jl(e){return _e()(e)}function Ul(e){return"function"==typeof e}function Bl(e){return"string"==typeof e}function Fl(e,t){if(e)return Bl(e)?{type:ml,name:e,predicate:t?t[e]:void 0}:Ul(e)?{type:ml,name:e.name,predicate:e}:e}yl||(Dl=function(e,t){var r=e instanceof Error?e:void 0;if((r||!e)&&void 0!==console){var n=["Warning: ".concat(t)];r&&n.push(r),console.warn.apply(console,n)}});var Zl=function(){return"function"==typeof ge()&&ge().observable||"@@observable"}();function Vl(e){return!!e&&"__xstatenode"in e}function ql(e,t){return Bl(e)||"number"==typeof e?$f({type:e},t):e}function zl(e,t){if(!Bl(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var r=ql(e);return $f({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function Wl(e,t){return Ol(t).map((function(t){return void 0===t||"string"==typeof t||Vl(t)?{target:t,event:e}:$f($f({},t),{event:e})}))}function Gl(e,t,r,n,i){var o=e.options.guards,a={state:i,cond:t,_event:n};if(t.type===ml)return((null==o?void 0:o[t.name])||t.predicate)(r,n.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(r,n.data,a)}function $l(e){return"string"==typeof e?{type:e}:e}function Hl(e,t,r){var n=function(){},i="object"===(0,Ce.Z)(e),o=i?e:null;return{next:((i?e.next:e)||n).bind(o),error:((i?e.error:t)||n).bind(o),complete:((i?e.complete:r)||n).bind(o)}}function Kl(e,t){return"".concat(e,":invocation[").concat(t,"]")}(cl={})[Zl]=function(){return this},cl[ge().observable]=function(){return this};var Yl=zl({type:al});function Jl(e,t){return t&&t[e]||void 0}function Xl(e,t){var r;if(Bl(e)||"number"==typeof e)r=Ul(n=Jl(e,t))?{type:e,exec:n}:n||{type:e,exec:void 0};else if(Ul(e))r={type:e.name||e.toString(),exec:e};else{var n;if(Ul(n=Jl(e.type,t)))r=$f($f({},e),{exec:n});else if(n){var i=n.type||e.type;r=$f($f($f({},n),e),{type:i})}else r=e}return r}var Ql=function(e,t){return e?(jl(e)?e:[e]).map((function(e){return Xl(e,t)})):[]};function ep(e){var t=Xl(e);return $f($f({id:Bl(e)?e:t.id},t),{type:t.type})}function tp(e){return Bl(e)?{type:el,event:e}:rp(e,{to:Gf.Internal})}function rp(e,t){return{to:t?t.to:void 0,type:tl,event:Ul(e)?e:ql(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:Ul(e)?e.name:wl(e)}}var np=function(e,t,r){return $f($f({},e),{value:Bl(e.expr)?e.expr:e.expr(t,r.data,{_event:r})})};function ip(e,t){var r="".concat(Wf.DoneState,".").concat(e),n={type:r,data:t,toString:function(){return r}};return n}function op(e,t){var r="".concat(Wf.DoneInvoke,".").concat(e),n={type:r,data:t,toString:function(){return r}};return n}function ap(e,t){var r="".concat(Wf.ErrorPlatform,".").concat(e),n={type:r,data:t,toString:function(){return r}};return n}function sp(e,t,r,n,i,o,a){void 0===a&&(a=!1);var s=Yf(a?[[],i]:Pl(i,(function(e){return e.type===il})),2),c=s[0],u=s[1],f=c.length?Nl(r,n,c,t):r,l=a?[r]:void 0,p=Cl(u.map((function(r){var i;switch(r.type){case el:return{type:el,_event:zl(r.event)};case tl:var s=function(e,t,r,n){var i,o={_event:r},a=zl(Ul(e.event)?e.event(t,r.data,o):e.event);if(Bl(e.delay)){var s=n&&n[e.delay];i=Ul(s)?s(t,r.data,o):s}else i=Ul(e.delay)?e.delay(t,r.data,o):e.delay;var c=Ul(e.to)?e.to(t,r.data,o):e.to;return $f($f({},e),{to:c,_event:a,event:a.data,delay:i})}(r,f,n,e.options.delays);return yl||Dl(!Bl(r.delay)||"number"==typeof s.delay,"No delay reference for delay expression '".concat(r.delay,"' was found on machine '").concat(e.id,"'")),s.to!==Gf.Internal&&(null==o||o(s,f,n)),s;case ol:var c=np(r,f,n);return null==o||o(c,f,n),c;case pl:if(!(h=null===(i=r.conds.find((function(r){var i=Fl(r.cond,e.options.guards);return!i||Gl(e,i,f,n,o?void 0:t)})))||void 0===i?void 0:i.actions))return[];var u=Yf(sp(e,t,f,n,Ql(Al(h),e.options.actions),o,a),2),p=u[0],d=u[1];return f=d,null==l||l.push(f),p;case dl:var h;if(!(h=r.get(f,n.data)))return[];var v=Yf(sp(e,t,f,n,Ql(Al(h),e.options.actions),o,a),2),m=v[0],g=v[1];return f=g,null==l||l.push(f),m;case Qf:c=function(e,t,r){var n=Ul(e.activity)?e.activity(t,r.data):e.activity,i="string"==typeof n?{id:n}:n;return{type:Wf.Stop,activity:i}}(r,f,n);return null==o||o(c,f,n),c;case il:f=Nl(f,n,[r],o?void 0:t),null==l||l.push(f);break;default:var y=Xl(r,e.options.actions),b=y.exec;if(o)o(y,f,n);else if(b&&l){var w=l.length-1;y=$f($f({},y),{exec:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];b.apply(void 0,Jf([l[w]],Yf(t),!1))}})}return y}})).filter((function(e){return!!e})));return[p,f]}var cp=function(e,t){return t(e)};function up(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[Zl]=function(){return this},t}function fp(e,t,r){var n=up(t);if(n.deferred=!0,Vl(e)){var i=n.state=cp(void 0,(function(){return(r?e.withContext(r):e).initialState}));n.getSnapshot=function(){return i}}return n}var lp=function(e){return"atomic"===e.type||"final"===e.type};function pp(e){return N()(e.states).map((function(t){return e.states[t]}))}function dp(e){return pp(e).filter((function(e){return"history"!==e.type}))}function hp(e){var t=[e];return lp(e)?t:t.concat(Cl(dp(e).map(hp)))}function vp(e,t){var r,n,i,o,a,s,c,u,f=gp(new(ze())(e)),l=new(ze())(t);try{for(var p=Kf(l),d=p.next();!d.done;d=p.next())for(var h=(E=d.value).parent;h&&!l.has(h);)l.add(h),h=h.parent}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}var v=gp(l);try{for(var m=Kf(l),g=m.next();!g.done;g=m.next()){if("compound"!==(E=g.value).type||v.get(E)&&v.get(E).length){if("parallel"===E.type)try{for(var y=(a=void 0,Kf(dp(E))),b=y.next();!b.done;b=y.next()){var w=b.value;l.has(w)||(l.add(w),f.get(w)?f.get(w).forEach((function(e){return l.add(e)})):w.initialStateNodes.forEach((function(e){return l.add(e)})))}}catch(e){a={error:e}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}else f.get(E)?f.get(E).forEach((function(e){return l.add(e)})):E.initialStateNodes.forEach((function(e){return l.add(e)}))}}catch(e){i={error:e}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}try{for(var _=Kf(l),S=_.next();!S.done;S=_.next()){var E;for(h=(E=S.value).parent;h&&!l.has(h);)l.add(h),h=h.parent}}catch(e){c={error:e}}finally{try{S&&!S.done&&(u=_.return)&&u.call(_)}finally{if(c)throw c.error}}return l}function mp(e,t){var r=t.get(e);if(!r)return{};if("compound"===e.type){var n=r[0];if(!n)return{};if(lp(n))return n.key}var i={};return r.forEach((function(e){i[e.key]=mp(e,t)})),i}function gp(e){var t,r,n=new(Xe());try{for(var i=Kf(e),o=i.next();!o.done;o=i.next()){var a=o.value;n.has(a)||n.set(a,[]),a.parent&&(n.has(a.parent)||n.set(a.parent,[]),n.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}function yp(e,t){return mp(e,gp(vp([e],t)))}function bp(e,t){return _e()(e)?e.some((function(e){return e===t})):e instanceof ze()&&e.has(t)}function wp(e,t){return"compound"===t.type?dp(t).some((function(t){return"final"===t.type&&bp(e,t)})):"parallel"===t.type&&dp(t).every((function(t){return wp(e,t)}))}function _p(e){return new(ze())(Cl(e.map((function(e){return e.tags}))))}function Sp(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(Bl(e)||Bl(t))return e===t;var r=N()(e),n=N()(t);return r.length===n.length&&r.every((function(r){return Sp(e[r],t[r])}))}var Ep=function(){function e(e){var t,r,n=this;this.actions=[],this.activities=vl,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||vl,this.meta=(void 0===(r=e.configuration)&&(r=[]),r.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=_e()(e.tags)?new(ze())(e.tags):e.tags)&&void 0!==t?t:new(ze()),this.machine=e.machine,Ae()(this,"nextEvents",{get:function(){return function(e){return Jf([],Yf(new(ze())(Cl(Jf([],Yf(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(n.configuration)}})}return e.from=function(t,r){return t instanceof e?t.context!==r?new e({value:t.value,context:r,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:r,_event:Yl,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,r){if(t instanceof e){if(!t.actions.length)return t;var n=Yl;return new e({value:t.value,context:r,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,r)},e.prototype.toStrings=function(e,t){var r=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),Bl(e))return[e];var n=N()(e);return n.concat.apply(n,Jf([],Yf(n.map((function(n){return r.toStrings(e[n],t).map((function(e){return n+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var r=Hf(e,["configuration","transitions","tags","machine"]);return $f($f({},r),{tags:ve()(t)})},e.prototype.matches=function(e){return bl(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;yl&&Dl(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var r=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==r?void 0:r.transitions.length)&&r.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),xp={deferEvents:!1},Rp=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=$f($f({},xp),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),Tp=new(Xe()),kp=0,Cp=function(){return"x:".concat(kp++)},Op=function(e,t){return Tp.set(e,t),e},Ap=function(e){return Tp.get(e)},Ip=function(e){Tp.delete(e)};function Lp(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==Et?Et:void(yl||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}function Pp(e){if(Lp()){var t=function(){var e=Lp();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}function Mp(e,t){void 0===t&&(t={});var r=e.initialState,n=new(ze()),i=[],o=!1,a=function(e){var t;return $f(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[Zl]=function(){return this},t),e)}({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();r=e.transition(r,t,s),n.forEach((function(e){return e.next(r)}))}o=!1}}()},getSnapshot:function(){return r},subscribe:function(e,t,i){var o=Hl(e,t,i);return n.add(o),o.next(r),{unsubscribe:function(){n.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:n};return r=e.start?e.start(s):r,a}var Np,Dp={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Np||(Np={}));var jp=function(){function e(t,r){var n=this;void 0===r&&(r=e.defaultOptions),this.machine=t,this.delayedEventsMap={},this.listeners=new(ze()),this.contextListeners=new(ze()),this.stopListeners=new(ze()),this.doneListeners=new(ze()),this.eventListeners=new(ze()),this.sendListeners=new(ze()),this.initialized=!1,this.status=Np.NotStarted,this.children=new(Xe()),this.forwardTo=new(ze()),this.init=this.start,this.send=function(e,t){if(jl(e))return n.batch(e),n.state;var r=zl(ql(e,t));if(n.status===Np.Stopped)return yl||Dl(!1,'Event "'.concat(r.name,'" was sent to stopped service "').concat(n.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(j()(r.data))),n.state;if(n.status!==Np.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(r.name,'" was sent to uninitialized service "').concat(n.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(j()(r.data)));return n.scheduler.schedule((function(){n.forward(r);var e=n.nextState(r);n.update(e,r)})),n._state},this.sendTo=function(e,t){var r,i=n.parent&&(t===Gf.Parent||n.parent.id===t),o=i?n.parent:Bl(t)?n.children.get(t)||Ap(t):(r=t)&&"function"==typeof r.send?t:void 0;if(o)"machine"in o?(n.status!==Np.Stopped||n.parent!==o||n.state.done)&&o.send($f($f({},e),{name:e.name===fl?"".concat(ap(n.id)):e.name,origin:n.sessionId})):o.send(e.data);else{if(!i)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(n.id,"'."));yl||Dl(!1,"Service '".concat(n.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,r,i){void 0===i&&(i=n.machine.options.actions);var o=e.exec||Jl(e.type,i),a=Ul(o)?o:o?o.exec:e.exec;if(a)try{return a(t,r.data,n.machine.config.predictableActionArguments?{action:e,_event:r}:{action:e,state:n.state,_event:r})}catch(e){throw n.parent&&n.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case tl:var s=e;if("number"==typeof s.delay)return void n.defer(s);s.to?n.sendTo(s._event,s.to):n.send(s._event);break;case rl:n.cancel(e.sendId);break;case Xf:if(n.status!==Np.Running)return;var c=e.activity;if(!n.machine.config.predictableActionArguments&&!n.state.activities[c.id||c.type])break;if(c.type===Wf.Invoke){var u=$l(c.src),f=n.machine.options.services?n.machine.options.services[u.type]:void 0,l=c.id,p=c.data;yl||Dl(!("forward"in c),"`forward` property is deprecated (found in invocation of '".concat(c.src,"' in in machine '").concat(n.machine.id,"'). ")+"Please use `autoForward` instead.");var d="autoForward"in c?c.autoForward:!!c.forward;if(!f)return void(yl||Dl(!1,"No service found for invocation '".concat(c.src,"' in machine '").concat(n.machine.id,"'.")));var h=p?Il(p,t,r):void 0;if("string"==typeof f)return;var v=Ul(f)?f(t,r.data,{data:h,src:u,meta:c.meta}):f;if(!v)return;var m=void 0;Vl(v)&&(v=h?v.withContext(h):v,m={autoForward:d}),n.spawn(v,l,m)}else n.spawnActivity(c);break;case Qf:n.stopChild(e.activity.id);break;case ol:var g=e.label,y=e.value;g?n.logger(g,y):n.logger(y);break;default:yl||Dl(!1,"No implementation found for action type '".concat(e.type,"'"))}};var i=$f($f({},e.defaultOptions),r),o=i.clock,a=i.logger,s=i.parent,c=i.id,u=void 0!==c?c:t.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new Rp({deferEvents:this.options.deferEvents}),this.sessionId=Cp()}return Ae()(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:cp(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Ae()(e.prototype,"state",{get:function(){return yl||Dl(this.status!==Np.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var r,n;try{for(var i=Kf(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.update=function(e,t){var r,n,i,o,a,s,c,u,f=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==Yl||!this.options.execute||this.execute(this.state),this.children.forEach((function(e){f.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var l=Kf(this.eventListeners),p=l.next();!p.done;p=l.next()){(0,p.value)(e.event)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var d=Kf(this.listeners),h=d.next();!h.done;h=d.next()){(0,h.value)(e,e.event)}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}try{for(var v=Kf(this.contextListeners),m=v.next();!m.done;m=v.next()){(0,m.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(this.state.done){var g=e.configuration.find((function(e){return"final"===e.type&&e.parent===f.machine})),y=g&&g.doneData?Il(g.doneData,e.context,t):void 0;try{for(var b=Kf(this.doneListeners),w=b.next();!w.done;w=b.next()){(0,w.value)(op(this.id,y))}}catch(e){c={error:e}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}this._stop()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Np.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,r){var n=this,i=Hl(e,t,r);this.listeners.add(i.next),this.status!==Np.NotStarted&&i.next(this.state);var o=function e(){n.doneListeners.delete(e),n.stopListeners.delete(e),i.complete()};return this.status===Np.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){n.listeners.delete(i.next),n.doneListeners.delete(o),n.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===Np.Running)return this;this.machine._init(),Op(this.sessionId,this),this.initialized=!0,this.status=Np.Running;var r=void 0===e?this.initialState:cp(this,(function(){return r=e,"object"===(0,Ce.Z)(r)&&null!==r&&"value"in r&&"_event"in r?t.machine.resolveState(e):t.machine.resolveState(Ep.from(e,t.machine.context));var r}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(r,Yl)})),this},e.prototype._stop=function(){var e,t,r,n,i,o,a,s,c,u;try{for(var f=Kf(this.listeners),l=f.next();!l.done;l=f.next()){var p=l.value;this.listeners.delete(p)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}try{for(var d=Kf(this.stopListeners),h=d.next();!h.done;h=d.next()){(p=h.value)(),this.stopListeners.delete(p)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}try{for(var v=Kf(this.contextListeners),m=v.next();!m.done;m=v.next()){p=m.value;this.contextListeners.delete(p)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var g=Kf(this.doneListeners),y=g.next();!y.done;y=g.next()){p=y.value;this.doneListeners.delete(p)}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Np.Stopped,this._initialState=void 0;try{for(var b=Kf(N()(this.delayedEventsMap)),w=b.next();!w.done;w=b.next()){var _=w.value;this.clock.clearTimeout(this.delayedEventsMap[_])}}catch(e){c={error:e}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new Rp({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=zl({type:"xstate.stop"}),r=cp(e,(function(){var r=Cl(Jf([],Yf(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return Ql(t.onExit,e.machine.options.actions)}))),n=Yf(sp(e.machine,e.state,e.state.context,t,r,e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=n[0],o=n[1],a=new Ep({value:e.state.value,context:o,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return e.type!==el&&(e.type!==tl||!!e.to&&e.to!==Gf.Internal)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a}));e.update(r,t),e.children.forEach((function(e){Ul(e.stop)&&e.stop()})),e.children.clear(),Ip(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===Np.NotStarted&&this.options.deferEvents)yl||Dl(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(j()(event)));else if(this.status!==Np.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule((function(){var r,n,i=t.state,o=!1,a=[],s=function(e){var r=zl(e);t.forward(r),i=cp(t,(function(){return t.machine.transition(i,r)})),a.push.apply(a,Jf([],Yf(i.actions.map((function(e){return r=i,n=(t=e).exec,$f($f({},t),{exec:void 0!==n?function(){return n(r.context,r.event,{action:t,state:r,_event:r._event})}:void 0});var t,r,n}))),!1)),o=o||!!i.changed};try{for(var c=Kf(e),u=c.next();!u.done;u=c.next()){s(u.value)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}i.changed=o,i.actions=a,t.update(i,zl(e[e.length-1]))}))},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e){var t=this,r=zl(e);if(0===r.name.indexOf(ul)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(ul)})))throw r.data.data;return cp(this,(function(){return t.machine.transition(t.state,r,void 0,t.machine.config.predictableActionArguments?t._exec:void 0)}))},e.prototype.nextState=function(e){return this._nextState(e)},e.prototype.forward=function(e){var t,r;try{for(var n=Kf(this.forwardTo),i=n.next();!i.done;i=n.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)}),e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,r){void 0===r&&(r=this.machine.options.actions),this._exec(e,t.context,t._event,r)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),Ul(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,r){if(this.status!==Np.Running)return fp(e,t);if(Ll(e))return this.spawnPromise(B().resolve(e),t);if(Ul(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(i=e)&&"id"in i)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&Ul(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(Vl(e))return this.spawnMachine(e,$f($f({},r),{id:t}));if(null!==(n=e)&&"object"===(0,Ce.Z)(n)&&"transition"in n&&"function"==typeof n.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat((0,Ce.Z)(e),'".'));var n,i},e.prototype.spawnMachine=function(t,r){var n=this;void 0===r&&(r={});var i=new e(t,$f($f({},this.options),{parent:this,id:r.id||t.id})),o=$f($f({},Dp),r);o.sync&&i.onTransition((function(e){n.send(ll,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){n.removeChild(i.id),n.send(zl(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var r=Mp(e,{id:t,parent:this});return this.children.set(t,r),r},e.prototype.spawnPromise=function(e,t){var r,n,i=this,o=!1;e.then((function(e){o||(n=e,i.removeChild(t),i.send(zl(op(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var r=ap(t,e);try{i.send(zl(r,{origin:t}))}catch(n){!function(e,t,r){if(!yl){var n=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(r,"', error was '").concat(e,"'.").concat(n));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(r,"'. ")+"Original error: '".concat(e,"'. ").concat(n," Current error is '").concat(t,"'.").concat(i))}}}(e,n,t),i.devTools&&i.devTools.send(r,i.state),i.machine.strict&&i.stop()}}}));var a=((r={id:t,send:function(){},subscribe:function(t,r,n){var i=Hl(t,r,n),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[Zl]=function(){return this},r);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var r,n,i,o=this,a=!1,s=new(ze()),c=new(ze());try{i=e((function(e){n=e,c.forEach((function(t){return t(e)})),a||o.send(zl(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(ap(t,e))}if(Ll(i))return this.spawnPromise(i,t);var u=((r={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=Hl(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,Ul(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[Zl]=function(){return this},r);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var r,n,i=this,o=e.subscribe((function(e){n=e,i.send(zl(e,{origin:t}))}),(function(e){i.removeChild(t),i.send(zl(ap(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send(zl(op(t),{origin:t}))})),a=((r={id:t,send:function(){},subscribe:function(t,r,n){return e.subscribe(t,r,n)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return n},toJSON:function(){return{id:t}}})[Zl]=function(){return this},r);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var r=t(this.state.context,e);this.spawnEffect(e.id,r)}else yl||Dl(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var r;this.children.set(e,((r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[Zl]=function(){return this},r))},e.prototype.attachDev=function(){var e=Lp();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"===(0,Ce.Z)(this.options.devTools)?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect($f($f({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:$f({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}Pp(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Zl]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Np.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setTimeout(e,t)})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearTimeout(e)}))},logger:console.log.bind(console),devTools:!1},e.interpret=Up,e}();function Up(e,t){return new jp(e,t)}function Bp(e){if("string"==typeof e){var t={type:e,toString:function(){return e}};return t}return e}function Fp(e){return $f($f({type:sl},e),{toJSON:function(){e.onDone,e.onError;var t=Hf(e,["onDone","onError"]);return $f($f({},t),{type:sl,src:Bp(e.src)})}})}var Zp="",Vp="*",qp={},zp=function(e){return"#"===e[0]},Wp=function(){function e(t,r,n,i){var o,a=this;void 0===n&&(n="context"in t?t.context:void 0),this.config=t,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new(Xe()),initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=at()({actions:{},guards:{},services:{},activities:{},delays:{}},r),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:hl),this.id=this.config.id||Jf([this.machine.key],Yf(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&N()(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,yl||Dl(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?xl(this.config.states,(function(t,r){var n,i=new e(t,{},void 0,{parent:a,key:r});return at()(a.idMap,$f(((n={})[i.id]=i,n),i.idMap)),i})):qp;var s=0;!function e(t){var r,n;t.order=s++;try{for(var i=Kf(pp(t)),o=i.next();!o.done;o=i.next()){e(o.value)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(_e()(this.config.on)?this.config.on.some((function(e){return e.event===Zp})):Zp in this.config.on),this.strict=!!this.config.strict,this.onEntry=Al(this.config.entry||this.config.onEntry).map((function(e){return Xl(e)})),this.onExit=Al(this.config.exit||this.config.onExit).map((function(e){return Xl(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=Al(this.config.invoke).map((function(e,t){var r,n;if(Vl(e)){var i=Kl(a.id,t);return a.machine.options.services=$f(((r={})[i]=e,r),a.machine.options.services),Fp({src:i,id:i})}if(Bl(e.src)){i=e.id||Kl(a.id,t);return Fp($f($f({},e),{id:i,src:e.src}))}if(Vl(e.src)||Ul(e.src)){i=e.id||Kl(a.id,t);return a.machine.options.services=$f(((n={})[i]=e.src,n),a.machine.options.services),Fp($f($f({id:i},e),{src:i}))}var o=e.src;return Fp($f($f({id:Kl(a.id,t)},e),{src:o}))})),this.activities=Al(this.config.activities).concat(this.invoke).map((function(e){return ep(e)})),this.transition=this.transition.bind(this),this.tags=Al(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||hp(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,r){var n=this.options,i=n.actions,o=n.activities,a=n.guards,s=n.services,c=n.delays;return new e(this.config,{actions:$f($f({},i),t.actions),activities:$f($f({},o),t.activities),guards:$f($f({},a),t.guards),services:$f($f({},s),t.services),delays:$f($f({},c),t.delays)},null!=r?r:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Ae()(e.prototype,"context",{get:function(){return Ul(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Ae()(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:xl(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Ae()(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Ae()(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Ae()(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Zp,r=this.transitions.filter((function(r){var n=r.eventType===e;return t?n:n||r.eventType===Vp}));return this.__cache.candidates[e]=r,r},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var r=function(t,r){var n=function(e,t){var r=t?"#".concat(t):"";return"".concat(Wf.After,"(").concat(e,")").concat(r)}(Ul(t)?"".concat(e.id,":delay[").concat(r,"]"):t,e.id);return e.onEntry.push(rp(n,{delay:t})),e.onExit.push({type:rl,sendId:n}),n},n=jl(t)?t.map((function(e,t){var n=r(e.delay,t);return $f($f({},e),{event:n})})):Cl(N()(t).map((function(e,n){var i=t[e],o=Bl(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=r(a,n);return Al(o).map((function(e){return $f($f({},e),{event:s,delay:a})}))})));return n.map((function(t){var r=t.delay;return $f($f({},e.formatTransition(t)),{delay:r})}))},e.prototype.getStateNodes=function(e){var t,r=this;if(!e)return[];var n=e instanceof Ep?e.value:Sl(e,this.delimiter);if(Bl(n)){var i=this.getStateNode(n).initial;return void 0!==i?this.getStateNodes(((t={})[n]=i,t)):[this,this.states[n]]}var o=N()(n),a=[this];return a.push.apply(a,Jf([],Yf(Cl(o.map((function(e){return r.getStateNode(e).getStateNodes(n[e])})))),!1)),a},e.prototype.handles=function(e){var t=wl(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof Ep?e:Ep.create(e),r=ve()(vp([],this.getStateNodes(t.value)));return new Ep($f($f({},t),{value:this.resolve(t.value),configuration:r,done:wp(r,this),tags:_p(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,r){var n=this.getStateNode(e).next(t,r);return n&&n.transitions.length?n:this.next(t,r)},e.prototype.transitionCompoundNode=function(e,t,r){var n=N()(e),i=this.getStateNode(n[0])._transition(e[n[0]],t,r);return i&&i.transitions.length?i:this.next(t,r)},e.prototype.transitionParallelNode=function(e,t,r){var n,i,o={};try{for(var a=Kf(N()(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(u){var f=this.getStateNode(c)._transition(u,t,r);f&&(o[c]=f)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}var l=N()(o).map((function(e){return o[e]})),p=Cl(l.map((function(e){return e.transitions})));if(!l.some((function(e){return e.transitions.length>0})))return this.next(t,r);var d=Cl(l.map((function(e){return e.entrySet}))),h=Cl(N()(o).map((function(e){return o[e].configuration})));return{transitions:p,entrySet:d,exitSet:Cl(l.map((function(e){return e.exitSet}))),configuration:h,source:t,actions:Cl(N()(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,r){return Bl(e)?this.transitionLeafNode(e,t,r):1===N()(e).length?this.transitionCompoundNode(e,t,r):this.transitionParallelNode(e,t,r)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,zl(t))},e.prototype.next=function(e,t){var r,n,i,o=this,a=t.name,s=[],c=[];try{for(var u=Kf(this.getCandidates(a)),f=u.next();!f.done;f=u.next()){var l=f.value,p=l.cond,d=l.in,h=e.context,v=!d||(Bl(d)&&zp(d)?e.matches(Sl(this.getStateNodeById(d).path,this.delimiter)):bl(Sl(d,this.delimiter),Tl(this.path.slice(0,-2))(e.value))),m=!1;try{m=!p||Gl(this.machine,p,h,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(m&&v){void 0!==l.target&&(c=l.target),s.push.apply(s,Jf([],Yf(l.actions),!1)),i=l;break}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i){if(!c.length)return{transitions:[i],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var g=Cl(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)}))),y=!!i.internal,b=[];return y||c.forEach((function(e){b.push.apply(b,Jf([],Yf(o.getExternalReentryNodes(e)),!1))})),{transitions:[i],entrySet:b,exitSet:y?[]:[this],configuration:g,source:e,actions:s}}},e.prototype.getExternalReentryNodes=function(e){for(var t=[],r=Yf(e.order>this.order?[e,this]:[this,e],2),n=r[0],i=r[1];n&&n!==i;)t.push(n),n=n.parent;return n!==i?[]:(t.push(i),t)},e.prototype.getActions=function(e,t,r,n,i,o){var a,s,c,u,f=vp([],o?this.getStateNodes(o.value):[this]);try{for(var l=Kf(e),p=l.next();!p.done;p=l.next()){bp(f,v=p.value)&&!bp(r.entrySet,v.parent)||r.entrySet.push(v)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}try{for(var d=Kf(f),h=d.next();!h.done;h=d.next()){var v;bp(e,v=h.value)&&!bp(r.exitSet,v.parent)||r.exitSet.push(v)}}catch(e){c={error:e}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(c)throw c.error}}var m=Cl(r.entrySet.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(ip(e.id,e.doneData),ip(o.id,e.doneData?Il(e.doneData,n,i):void 0));var a=o.parent;return"parallel"===a.type&&dp(a).every((function(e){return wp(r.configuration,e)}))&&t.push(ip(a.id)),t})));r.exitSet.sort((function(e,t){return t.order-e.order})),r.entrySet.sort((function(e,t){return e.order-t.order}));var g=new(ze())(r.entrySet),y=new(ze())(r.exitSet),b=Yf([Cl(ve()(g).map((function(e){return Jf(Jf([],Yf(e.activities.map((function(e){return function(e){var t=ep(e);return{type:Wf.Start,activity:t,exec:void 0}}(e)}))),!1),Yf(e.onEntry),!1)}))).concat(m.map(tp)),Cl(ve()(y).map((function(e){return Jf(Jf([],Yf(e.onExit),!1),Yf(e.activities.map((function(e){return function(e){var t=Ul(e)?e:ep(e);return{type:Wf.Stop,activity:t,exec:void 0}}(e)}))),!1)})))],2),w=b[0],_=b[1],S=Ql(_.concat(r.actions).concat(w),this.machine.options.actions);if(t){var E=Ql(Cl(Jf([],Yf(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return e.type!==el&&(e.type!==tl||!!e.to&&e.to!==Gf.Internal)}));return S.concat(E)}return S},e.prototype.transition=function(e,t,r,n){void 0===e&&(e=this.initialState);var i,o,a=zl(t);if(e instanceof Ep)i=void 0===r?e:this.resolveState(Ep.from(e,r));else{var s=Bl(e)?this.resolve(El(this.getResolvedPath(e))):this.resolve(e),c=null!=r?r:this.machine.context;i=this.resolveState(Ep.from(s,c))}if(!yl&&a.name===Vp)throw new Error("An event cannot have the wildcard type ('".concat(Vp,"')"));if(this.strict&&!this.events.includes(a.name)&&(o=a.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var u=this._transition(i.value,i,a)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:i,actions:[]},f=vp([],this.getStateNodes(i.value)),l=u.configuration.length?vp(f,u.configuration):f;return u.configuration=Jf([],Yf(l),!1),this.resolveTransition(u,i,i.context,n,a)},e.prototype.resolveRaisedTransition=function(e,t,r,n){var i,o=e.actions;return(e=this.transition(e,t,void 0,n))._event=r,e.event=r.data,(i=e.actions).unshift.apply(i,Jf([],Yf(o),!1)),e},e.prototype.resolveTransition=function(e,t,r,n,i){var o,a,s=this;void 0===i&&(i=Yl);var c=e.configuration,u=!t||e.transitions.length>0,f=u?e.configuration:t?t.configuration:[],l=wp(f,this),p=u?yp(this.machine,c):void 0,d=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,h=this.getActions(new(ze())(f),l,e,r,i,t),v=t?$f({},t.activities):{};try{for(var m=Kf(h),g=m.next();!g.done;g=m.next()){var y=g.value;y.type===Xf?v[y.activity.id||y.activity.type]=y:y.type===Qf&&(v[y.activity.id||y.activity.type]=!1)}}catch(e){o={error:e}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}var b,w,_=Yf(sp(this,t,r,i,h,n,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),S=_[0],E=_[1],x=Yf(Pl(S,(function(e){return e.type===el||e.type===tl&&e.to===Gf.Internal})),2),R=x[0],T=x[1],k=S.filter((function(e){var t;return e.type===Xf&&(null===(t=e.activity)||void 0===t?void 0:t.type)===sl})),C=k.reduce((function(e,t){return e[t.activity.id]=function(e,t,r,n){var i,o=$l(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?Il(e.data,r,n):void 0,c=a?fp(a,e.id,s):up(e.id);return c.meta=e,c}(t.activity,s.machine,E,i),e}),t?$f({},t.children):{}),O=new Ep({value:p||t.value,context:E,_event:i,_sessionid:t?t._sessionid:null,historyValue:p?d?(b=d,w=p,{current:w,states:Ml(b,w)}):void 0:t?t.historyValue:void 0,history:!p||e.source?t:void 0,actions:p?T:[],activities:p?v:t?t.activities:{},events:[],configuration:f,transitions:e.transitions,children:C,done:l,tags:_p(f),machine:this}),A=r!==E;O.changed=i.name===ll||A;var I=O.history;I&&delete I.history;var L=!l&&(this._transient||c.some((function(e){return e._transient})));if(!(u||L&&i.name!==Zp))return O;var P=O;if(!l)for(L&&(P=this.resolveRaisedTransition(P,{type:nl},i,n));R.length;){var M=R.shift();P=this.resolveRaisedTransition(P,M._event,i,n)}var N=P.changed||(I?!!P.actions.length||A||(0,Ce.Z)(I.value)!==(0,Ce.Z)(P.value)||!Sp(P.value,I.value):void 0);return P.changed=N,P.history=I,P},e.prototype.getStateNode=function(e){if(zp(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=zp(e)?e.slice("#".length):e;if(t===this.id)return this;var r=this.machine.idMap[t];if(!r)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&zp(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=_l(e,this.delimiter).slice(),r=this;t.length;){var n=t.shift();if(!n.length)break;r=r.getStateNode(n)}return r},e.prototype.resolve=function(e){var t,r=this;if(!e)return this.initialStateValue||qp;switch(this.type){case"parallel":return xl(this.initialStateValue,(function(t,n){return t?r.getStateNode(n).resolve(e[n]||t):qp}));case"compound":if(Bl(e)){var n=this.getStateNode(e);return"parallel"===n.type||"compound"===n.type?((t={})[e]=n.initialStateValue,t):e}return N()(e).length?xl(e,(function(e,t){return e?r.getStateNode(t).resolve(e):qp})):this.initialStateValue||{};default:return e||qp}},e.prototype.getResolvedPath=function(e){if(zp(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return _l(e,this.delimiter)},Ae()(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=Rl(this.states,(function(e){return e.initialStateValue||qp}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=lp(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,entrySet:Jf([],Yf(r),!1),exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Ae()(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Ae()(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=Bl(t.target)&&zp(t.target)?El(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,r){return void 0===r&&(r=!0),r?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Ae()(e.prototype,"initialStateNodes",{get:function(){var e=this;return lp(this)?[this]:"compound"!==this.type||this.initial?Cl(kl(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):(yl||Dl(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Yf(e),r=t[0],n=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var i=this.getStateNode(r);if("history"===i.type)return i.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(n)},e.prototype.historyValue=function(e){if(N()(this.states).length)return{current:e||this.initialStateValue,states:Rl(this.states,(function(t,r){if(!e)return t.historyValue();var n=Bl(e)?void 0:e[r];return t.historyValue(n||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var r=this.parent;if(!e){var n=this.target;return n?Cl(kl(n).map((function(e){return r.getFromRelativePath(e)}))):r.initialStateNodes}var i,o,a=(i=r.path,o="states",function(e){var t,r,n=e;try{for(var a=Kf(i),s=a.next();!s.done;s=a.next()){var c=s.value;n=n[o][c]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n})(e).current;return Bl(a)?[r.getStateNode(a)]:Cl(kl(a).map((function(e){return"deep"===t.history?r.getFromRelativePath(e):[r.states[e[0]]]})))},Ae()(e.prototype,"stateIds",{get:function(){var e=this,t=Cl(N()(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Ae()(e.prototype,"events",{get:function(){var e,t,r,n;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new(ze())(this.ownEvents);if(i)try{for(var a=Kf(N()(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(r=void 0,Kf(c.events)),f=u.next();!f.done;f=u.next()){var l=f.value;o.add("".concat(l))}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=ve()(o)},enumerable:!1,configurable:!0}),Ae()(e.prototype,"ownEvents",{get:function(){var e=new(ze())(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return ve()(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!Bl(e))return e;var r=e[0]===t.delimiter;if(r&&!t.parent)return t.getStateNodeByPath(e.slice(1));var n=r?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(n);try{return t.parent.getStateNodeByPath(n)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,r=function(e){if(void 0!==e&&e!==gl)return Al(e)}(e.target),n="internal"in e?e.internal:!r||r.some((function(e){return Bl(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(r),a=$f($f({},e),{actions:Ql(Al(e.actions)),cond:Fl(e.cond,i),target:o,source:this,internal:n,eventType:e.event,toJSON:function(){return $f($f({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,r,n=this;if(this.config.on)if(_e()(this.config.on))r=this.config.on;else{var i=this.config.on,o=Vp,a=i[o],s=void 0===a?[]:a,c=Hf(i,["symbol"===(0,Ce.Z)(o)?o:"*"]);r=Cl(N()(c).map((function(e){yl||e!==Zp||Dl(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(n.id,'".'));var t=Wl(e,c[e]);return yl||function(e,t,r){var n=r.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(Bl(e.target)||Vl(e.target))})),i=t===Zp?"the transient event":"event '".concat(t,"'");Dl(!n,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(n,e,t),t})).concat(Wl(Vp,s)))}else r=[];var u=this.config.always?Wl("",this.config.always):[],f=this.config.onDone?Wl(String(ip(this.id)),this.config.onDone):[];yl||Dl(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var l=Cl(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,Jf([],Yf(Wl(String(op(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,Jf([],Yf(Wl(String(ap(e.id)),e.onError)),!1)),t}))),p=this.after,d=Cl(Jf(Jf(Jf(Jf([],Yf(f),!1),Yf(l),!1),Yf(r),!1),Yf(u),!1).map((function(e){return Al(e).map((function(e){return n.formatTransition(e)}))})));try{for(var h=Kf(p),v=h.next();!v.done;v=h.next()){var m=v.value;d.push(m)}}catch(t){e={error:t}}finally{try{v&&!v.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}return d},e}(),Gp=!1;var $p=function(e){return{type:il,assignment:e}};function Hp(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):Hp(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}var Yp=4294967294,Jp=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o,a,s){var c;(0,i.Z)(this,r),c=t.call(this),vt((0,$.Z)(c),"id",void 0),vt((0,$.Z)(c),"createLocalOfferCallback",void 0),vt((0,$.Z)(c),"handleRemoteOfferCallback",void 0),vt((0,$.Z)(c),"handleRemoteAnswerCallback",void 0),vt((0,$.Z)(c),"stateMachine",void 0),vt((0,$.Z)(c),"initiateOfferPromises",void 0),c.id=a||"ROAP",c.createLocalOfferCallback=e,c.handleRemoteOfferCallback=n,c.handleRemoteAnswerCallback=o,c.initiateOfferPromises=[];var u=function(e,t){return yl||e.predictableActionArguments||Gp||(Gp=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new Wp(e,t)}({tsTypes:{},schema:{context:{},events:{},services:{}},preserveActionOrder:!0,id:"roap",initial:"idle",context:{seq:s||0,pendingLocalOffer:!1,isHandlingOfferRequest:!1,retryCounter:0},states:{browserError:{onEntry:function(e,t){c.error("FSM","browserError state onEntry: context=".concat(j()(e),":"),t.data),c.emit(Lu.ROAP_FAILURE,t.data)}},remoteError:{onEntry:function(e,t){c.log("FSM","remoteError state onEntry called, emitting Event.ROAP_FAILURE"),c.emit(Lu.ROAP_FAILURE,t.data)}},idle:{always:{cond:"isPendingLocalOffer",actions:["increaseSeq","sendStartedEvent"],target:"creatingLocalOffer"},on:{INITIATE_OFFER:{actions:["increaseSeq","sendStartedEvent"],target:"creatingLocalOffer"},REMOTE_OFFER_ARRIVED:[{cond:"isSameSeq",actions:"sendOutOfOrderError"},{actions:["updateSeq","sendStartedEvent"],target:"settingRemoteOffer"}],REMOTE_OFFER_REQUEST_ARRIVED:[{cond:"isSameSeq",actions:"sendOutOfOrderError"},{actions:["updateSeq","setOfferRequestFlag","sendStartedEvent"],target:"creatingLocalOffer"}],REMOTE_ANSWER_ARRIVED:[{cond:"isSameSeq",actions:"ignoreDuplicate"},{actions:"sendInvalidStateError"}],REMOTE_OK_ARRIVED:{actions:"sendInvalidStateError"}}},creatingLocalOffer:{invoke:{src:"createLocalOffer",onDone:[{cond:"isPendingLocalOffer",target:"creatingLocalOffer"},{cond:"isHandlingOfferRequest",actions:["sendRoapOfferResponseMessage","resolvePendingInitiateOfferPromises"],target:"waitingForAnswer"},{actions:["sendRoapOfferMessage","resolvePendingInitiateOfferPromises"],target:"waitingForAnswer"}],onError:{actions:"rejectPendingInitiateOfferPromises",target:"browserError"}},onEntry:["resetPendingLocalOffer"],on:{INITIATE_OFFER:{actions:"enqueueNewOfferCreation"},REMOTE_OFFER_ARRIVED:[{actions:"handleGlare"}],REMOTE_OFFER_REQUEST_ARRIVED:[{cond:"isHandlingOfferRequest",actions:"ignoreDuplicate"},{actions:"handleGlare"}],REMOTE_ANSWER_ARRIVED:{actions:"sendInvalidStateError"},REMOTE_OK_ARRIVED:{actions:"sendInvalidStateError"}}},waitingForAnswer:{on:{REMOTE_ANSWER_ARRIVED:[{actions:["resetRetryCounter","updateSeq"],target:"settingRemoteAnswer"}],INITIATE_OFFER:{actions:"enqueueNewOfferCreation"},REMOTE_OFFER_ARRIVED:{actions:"handleGlare"},REMOTE_OFFER_REQUEST_ARRIVED:[{cond:"isHandlingOfferRequest",actions:"ignoreDuplicate"},{actions:"handleGlare"}],REMOTE_OK_ARRIVED:{actions:"sendInvalidStateError"},ERROR_ARRIVED:[{cond:"shouldErrorTriggerOfferRetry",actions:["increaseSeq","increaseRetryCounter"],target:"creatingLocalOffer"},{cond:"isSameSeq",target:"remoteError"}]}},settingRemoteAnswer:{invoke:{src:"handleRemoteAnswer",onDone:{actions:["sendRoapOKMessage","resetOfferRequestFlag","sendDoneEvent"],target:"idle"},onError:{actions:"sendGenericError",target:"browserError"}},on:{INITIATE_OFFER:{actions:"enqueueNewOfferCreation"},REMOTE_OFFER_ARRIVED:{actions:"sendInvalidStateError"},REMOTE_OFFER_REQUEST_ARRIVED:{actions:"sendInvalidStateError"},REMOTE_ANSWER_ARRIVED:[{cond:"isSameSeq",actions:"ignoreDuplicate"},{actions:"sendInvalidStateError"}],REMOTE_OK_ARRIVED:{actions:"sendInvalidStateError"}}},settingRemoteOffer:{invoke:{src:"handleRemoteOffer",onDone:{actions:["sendRoapAnswerMessage"],target:"waitingForOK"},onError:{actions:"sendGenericError",target:"browserError"}},on:{INITIATE_OFFER:{actions:"enqueueNewOfferCreation"},REMOTE_OFFER_ARRIVED:[{cond:"isSameSeq",actions:"ignoreDuplicate"},{actions:"sendRetryAfterError"}],REMOTE_OFFER_REQUEST_ARRIVED:{actions:"sendInvalidStateError"},REMOTE_ANSWER_ARRIVED:{actions:"sendInvalidStateError"},REMOTE_OK_ARRIVED:{actions:"sendInvalidStateError"}}},waitingForOK:{on:{REMOTE_OK_ARRIVED:[{actions:["updateSeq","sendDoneEvent"],target:"idle"}],INITIATE_OFFER:{actions:"enqueueNewOfferCreation"},REMOTE_OFFER_ARRIVED:[{cond:"isSameSeq",actions:"ignoreDuplicate"},{actions:"sendInvalidStateError"}],REMOTE_OFFER_REQUEST_ARRIVED:{actions:"sendInvalidStateError"},REMOTE_ANSWER_ARRIVED:{actions:"sendInvalidStateError"},ERROR_ARRIVED:{cond:"isSameSeq",target:"remoteError"}}}}},{services:{createLocalOffer:function(){return c.createLocalOfferCallback()},handleRemoteAnswer:function(e,t){return c.handleRemoteAnswerCallback(t.sdp)},handleRemoteOffer:function(e,t){return c.handleRemoteOfferCallback(t.sdp)}},actions:{enqueueNewOfferCreation:$p((function(e){return Kp(Kp({},e),{},{pendingLocalOffer:!0})})),resetPendingLocalOffer:$p((function(e){return Kp(Kp({},e),{},{pendingLocalOffer:!1})})),increaseSeq:$p((function(e){return Kp(Kp({},e),{},{seq:e.seq+1})})),updateSeq:$p((function(e,t){return Kp(Kp({},e),{},{seq:t.seq})})),increaseRetryCounter:$p((function(e){return Kp(Kp({},e),{},{retryCounter:e.retryCounter+1})})),resetRetryCounter:$p((function(e){return Kp(Kp({},e),{},{retryCounter:0})})),setOfferRequestFlag:$p((function(e){return Kp(Kp({},e),{},{isHandlingOfferRequest:!0})})),resetOfferRequestFlag:$p((function(e){return Kp(Kp({},e),{},{isHandlingOfferRequest:!1})})),handleGlare:function(e,t){t.tieBreaker===Yp?c.sendErrorMessage(t.seq,Mu.DOUBLECONFLICT):c.sendErrorMessage(t.seq,Mu.CONFLICT)},sendRoapOfferMessage:function(e,t){return c.sendRoapOfferMessage(e.seq,t.data.sdp)},sendRoapOfferResponseMessage:function(e,t){return c.sendRoapOfferResponseMessage(e.seq,t.data.sdp)},sendRoapOKMessage:function(e){return c.sendRoapOkMessage(e.seq)},sendRoapAnswerMessage:function(e,t){return c.sendRoapAnswerMessage(e.seq,t.data.sdp)},sendStartedEvent:function(){return c.sendStartedEvent()},sendDoneEvent:function(){return c.sendDoneEvent()},sendGenericError:function(e){return c.sendErrorMessage(e.seq,Mu.FAILED)},sendInvalidStateError:function(e,t){return c.sendErrorMessage(t.seq,Mu.INVALID_STATE)},sendOutOfOrderError:function(e,t){return c.sendErrorMessage(t.seq,Mu.OUT_OF_ORDER)},sendRetryAfterError:function(e,t){return c.sendErrorMessage(t.seq,Mu.FAILED,{retryAfter:Math.floor(11*Math.random())})},ignoreDuplicate:function(e,t){return c.log("FSM","ignoring duplicate roap message ".concat(t.type," with seq=").concat(t.seq))},resolvePendingInitiateOfferPromises:function(){return c.resolvePendingInitiateOfferPromises()},rejectPendingInitiateOfferPromises:function(e,t){return c.rejectPendingInitiateOfferPromises(t.data)}},guards:{isPendingLocalOffer:function(e){return e.pendingLocalOffer},isHandlingOfferRequest:function(e){return e.isHandlingOfferRequest},isSameSeq:function(e,t){return t.seq===e.seq&&(c.log("FSM","incoming roap message seq is same as current context seq: ".concat(t.seq)),!0)},shouldErrorTriggerOfferRetry:function(e,t){if([Mu.DOUBLECONFLICT,Mu.INVALID_STATE,Mu.OUT_OF_ORDER,Mu.RETRY].includes(t.errorType)){if(t.seq===e.seq&&e.retryCounter<2)return c.log("FSM","retryable error message received with matching seq and retryCounter ".concat(e.retryCounter," < ").concat(2)),!0;t.seq!==e.seq?c.log("FSM","ignoring error message with wrong seq: ".concat(t.seq," !== ").concat(e.seq)):c.log("FSM","reached max retries: retryCounter=".concat(e.retryCounter))}return!1}}});return c.stateMachine=Up(u).onTransition((function(e,t){return c.log("onTransition","state=".concat(e.value,", event=").concat(j()(t)))})).start(),c}return(0,o.Z)(r,[{key:"log",value:function(e,t){an().info("".concat(this.id,":").concat(e," ").concat(t))}},{key:"error",value:function(e,t,r){an().error("".concat(this.id,":").concat(e," ").concat(t," ").concat(sn(r)))}},{key:"sendRoapOfferMessage",value:function(e,t){this.log("sendRoapOfferMessage","emitting ROAP OFFER"),this.emit(Lu.ROAP_MESSAGE_TO_SEND,{roapMessage:{seq:e,messageType:"OFFER",sdp:t,tieBreaker:Yp}})}},{key:"sendRoapOfferResponseMessage",value:function(e,t){this.log("sendRoapOfferResponseMessage","emitting ROAP OFFER RESPONSE"),this.emit(Lu.ROAP_MESSAGE_TO_SEND,{roapMessage:{seq:e,messageType:"OFFER_RESPONSE",sdp:t}})}},{key:"sendRoapOkMessage",value:function(e){this.log("sendRoapOkMessage","emitting ROAP OK"),this.emit(Lu.ROAP_MESSAGE_TO_SEND,{roapMessage:{seq:e,messageType:"OK"}})}},{key:"sendRoapAnswerMessage",value:function(e,t){this.log("sendRoapAnswerMessage","emitting ROAP ANSWER"),this.emit(Lu.ROAP_MESSAGE_TO_SEND,{roapMessage:{seq:e,messageType:"ANSWER",sdp:t}})}},{key:"sendDoneEvent",value:function(){this.log("sendDoneEvent","emitting ROAP DONE"),this.emit(Lu.ROAP_DONE)}},{key:"sendStartedEvent",value:function(){this.log("sendStartedEvent","emitting ROAP STARTED"),this.emit(Lu.ROAP_STARTED)}},{key:"sendErrorMessage",value:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).retryAfter;this.log("sendErrorMessage","emitting ROAP ERROR (".concat(t,")")),this.emit(Lu.ROAP_MESSAGE_TO_SEND,{roapMessage:{seq:e,messageType:"ERROR",errorType:t,retryAfter:r}})}},{key:"getStateMachine",value:function(){return this.stateMachine}},{key:"initiateOffer",value:function(){var e=this;return new(B())((function(t,r){e.initiateOfferPromises.push({resolve:t,reject:r}),e.stateMachine.send("INITIATE_OFFER")}))}},{key:"resolvePendingInitiateOfferPromises",value:function(){for(;this.initiateOfferPromises.length>0;){var e=this.initiateOfferPromises.shift();null==e||e.resolve()}}},{key:"rejectPendingInitiateOfferPromises",value:function(e){for(;this.initiateOfferPromises.length>0;){var t=this.initiateOfferPromises.shift();null==t||t.reject(e)}}},{key:"validateIncomingRoapMessage",value:function(e){var t,r=e.errorType,n=e.messageType,i=e.seq,o=!0;return i<this.stateMachine.state.context.seq&&(o=!1,"ERROR"!==n?(t=Mu.OUT_OF_ORDER,this.error("validateIncomingRoapMessage","received roap message ".concat(n," with seq too low: ").concat(i," < ").concat(this.stateMachine.state.context.seq))):this.error("validateIncomingRoapMessage","received ERROR message ".concat(r," with seq too low: ").concat(i," < ").concat(this.stateMachine.state.context.seq,", ignoring it"))),{isValid:o,errorToSend:t}}},{key:"roapMessageReceived",value:function(e){var t=e.errorCause,r=e.errorType,n=e.messageType,i=e.sdp,o=e.seq,a=e.tieBreaker,s=this.validateIncomingRoapMessage(e),c=s.isValid,u=s.errorToSend;if(c)switch(n){case"ANSWER":this.stateMachine.send("REMOTE_ANSWER_ARRIVED",{sdp:i,seq:o});break;case"OFFER":this.stateMachine.send("REMOTE_OFFER_ARRIVED",{sdp:i,seq:o,tieBreaker:a});break;case"OFFER_REQUEST":this.stateMachine.send("REMOTE_OFFER_REQUEST_ARRIVED",{seq:o,tieBreaker:a});break;case"OK":this.stateMachine.send("REMOTE_OK_ARRIVED",{sdp:i,seq:o});break;case"ERROR":this.error("roapMessageReceived","Error received: seq=".concat(o," type=").concat(r," cause=").concat(t)),r===Mu.CONFLICT&&this.error("roapMessageReceived","CONFLICT error type received - this should never happen, because we use the tieBreaker value ".concat(Yp)),this.stateMachine.send("ERROR_ARRIVED",{seq:o,errorType:r});break;case"OFFER_RESPONSE":this.error("roapMessageReceived","Received unexpected OFFER_RESPONSE: seq=".concat(o));break;default:throw this.error("roapMessageReceived()","unsupported messageType: ".concat(n)),new Error("unhandled messageType")}else u&&this.sendErrorMessage(o,u)}},{key:"stop",value:function(){this.stateMachine.stop()}},{key:"getSeq",value:function(){return this.stateMachine.state.context.seq}}]),r}(tn);function Xp(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):Xp(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}var ed=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n,o){var a;return(0,i.Z)(this,r),a=t.call(this),vt((0,$.Z)(a),"id",void 0),vt((0,$.Z)(a),"debugId",void 0),vt((0,$.Z)(a),"mediaConnection",void 0),vt((0,$.Z)(a),"roap",void 0),vt((0,$.Z)(a),"sdpNegotiationStarted",void 0),a.debugId=o,a.id=o||"RoapMediaConnection",a.sdpNegotiationStarted=!1,a.log("constructor()","config: ".concat(j()(e),", options: ").concat(j()(n))),a.mediaConnection=a.createMediaConnection(e,n,o),a.roap=a.createRoap(o),a}return(0,o.Z)(r,[{key:"log",value:function(e,t){an().info("".concat(this.id,":").concat(e," ").concat(t))}},{key:"error",value:function(e,t,r){an().error("".concat(this.id,":").concat(e," ").concat(t," ").concat(sn(r)))}},{key:"createMediaConnection",value:function(e,t,r){var n=new Fu(e,t,r);return n.on(Lu.REMOTE_TRACK_ADDED,this.onRemoteTrack.bind(this)),n.on(Lu.CONNECTION_STATE_CHANGED,this.onConnectionStateChanged.bind(this)),n.on(Lu.DTMF_TONE_CHANGED,this.onDtmfToneChanged.bind(this)),n}},{key:"createRoap",value:function(e,t){var r=this,n=new Jp(this.createLocalOffer.bind(this),this.handleRemoteOffer.bind(this),this.handleRemoteAnswer.bind(this),e,t);return n.on(Lu.ROAP_MESSAGE_TO_SEND,(function(e){return r.emit(Lu.ROAP_MESSAGE_TO_SEND,e)})),n.on(Lu.ROAP_STARTED,(function(){return r.emit(Lu.ROAP_STARTED)})),n.on(Lu.ROAP_DONE,(function(){return r.emit(Lu.ROAP_DONE)})),n.on(Lu.ROAP_FAILURE,(function(e){return r.emit(Lu.ROAP_FAILURE,e)})),n}},{key:"initiateOffer",value:function(){return this.log("initiateOffer()","called"),this.sdpNegotiationStarted?(this.error("initiateOffer()","SDP negotiation already started"),B().reject(new Error("SDP negotiation already started"))):(this.mediaConnection.initializeTransceivers(!1),this.sdpNegotiationStarted=!0,this.roap.initiateOffer())}},{key:"close",value:function(){this.log("close()","called"),this.closeMediaConnection(),this.stopRoapSession()}},{key:"closeMediaConnection",value:function(){this.mediaConnection.close(),this.mediaConnection.removeAllListeners()}},{key:"stopRoapSession",value:function(){this.roap.stop(),this.roap.removeAllListeners()}},{key:"reconnect",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.log("reconnect()","iceServers: ".concat(j()(e)));var r=Qp(Qp({},this.mediaConnection.getConfig()),{},{iceServers:e}),n=this.mediaConnection.getSendReceiveOptions(),i=this.roap.getSeq();return this.stopRoapSession(),this.closeMediaConnection(),this.sdpNegotiationStarted=!1,this.mediaConnection=this.createMediaConnection(r,n,this.debugId),this.roap=this.createRoap(this.debugId,i),t?this.initiateOffer():B().resolve()}},{key:"updateSendOptions",value:function(e){return this.log("updateSendOptions()","called with ".concat(j()(e))),this.mediaConnection.updateSendOptions(e)?(this.log("updateSendOptions()","triggering offer..."),this.roap.initiateOffer()):B().resolve()}},{key:"updateReceiveOptions",value:function(e){return this.log("updateReceiveOptions()","called with ".concat(j()(e))),this.mediaConnection.updateReceiveOptions(e)?(this.log("updateReceiveOptions()","triggering offer..."),this.roap.initiateOffer()):B().resolve()}},{key:"updateSendReceiveOptions",value:function(e){return this.log("updateSendReceiveOptions()","called with ".concat(j()(e))),this.mediaConnection.updateSendReceiveOptions(e)?(this.log("updateSendReceiveOptions()","triggering offer..."),this.roap.initiateOffer()):B().resolve()}},{key:"getConnectionState",value:function(){return this.mediaConnection.getConnectionState()}},{key:"getStats",value:function(){return this.mediaConnection.getStats()}},{key:"getTransceiverStats",value:function(){return this.mediaConnection.getTransceiverStats()}},{key:"insertDTMF",value:function(e,t,r){this.log("insertDTMF()",'called with tones="'.concat(e,'", duration=').concat(t,", interToneGap=").concat(r)),this.mediaConnection.insertDTMF(e,t,r)}},{key:"roapMessageReceived",value:function(e){this.log("roapMessageReceived()","called with messageType=".concat(e.messageType,", seq=").concat(e.seq)),this.sdpNegotiationStarted||("OFFER"===e.messageType&&(this.sdpNegotiationStarted=!0,this.mediaConnection.initializeTransceivers(!0)),"OFFER_REQUEST"===e.messageType&&(this.sdpNegotiationStarted=!0,this.mediaConnection.initializeTransceivers(!1))),this.roap.roapMessageReceived(e)}},{key:"onRemoteTrack",value:function(e){this.emit(Lu.REMOTE_TRACK_ADDED,e)}},{key:"onConnectionStateChanged",value:function(e){this.emit(Lu.CONNECTION_STATE_CHANGED,e)}},{key:"onDtmfToneChanged",value:function(e){this.emit(Lu.DTMF_TONE_CHANGED,e)}},{key:"createLocalOffer",value:function(){return this.mediaConnection.createLocalOffer()}},{key:"handleRemoteOffer",value:function(e){return this.mediaConnection.handleRemoteOffer(e)}},{key:"handleRemoteAnswer",value:function(e){return this.mediaConnection.handleRemoteAnswer(e)}}]),r}(tn),td="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Et?Et:"undefined"!=typeof self?self:{},rd={exports:{}};!function(e){!function(t){var r,n={};n.VERSION="1.6.1";var i={},o=function(e,t){return function(){return t.apply(e,arguments)}},a=function(){var e,t,r=arguments,n=r[0];for(t=1;t<r.length;t++)for(e in r[t])!(e in n)&&r[t].hasOwnProperty(e)&&(n[e]=r[t][e]);return n},s=function(e,t){return{value:e,name:t}};n.TRACE=s(1,"TRACE"),n.DEBUG=s(2,"DEBUG"),n.INFO=s(3,"INFO"),n.TIME=s(4,"TIME"),n.WARN=s(5,"WARN"),n.ERROR=s(8,"ERROR"),n.OFF=s(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(n.TRACE,arguments)},debug:function(){this.invoke(n.DEBUG,arguments)},info:function(){this.invoke(n.INFO,arguments)},warn:function(){this.invoke(n.WARN,arguments)},error:function(){this.invoke(n.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"end"])},invoke:function(e,t){r&&this.enabledFor(e)&&r(t,a({level:e},this.context))}};var u,f=new c({filterLevel:n.OFF});(u=n).enabledFor=o(f,f.enabledFor),u.trace=o(f,f.trace),u.debug=o(f,f.debug),u.time=o(f,f.time),u.timeEnd=o(f,f.timeEnd),u.info=o(f,f.info),u.warn=o(f,f.warn),u.error=o(f,f.error),u.log=u.info,n.setHandler=function(e){r=e},n.setLevel=function(e){for(var t in f.setLevel(e),i)i.hasOwnProperty(t)&&i[t].setLevel(e)},n.getLevel=function(){return f.getLevel()},n.get=function(e){return i[e]||(i[e]=new c(a({name:e},f.context)))},n.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},r=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,o){i=Array.prototype.slice.call(i);var a,s=console.log;o.level===n.TIME?(a=(o.name?"["+o.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):r(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(o.level===n.WARN&&console.warn?s=console.warn:o.level===n.ERROR&&console.error?s=console.error:o.level===n.INFO&&console.info?s=console.info:o.level===n.DEBUG&&console.debug?s=console.debug:o.level===n.TRACE&&console.trace&&(s=console.trace),e.formatter(i,o),r(s,i))}},n.useDefaults=function(e){n.setLevel(e&&e.defaultLevel||n.DEBUG),n.setHandler(n.createDefaultHandler(e))},n.setDefaults=n.useDefaults,e.exports?e.exports=n:(n._prevLogger=t.Logger,n.noConflict=function(){return t.Logger=n._prevLogger,n},t.Logger=n)}(td)}(rd);var nd=rd.exports;nd.useDefaults({defaultLevel:nd.DEBUG,formatter:function(e,t){e.unshift("[".concat(t.name,"] "))}});var id,od,ad=function(){function e(t,r,n,o){(0,i.Z)(this,e),this.priority=t,this.crossPriorityDuplication=r,this.crossPolicyDuplication=n,this.preferLiveVideo=o}return(0,o.Z)(e,[{key:"toString",value:function(){return"ActiveSpeakerInfo(priority=".concat(this.priority,", crossPriorityDuplication=").concat(this.crossPriorityDuplication,", crossPolicyDuplication=").concat(this.crossPolicyDuplication,", preferLiveVideo=").concat(this.preferLiveVideo,")")}}]),e}();!function(e){e.Multistream="multistream"}(id||(id={})),function(e){e.Scr="scr",e.ScrAck="scrAck",e.ActiveSpeakerNotification="activeSpeakerNotification",e.SourceIndication="sourceIndication",e.SourceIndicationAck="sourceIndicationAck"}(od||(od={}));var sd,cd,ud,fd,ld,pd=(0,o.Z)((function e(t,r){(0,i.Z)(this,e),this.payloadType=t,this.h264=r})),dd=(0,o.Z)((function e(t,r,n,o,a){(0,i.Z)(this,e),this.maxFs=t,this.maxFps=r,this.maxMbps=n,this.maxWidth=o,this.maxHeight=a})),hd=function(){function e(t){(0,i.Z)(this,e),this.csi=t}return(0,o.Z)(e,[{key:"toString",value:function(){return"ReceiverSelectedInfo(csi=".concat(this.csi,")")}}]),e}();function vd(e){return[fd.VideoMain,fd.VideoSlides].includes(e)?sd.Video:sd.Audio}function md(e,t){var r=N()(e);if(Ge()){var n=Ge()(e);t&&(n=n.filter((function(t){return Te()(e,t).enumerable}))),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?md(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):He()?Ye()(e,He()(r)):md(Object(r)).forEach((function(t){Ae()(e,t,Te()(r,t))}))}return e}!function(e){e.Audio="AUDIO",e.Video="VIDEO"}(sd||(sd={})),function(e){e.Main="MAIN",e.Slides="SLIDES"}(cd||(cd={})),function(e){e.ActiveSpeaker="active-speaker",e.ReceiverSelected="receiver-selected"}(ud||(ud={})),function(e){e.VideoMain="VIDEO-MAIN",e.VideoSlides="VIDEO-SLIDES",e.AudioMain="AUDIO-MAIN",e.AudioSlides="AUDIO-SLIDES"}(fd||(fd={})),function(e){e.SourceIndication="source-indication",e.ActiveSpeaker="active-speaker",e.ScrRequestReceived="scr-request-received"}(ld||(ld={}));var yd=function(e){(0,H.Z)(r,e);var t=_t(r);function r(e,n){var o;return(0,i.Z)(this,r),o=t.call(this),vt((0,$.Z)(o),"id",void 0),vt((0,$.Z)(o),"debugId",void 0),vt((0,$.Z)(o),"multistreamConnection",void 0),vt((0,$.Z)(o),"roap",void 0),vt((0,$.Z)(o),"sdpNegotiationStarted",!1),o.debugId=n,o.id=n||"MultistreamRoapMediaConnection",o.configureWcmeLogger(n),o.log("constructor()","config: ".concat(j()(e))),o.multistreamConnection=o.createMultistreamConnection(e),o.roap=o.createRoap(n),o}return(0,o.Z)(r,[{key:"configureWcmeLogger",value:function(e){var t,r=an();t=function(t,n){var i=ve()(t).map((function(e){return"object"===(0,Ce.Z)(e)?j()(e):e}));switch(i.unshift("".concat(e||"",":[").concat(n.name,"]")),n.level.name){case"TRACE":r.trace.apply(r,(0,fe.Z)(i));break;case"DEBUG":r.debug.apply(r,(0,fe.Z)(i));break;case"INFO":r.info.apply(r,(0,fe.Z)(i));break;case"WARN":r.warn.apply(r,(0,fe.Z)(i));break;case"ERROR":r.error.apply(r,(0,fe.Z)(i))}},Cu.setHandler(t),Ea.setHandler(t)}},{key:"log",value:function(e,t){an().info("".concat(this.id,":").concat(e," ").concat(t))}},{key:"error",value:function(e,t,r){an().error("".concat(this.id,":").concat(e," ").concat(t," ").concat(sn(r)))}},{key:"createMultistreamConnection",value:function(e){var t=this;this.log("createMultistreamConnection()","creating MultistreamConnection with floorControlledPresentation: true");var r=new Du(gd(gd({},e),{},{floorControlledPresentation:!0}));return r.on(ku.ActiveSpeakerNotification,(function(e){t.emit(Lu.ACTIVE_SPEAKERS_CHANGED,{csis:e.csis})})),r.on(ku.AudioSourceCountUpdate,(function(e,r,n){t.emit(Lu.AUDIO_SOURCES_COUNT_CHANGED,e,r,n)})),r.on(ku.VideoSourceCountUpdate,(function(e,r,n){t.emit(Lu.VIDEO_SOURCES_COUNT_CHANGED,e,r,n)})),r.on(ku.ConnectionStateUpdate,(function(e){t.emit(Lu.CONNECTION_STATE_CHANGED,{state:e})})),r}},{key:"createRoap",value:function(e,t){var r=this,n=new Jp(this.createLocalOffer.bind(this),this.handleRemoteOffer.bind(this),this.handleRemoteAnswer.bind(this),e,t);return n.on(Lu.ROAP_MESSAGE_TO_SEND,(function(e){return r.emit(Lu.ROAP_MESSAGE_TO_SEND,e)})),n.on(Lu.ROAP_STARTED,(function(){return r.emit(Lu.ROAP_STARTED)})),n.on(Lu.ROAP_DONE,(function(){return r.emit(Lu.ROAP_DONE)})),n.on(Lu.ROAP_FAILURE,(function(e){return r.emit(Lu.ROAP_FAILURE,e)})),n}},{key:"initiateOffer",value:function(){return this.log("initiateOffer()","called"),this.sdpNegotiationStarted?(this.error("initiateOffer()","SDP negotiation already started"),B().reject(new Error("SDP negotiation already started"))):(this.sdpNegotiationStarted=!0,this.roap.initiateOffer())}},{key:"close",value:function(){this.log("close()","called"),this.closeMediaConnection(),this.stopRoapSession()}},{key:"closeMediaConnection",value:function(){this.multistreamConnection.close(),this.multistreamConnection.removeAllListeners()}},{key:"stopRoapSession",value:function(){this.roap.stop(),this.roap.removeAllListeners()}},{key:"reconnect",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.log("reconnect()","iceServers: ".concat(j()(e)));var r=this.roap.getSeq();return this.stopRoapSession(),this.sdpNegotiationStarted=!1,this.multistreamConnection.renewPeerConnection({iceServers:e}),this.roap=this.createRoap(this.debugId,r),t?this.initiateOffer():B().resolve()}},{key:"getConnectionState",value:function(){var e=this.multistreamConnection.getConnectionState();return this.log("getConnectionState()","called, returning ".concat(e)),e}},{key:"getStats",value:function(){return this.multistreamConnection.getStats()}},{key:"getTransceiverStats",value:function(){return this.multistreamConnection.getTransceiverStats()}},{key:"roapMessageReceived",value:function(e){if(this.log("roapMessageReceived()","called with messageType=".concat(e.messageType,", seq=").concat(e.seq)),!this.sdpNegotiationStarted&&"OFFER"===e.messageType)throw new Error("incoming first offer is not supported by MultistreamRoapMediaConnection");this.roap.roapMessageReceived(e)}},{key:"enableMultistreamAudio",value:function(e){return this.log("enableMultistreamAudio()","called"),this.multistreamConnection.enableMultistreamAudio(e)?this.roap.initiateOffer():B().resolve()}},{key:"publishTrack",value:function(e){return this.log("publishTrack()","called"),this.multistreamConnection.publishTrack(e)}},{key:"unpublishTrack",value:function(e){return this.log("unpublishTrack()","called"),this.multistreamConnection.unpublishTrack(e)}},{key:"createReceiveSlot",value:function(e){return this.log("createReceiveSlot()","called"),this.multistreamConnection.createReceiveSlot(e)}},{key:"requestMedia",value:function(e,t){return this.log("requestMedia()","called"),this.multistreamConnection.requestMedia(e,t)}},{key:"createLocalOffer",value:function(){return this.multistreamConnection.createOffer().then((function(e){return e.sdp?{sdp:e.sdp}:B().reject(new Yr("empty local SDP"))})).catch((function(e){throw new Yr("createLocalOffer() failure: ".concat(e.message),{cause:e})}))}},{key:"handleRemoteOffer",value:function(){return B().reject(new Qr("remote offers not supported by WCME"))}},{key:"handleRemoteAnswer",value:function(e){if(e){var t=pi({},e);return t=t.replace(/\r\nb=TIAS:.*\r\n/g,"\r\n"),this.multistreamConnection.setAnswer(t).catch((function(e){throw new Hr("handleRemoteAnswer() failure: ".concat(e.message),{cause:e})}))}return B().reject(new Hr("empty answer"))}}]),r}(cr),bd=en;function wd(){var e=!1;return nr.info({mediaType:Jt,action:"isBrowserSupported()",description:"Checking is current browser supported by webrtc"}),(Kt.exports.browser.isChrome||Kt.exports.browser.isFirefox||Kt.exports.browser.isSafari||Kt.exports.browser.isEdge)&&Kt.exports.isWebRTCSupported&&(e=!0),e}var _d={createAudioTrack:function(e){return Ar.apply(this,arguments)},createVideoTrack:function(e){return Ir.apply(this,arguments)},createContentTrack:function(e){return Lr.apply(this,arguments)},getCameras:Tr,getMicrophones:kr,getSpeakers:Cr,on:function(e,t){return Nr.apply(this,arguments)},off:function(e,t){nr.debug({mediaType:Jt,action:"off()",description:"Called ".concat(e," with ").concat(t," listener")}),Er.off(e,t)},Effects:{BNR:{enableBNR:function(e){return Zr.apply(this,arguments)},disableBNR:function(){nr.debug({mediaType:Qt,action:"disableBNR()",description:"Called"});try{if(nr.info({mediaType:Qt,action:"disableBNR()",description:"Checking if BNR is enabled before disabling"}),!jr.isModuleAdded){var e=new Error("Can not disable as BNR is not enabled");throw nr.error({mediaType:Qt,action:"disableBNR()",description:"Can not disable as BNR is not enabled"}),e}nr.info({mediaType:Qt,action:"disableBNR()",description:"Using existing AudioWorkletNode for disabling BNR"}),jr.workletNode.port.postMessage("DISPOSE"),nr.info({mediaType:Qt,action:"disableBNR()",description:"Obtaining raw media stream track and removing bnr context"});var t=jr.sourceNode.mediaStream,r=null==t?void 0:t.getAudioTracks(),n=(0,le.Z)(r,1)[0];return jr.isModuleAdded=!1,delete jr.workletNode,delete jr.audioContext,delete jr.sourceNode,delete jr.destinationStream,delete jr.destinationTrack,n}catch(e){throw nr.error({mediaType:Qt,action:"disableBNR()",description:"Error in disableBNR",error:e}),e}}}},isBrowserSupported:wd};new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked"),new Error("request for lock canceled");var Sd=__webpack_require__(17187);function Ed(e){var t=function(){if("undefined"==typeof Reflect||!G())return!1;if(G().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(G()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,Y.Z)(e);if(t){var i=(0,Y.Z)(this).constructor;r=G()(n,arguments,i)}else r=n.apply(this,arguments);return(0,K.Z)(this,r)}}__webpack_require__.n(Sd)(),new Uint8Array(16);for(var xd=[],Rd=0;Rd<256;++Rd)xd.push((Rd+256).toString(16).substr(1));var Td,kd,Cd,Od,Ad,Id,Ld,Pd;!function(e){e.CALL_SETUP="mobius.call",e.CALL_PROGRESS="mobius.callprogress",e.CALL_CONNECTED="mobius.callconnected",e.CALL_MEDIA="mobius.media",e.CALL_DISCONNECTED="mobius.calldisconnected"}(Td||(Td={})),function(e){e.OFFER="OFFER",e.ANSWER="ANSWER",e.OFFER_REQUEST="OFFER_REQUEST",e.OK="OK",e.ERROR="ERROR"}(kd||(kd={})),function(e){e[e.BUSY=115]="BUSY",e[e.NORMAL=0]="NORMAL",e[e.MEDIA_INACTIVITY=131]="MEDIA_INACTIVITY"}(Cd||(Cd={})),function(e){e.BUSY="User Busy.",e.NORMAL="Normal Disconnect.",e.MEDIA_INACTIVITY="Media Inactivity."}(Od||(Od={})),function(e){e.CALL_INFO="callInfo",e.CALL_STATE="callState"}(Ad||(Ad={})),function(e){e.ANSWER="ANSWER",e.OK="OK",e.OFFER="OFFER",e.ERROR="ERROR",e.OFFER_RESPONSE="OFFER_RESPONSE"}(Id||(Id={})),function(e){e.PROCEEDING="sig_proceeding",e.PROGRESS="sig_progress",e.ALERTING="sig_alerting",e.CONNECTED="sig_connected"}(Ld||(Ld={})),function(e){e.BLIND="BLIND",e.CONSULT="CONSULT"}(Pd||(Pd={}));var Md,Nd=!0;var Dd=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();(Md={})[Dd]=function(){return this},Md[Symbol.observable]=function(){return this};var jd,Ud;!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(jd||(jd={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(Ud||(Ud={}));jd.Start,jd.Stop,jd.Raise,jd.Send,jd.Cancel,jd.NullEvent,jd.Assign,jd.After,jd.DoneState,jd.Log,jd.Init,jd.Invoke,jd.ErrorExecution,jd.ErrorPlatform,jd.ErrorCustom,jd.Update,jd.Choose,jd.Pure;var Bd;!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Bd||(Bd={}));__webpack_require__(25026);var Fd=__webpack_require__(82492),Zd=__webpack_require__(21105).ZP,Vd=__webpack_require__(90579),qd=Zd.extend({webex:!0}),zd=function(){function e(t){var r=t.webex,n=t.options;(0,i.Z)(this,e),r&&(this.webex=r),n.config=Fd({},Vd,n.config),this.webex=new qd({options:n})}return(0,o.Z)(e,[{key:"createClient",value:function(){return(0,t.createClient)(this.webex,Vd)}},{key:"createCallHistoryClient",value:function(){return(0,t.createCallHistoryClient)(this.webex,this.logger)}},{key:"createVoicemailClient",value:function(){return(0,t.createVoicemailClient)(this.webex,this.logger)}},{key:"createContactsClient",value:function(){return(0,t.createContactsClient)(this.webex,this.logger)}},{key:"createCallSettingsClient",value:function(){return(0,t.createCallSettingsClient)(this.webex,this.logger)}}]),e}()})(),__webpack_exports__})()));
//# sourceMappingURL=calling.min.js.map